Return-Path: <linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org>
X-Original-To: lists+linux-arm-kernel@lfdr.de
Delivered-To: lists+linux-arm-kernel@lfdr.de
Received: from bombadil.infradead.org (bombadil.infradead.org [IPv6:2607:7c80:54:e::133])
	by mail.lfdr.de (Postfix) with ESMTPS id DFDC4E264A
	for <lists+linux-arm-kernel@lfdr.de>; Thu, 24 Oct 2019 00:15:39 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.infradead.org; s=bombadil.20170209; h=Sender:
	Content-Transfer-Encoding:Content-Type:Cc:List-Subscribe:List-Help:List-Post:
	List-Archive:List-Unsubscribe:List-Id:MIME-Version:References:In-Reply-To:
	Message-Id:Date:Subject:To:From:Reply-To:Content-ID:Content-Description:
	Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:
	List-Owner; bh=bIsbe1x90B0dQXa2IBQnMaOpqgSEfji6mtkPg/QdXlU=; b=sXdPtxUHgqDxp/
	2rDtwWDibTTL/pYUxChQV9vnFGXX3BclY7qZovS0SrpAxY7yjljWgwwL8uOkoGqbQIWQGPrORzl/r
	dYRfd8EOhzReB0q7UVi4L5nZjTLRonMr2tfIpf6Qm+vJVx79rf7h1LOYfxsxoZnlvIn10XkZspNmP
	vMERSdZbBNS3VArv3z63F3oQUGYzgPyF8TOHTBRryOe/0pNgRH2Xifh1bZz3F41SQZyj20zkD0Tbx
	Ds8X/8278CgetAHNf4jSBZZZ30BeWVg2bXmt0auqFcAB0NR9vv0PCgYN80IQ4r/h+P14Kn5Aq6yNu
	JJNoHzQdb2TTu+MvE4vg==;
Received: from localhost ([127.0.0.1] helo=bombadil.infradead.org)
	by bombadil.infradead.org with esmtp (Exim 4.92.3 #3 (Red Hat Linux))
	id 1iNOuo-0007hS-Be; Wed, 23 Oct 2019 22:15:38 +0000
Received: from mailoutvs32.siol.net ([185.57.226.223] helo=mail.siol.net)
 by bombadil.infradead.org with esmtps (Exim 4.92.3 #3 (Red Hat Linux))
 id 1iNOtC-0004zj-Er
 for linux-arm-kernel@lists.infradead.org; Wed, 23 Oct 2019 22:14:03 +0000
Received: from localhost (localhost [127.0.0.1])
 by mail.siol.net (Postfix) with ESMTP id 38FED5228DC;
 Thu, 24 Oct 2019 00:13:56 +0200 (CEST)
X-Virus-Scanned: amavisd-new at psrvmta09.zcs-production.pri
Received: from mail.siol.net ([127.0.0.1])
 by localhost (psrvmta09.zcs-production.pri [127.0.0.1]) (amavisd-new,
 port 10032)
 with ESMTP id P92ZKBZKHpN7; Thu, 24 Oct 2019 00:13:54 +0200 (CEST)
Received: from mail.siol.net (localhost [127.0.0.1])
 by mail.siol.net (Postfix) with ESMTPS id 34D77523102;
 Thu, 24 Oct 2019 00:13:54 +0200 (CEST)
Received: from localhost.localdomain (cpe-86-58-59-25.static.triera.net
 [86.58.59.25]) (Authenticated sender: 031275009)
 by mail.siol.net (Postfix) with ESMTPSA id D1BB6523327;
 Thu, 24 Oct 2019 00:13:51 +0200 (CEST)
From: Jernej Skrabec <jernej.skrabec@siol.net>
To: mripard@kernel.org,
	wens@csie.org
Subject: [PATCH v5 5/6] media: sun4i: Add H3 deinterlace driver
Date: Thu, 24 Oct 2019 00:13:31 +0200
Message-Id: <20191023221332.3674175-6-jernej.skrabec@siol.net>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191023221332.3674175-1-jernej.skrabec@siol.net>
References: <20191023221332.3674175-1-jernej.skrabec@siol.net>
MIME-Version: 1.0
X-CRM114-Version: 20100106-BlameMichelson ( TRE 0.8.0 (BSD) ) MR-646709E3 
X-CRM114-CacheID: sfid-20191023_151359_025602_14E4721F 
X-CRM114-Status: GOOD (  19.51  )
X-Spam-Score: -0.7 (/)
X-Spam-Report: SpamAssassin version 3.4.2 on bombadil.infradead.org summary:
 Content analysis details:   (-0.7 points)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.7 RCVD_IN_DNSWL_LOW      RBL: Sender listed at https://www.dnswl.org/,
 low trust [185.57.226.223 listed in list.dnswl.org]
 0.0 SPF_HELO_NONE          SPF: HELO does not publish an SPF Record
 -0.0 SPF_PASS               SPF: sender matches SPF record
X-BeenThere: linux-arm-kernel@lists.infradead.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <linux-arm-kernel.lists.infradead.org>
List-Unsubscribe: <http://lists.infradead.org/mailman/options/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=unsubscribe>
List-Archive: <http://lists.infradead.org/pipermail/linux-arm-kernel/>
List-Post: <mailto:linux-arm-kernel@lists.infradead.org>
List-Help: <mailto:linux-arm-kernel-request@lists.infradead.org?subject=help>
List-Subscribe: <http://lists.infradead.org/mailman/listinfo/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=subscribe>
Cc: mark.rutland@arm.com, devicetree@vger.kernel.org,
 linux-kernel@vger.kernel.org, hverkuil@xs4all.nl, linux-sunxi@googlegroups.com,
 robh+dt@kernel.org, mchehab@kernel.org, linux-arm-kernel@lists.infradead.org,
 linux-media@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: "linux-arm-kernel" <linux-arm-kernel-bounces@lists.infradead.org>
Errors-To: linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org

QWxsd2lubmVyIEgzIFNvQyBjb250YWlucyBkZWludGVybGFjZSB1bml0LCB3aGljaCBoYXMgc2V2
ZXJhbCBtb2RlcyBvZgpvcGVyYXRpb24gLSBieXBhc3MsIHdlYXZlLCBib2IgYW5kIG1peGVkIChh
ZHZhbmNlZCkgbW9kZS4gSSBkb24ndCBrbm93CmhvdyBtaXhlZCBtb2RlIHdvcmtzLCBidXQgYWNj
b3JkaW5nIHRvIEFsbHdpbm5lciBpdCBnaXZlcyBiZXN0IHJlc3VsdHMsCnNvIHRoZXkgdXNlIGl0
IGV4Y2x1c2l2ZWx5LiBDdXJyZW50bHkgdGhpcyBtb2RlIGlzIGFsc28gaGFyZGNvZGVkIGhlcmUu
CgpGb3IgZWFjaCBpbnRlcmxlYXZlZCBmcmFtZSBxdWV1ZWQsIHRoaXMgZHJpdmVyIHByb2R1Y2Vz
IDIgZGVpbnRlcmxhY2VkCmZyYW1lcy4gRGVpbnRlcmxhY2VkIGZyYW1lcyBhcmUgYmFzZWQgb24g
MiBjb25zZXF1dGl2ZSBvdXRwdXQgYnVmZmVycywKZXhjZXB0IGZvciB0aGUgZmlyc3QgMiwgd2hl
cmUgc2FtZSBvdXRwdXQgYnVmZmVyIGlzIGdpdmVuIHRvIHBlcmlwaGVyYWwKYXMgY3VycmVudCBh
bmQgcHJldmlvdXMuCgpUaGVyZSBpcyBubyBkb2N1bWVudGF0aW9uIGZvciB0aGlzIGNvcmUsIHNv
IHJlZ2lzdGVyIGxheW91dCBhbmQgZml4ZWQKdmFsdWVzIHdlcmUgdGFrZW4gZnJvbSBCU1AgZHJp
dmVyLgoKSSdtIG5vdCBzdXJlIGlmIG1heGltdW0gc2l6ZSBvZiB0aGUgaW1hZ2UgdW5pdCBpcyBj
YXBhYmxlIHRvIHByb2Nlc3MgaXMKZ292ZXJuZWQgYnkgc2l6ZSBvZiAiZmxhZyIgYnVmZmVycywg
ZnJlcXVlbmN5IG9yIGl0IHJlYWxseSBpcyBzb21lIEhXCmxpbWl0YXRpb24uIEN1cnJlbnRseSBk
cml2ZXIgY2FuIHByb2Nlc3MgZnVsbCBIRCBpbWFnZSBpbiB+MTVtcyAoNy41bXMKZm9yIGVhY2gg
Y2FwdHVyZSBidWZmZXIpLCB3aGljaCBhbGxvd3MgdG8gcHJvY2VzcyAxOTIweDEwODBANjBpIHZp
ZGVvCnNtb290aGx5IGluIHJlYWwgdGltZS4KCkFja2VkLWJ5OiBNYXhpbWUgUmlwYXJkIDxtcmlw
YXJkQGtlcm5lbC5vcmc+ClNpZ25lZC1vZmYtYnk6IEplcm5laiBTa3JhYmVjIDxqZXJuZWouc2ty
YWJlY0BzaW9sLm5ldD4KLS0tCiBNQUlOVEFJTkVSUyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgfCAgICA4ICsKIGRyaXZlcnMvbWVkaWEvcGxhdGZvcm0vS2NvbmZpZyAgICAgICAg
ICAgICAgICB8ICAgMTMgKwogZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9zdW54aS9NYWtlZmlsZSAg
ICAgICAgIHwgICAgMSArCiAuLi4vbWVkaWEvcGxhdGZvcm0vc3VueGkvc3VuOGktZGkvTWFrZWZp
bGUgICAgfCAgICAyICsKIC4uLi9tZWRpYS9wbGF0Zm9ybS9zdW54aS9zdW44aS1kaS9zdW44aS1k
aS5jICB8IDEwMjggKysrKysrKysrKysrKysrKysKIC4uLi9tZWRpYS9wbGF0Zm9ybS9zdW54aS9z
dW44aS1kaS9zdW44aS1kaS5oICB8ICAyMzcgKysrKwogNiBmaWxlcyBjaGFuZ2VkLCAxMjg5IGlu
c2VydGlvbnMoKykKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL21lZGlhL3BsYXRmb3JtL3N1
bnhpL3N1bjhpLWRpL01ha2VmaWxlCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9tZWRpYS9w
bGF0Zm9ybS9zdW54aS9zdW44aS1kaS9zdW44aS1kaS5jCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJp
dmVycy9tZWRpYS9wbGF0Zm9ybS9zdW54aS9zdW44aS1kaS9zdW44aS1kaS5oCgpkaWZmIC0tZ2l0
IGEvTUFJTlRBSU5FUlMgYi9NQUlOVEFJTkVSUwppbmRleCBiYjljMjhjOGY1NzUuLmUwMDUyOWQy
ZDYzNCAxMDA2NDQKLS0tIGEvTUFJTlRBSU5FUlMKKysrIGIvTUFJTlRBSU5FUlMKQEAgLTQ2NDgs
NiArNDY0OCwxNCBAQCBNOgkiTWFjaWVqIFcuIFJvenlja2kiIDxtYWNyb0BsaW51eC1taXBzLm9y
Zz4KIFM6CU1haW50YWluZWQKIEY6CWRyaXZlcnMvbmV0L2ZkZGkvZGVmeHguKgogCitERUlOVEVS
TEFDRSBEUklWRVJTIEZPUiBBTExXSU5ORVIgSDMKK006CUplcm5laiBTa3JhYmVjIDxqZXJuZWou
c2tyYWJlY0BzaW9sLm5ldD4KK0w6CWxpbnV4LW1lZGlhQHZnZXIua2VybmVsLm9yZworVDoJZ2l0
IGdpdDovL2xpbnV4dHYub3JnL21lZGlhX3RyZWUuZ2l0CitTOglNYWludGFpbmVkCitGOglkcml2
ZXJzL21lZGlhL3BsYXRmb3JtL3N1bnhpL3N1bjhpLWRpLworRjoJRG9jdW1lbnRhdGlvbi9kZXZp
Y2V0cmVlL2JpbmRpbmdzL21lZGlhL2FsbHdpbm5lcixzdW44aS1oMy1kZWludGVybGFjZS55YW1s
CisKIERFTEwgU01CSU9TIERSSVZFUgogTToJUGFsaSBSb2jDoXIgPHBhbGkucm9oYXJAZ21haWwu
Y29tPgogTToJTWFyaW8gTGltb25jaWVsbG8gPG1hcmlvLmxpbW9uY2llbGxvQGRlbGwuY29tPgpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9LY29uZmlnIGIvZHJpdmVycy9tZWRp
YS9wbGF0Zm9ybS9LY29uZmlnCmluZGV4IDk5N2RlMWE4M2ZmOS4uYTM4ZTRhYTJkNWYyIDEwMDY0
NAotLS0gYS9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL0tjb25maWcKKysrIGIvZHJpdmVycy9tZWRp
YS9wbGF0Zm9ybS9LY29uZmlnCkBAIC00OTQsNiArNDk0LDE5IEBAIGNvbmZpZyBWSURFT19RQ09N
X1ZFTlVTCiAJICBvbiB2YXJpb3VzIFF1YWxjb21tIFNvQ3MuCiAJICBUbyBjb21waWxlIHRoaXMg
ZHJpdmVyIGFzIGEgbW9kdWxlIGNob29zZSBtIGhlcmUuCiAKK2NvbmZpZyBWSURFT19TVU44SV9E
RUlOVEVSTEFDRQorCXRyaXN0YXRlICJBbGx3aW5uZXIgRGVpbnRlcmxhY2UgZHJpdmVyIgorCWRl
cGVuZHMgb24gVklERU9fREVWICYmIFZJREVPX1Y0TDIKKwlkZXBlbmRzIG9uIEFSQ0hfU1VOWEkg
fHwgQ09NUElMRV9URVNUCisJZGVwZW5kcyBvbiBDT01NT05fQ0xLICYmIE9GCisJZGVwZW5kcyBv
biBQTQorCXNlbGVjdCBWSURFT0JVRjJfRE1BX0NPTlRJRworCXNlbGVjdCBWNEwyX01FTTJNRU1f
REVWCisJaGVscAorCSAgIFN1cHBvcnQgZm9yIHRoZSBBbGx3aW5uZXIgZGVpbnRlcmxhY2UgdW5p
dCB3aXRoIHNjYWxpbmcKKwkgICBjYXBhYmlsaXR5IGZvdW5kIG9uIHNvbWUgU29DcywgbGlrZSBI
My4KKwkgICBUbyBjb21waWxlIHRoaXMgZHJpdmVyIGFzIGEgbW9kdWxlIGNob29zZSBtIGhlcmUu
CisKIGVuZGlmICMgVjRMX01FTTJNRU1fRFJJVkVSUwogCiAjIFRJIFZJREVPIFBPUlQgSGVscGVy
IE1vZHVsZXMKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vc3VueGkvTWFrZWZp
bGUgYi9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL3N1bnhpL01ha2VmaWxlCmluZGV4IGEwNTEyNzUy
OTAwNi4uMzg3OGNiNGVmZGMyIDEwMDY0NAotLS0gYS9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL3N1
bnhpL01ha2VmaWxlCisrKyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vc3VueGkvTWFrZWZpbGUK
QEAgLTEsMiArMSwzIEBACiBvYmoteQkJKz0gc3VuNGktY3NpLwogb2JqLXkJCSs9IHN1bjZpLWNz
aS8KK29iai15CQkrPSBzdW44aS1kaS8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvcGxhdGZv
cm0vc3VueGkvc3VuOGktZGkvTWFrZWZpbGUgYi9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL3N1bnhp
L3N1bjhpLWRpL01ha2VmaWxlCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAw
MC4uMTA5ZjdlNTQ0MmI3Ci0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9y
bS9zdW54aS9zdW44aS1kaS9NYWtlZmlsZQpAQCAtMCwwICsxLDIgQEAKKyMgU1BEWC1MaWNlbnNl
LUlkZW50aWZpZXI6IEdQTC0yLjAKK29iai0kKENPTkZJR19WSURFT19TVU44SV9ERUlOVEVSTEFD
RSkgKz0gc3VuOGktZGkubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9zdW54
aS9zdW44aS1kaS9zdW44aS1kaS5jIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9zdW54aS9zdW44
aS1kaS9zdW44aS1kaS5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4u
ZTlhMzNlYmJmMzE0Ci0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9z
dW54aS9zdW44aS1kaS9zdW44aS1kaS5jCkBAIC0wLDAgKzEsMTAyOCBAQAorLy8gU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjAKKy8qCisgKiBBbGx3aW5uZXIgc3VuOGkgZGVpbnRlcmxh
Y2VyIHdpdGggc2NhbGVyIGRyaXZlcgorICoKKyAqIENvcHlyaWdodCAoQykgMjAxOSBKZXJuZWog
U2tyYWJlYyA8amVybmVqLnNrcmFiZWNAc2lvbC5uZXQ+CisgKgorICogQmFzZWQgb24gdmltMm0g
ZHJpdmVyLgorICovCisKKyNpbmNsdWRlIDxsaW51eC9jbGsuaD4KKyNpbmNsdWRlIDxsaW51eC9p
bnRlcnJ1cHQuaD4KKyNpbmNsdWRlIDxsaW51eC9pby5oPgorI2luY2x1ZGUgPGxpbnV4L2lvcG9s
bC5oPgorI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgorI2luY2x1ZGUgPGxpbnV4L29mLmg+Cisj
aW5jbHVkZSA8bGludXgvb2ZfZGV2aWNlLmg+CisjaW5jbHVkZSA8bGludXgvcG1fcnVudGltZS5o
PgorI2luY2x1ZGUgPGxpbnV4L3Jlc2V0Lmg+CisKKyNpbmNsdWRlIDxtZWRpYS92NGwyLWRldmlj
ZS5oPgorI2luY2x1ZGUgPG1lZGlhL3Y0bDItaW9jdGwuaD4KKyNpbmNsdWRlIDxtZWRpYS92NGwy
LW1lbTJtZW0uaD4KKworI2luY2x1ZGUgInN1bjhpLWRpLmgiCisKKyNkZWZpbmUgRkxBR19TSVpF
IChERUlOVEVSTEFDRV9NQVhfV0lEVEggKiBERUlOVEVSTEFDRV9NQVhfSEVJR0hUIC8gNCkKKwor
c3RhdGljIHUzMiBkZWludGVybGFjZV9mb3JtYXRzW10gPSB7CisJVjRMMl9QSVhfRk1UX05WMTIs
CisJVjRMMl9QSVhfRk1UX05WMjEsCit9OworCitzdGF0aWMgaW5saW5lIHUzMiBkZWludGVybGFj
ZV9yZWFkKHN0cnVjdCBkZWludGVybGFjZV9kZXYgKmRldiwgdTMyIHJlZykKK3sKKwlyZXR1cm4g
cmVhZGwoZGV2LT5iYXNlICsgcmVnKTsKK30KKworc3RhdGljIGlubGluZSB2b2lkIGRlaW50ZXJs
YWNlX3dyaXRlKHN0cnVjdCBkZWludGVybGFjZV9kZXYgKmRldiwKKwkJCQkgICAgIHUzMiByZWcs
IHUzMiB2YWx1ZSkKK3sKKwl3cml0ZWwodmFsdWUsIGRldi0+YmFzZSArIHJlZyk7Cit9CisKK3N0
YXRpYyBpbmxpbmUgdm9pZCBkZWludGVybGFjZV9zZXRfYml0cyhzdHJ1Y3QgZGVpbnRlcmxhY2Vf
ZGV2ICpkZXYsCisJCQkJCXUzMiByZWcsIHUzMiBiaXRzKQoreworCXdyaXRlbChyZWFkbChkZXYt
PmJhc2UgKyByZWcpIHwgYml0cywgZGV2LT5iYXNlICsgcmVnKTsKK30KKworc3RhdGljIGlubGlu
ZSB2b2lkIGRlaW50ZXJsYWNlX2Nscl9zZXRfYml0cyhzdHJ1Y3QgZGVpbnRlcmxhY2VfZGV2ICpk
ZXYsCisJCQkJCSAgICB1MzIgcmVnLCB1MzIgY2xyLCB1MzIgc2V0KQoreworCXUzMiB2YWwgPSBy
ZWFkbChkZXYtPmJhc2UgKyByZWcpOworCisJdmFsICY9IH5jbHI7CisJdmFsIHw9IHNldDsKKwor
CXdyaXRlbCh2YWwsIGRldi0+YmFzZSArIHJlZyk7Cit9CisKK3N0YXRpYyB2b2lkIGRlaW50ZXJs
YWNlX2RldmljZV9ydW4odm9pZCAqcHJpdikKK3sKKwlzdHJ1Y3QgZGVpbnRlcmxhY2VfY3R4ICpj
dHggPSBwcml2OworCXN0cnVjdCBkZWludGVybGFjZV9kZXYgKmRldiA9IGN0eC0+ZGV2OworCXUz
MiBzaXplLCBzdHJpZGUsIHdpZHRoLCBoZWlnaHQsIHZhbDsKKwlzdHJ1Y3QgdmIyX3Y0bDJfYnVm
ZmVyICpzcmMsICpkc3Q7CisJdW5zaWduZWQgaW50IGhzdGVwLCB2c3RlcDsKKwlkbWFfYWRkcl90
IGFkZHI7CisKKwlzcmMgPSB2NGwyX20ybV9uZXh0X3NyY19idWYoY3R4LT5maC5tMm1fY3R4KTsK
Kwlkc3QgPSB2NGwyX20ybV9uZXh0X2RzdF9idWYoY3R4LT5maC5tMm1fY3R4KTsKKworCXY0bDJf
bTJtX2J1Zl9jb3B5X21ldGFkYXRhKHNyYywgZHN0LCB0cnVlKTsKKworCWRlaW50ZXJsYWNlX3dy
aXRlKGRldiwgREVJTlRFUkxBQ0VfTU9EX0VOQUJMRSwKKwkJCSAgREVJTlRFUkxBQ0VfTU9EX0VO
QUJMRV9FTik7CisKKwlpZiAoY3R4LT5maWVsZCkgeworCQlkZWludGVybGFjZV93cml0ZShkZXYs
IERFSU5URVJMQUNFX1RJTEVfRkxBRzAsCisJCQkJICBjdHgtPmZsYWcxX2J1Zl9kbWEpOworCQlk
ZWludGVybGFjZV93cml0ZShkZXYsIERFSU5URVJMQUNFX1RJTEVfRkxBRzEsCisJCQkJICBjdHgt
PmZsYWcyX2J1Zl9kbWEpOworCX0gZWxzZSB7CisJCWRlaW50ZXJsYWNlX3dyaXRlKGRldiwgREVJ
TlRFUkxBQ0VfVElMRV9GTEFHMCwKKwkJCQkgIGN0eC0+ZmxhZzJfYnVmX2RtYSk7CisJCWRlaW50
ZXJsYWNlX3dyaXRlKGRldiwgREVJTlRFUkxBQ0VfVElMRV9GTEFHMSwKKwkJCQkgIGN0eC0+Zmxh
ZzFfYnVmX2RtYSk7CisJfQorCWRlaW50ZXJsYWNlX3dyaXRlKGRldiwgREVJTlRFUkxBQ0VfRkxB
R19MSU5FX1NUUklERSwgMHgyMDApOworCisJd2lkdGggPSBjdHgtPnNyY19mbXQud2lkdGg7CisJ
aGVpZ2h0ID0gY3R4LT5zcmNfZm10LmhlaWdodDsKKwlzdHJpZGUgPSBjdHgtPnNyY19mbXQuYnl0
ZXNwZXJsaW5lOworCXNpemUgPSBzdHJpZGUgKiBoZWlnaHQ7CisKKwlhZGRyID0gdmIyX2RtYV9j
b250aWdfcGxhbmVfZG1hX2FkZHIoJnNyYy0+dmIyX2J1ZiwgMCk7CisJZGVpbnRlcmxhY2Vfd3Jp
dGUoZGV2LCBERUlOVEVSTEFDRV9CVUZfQUREUjAsIGFkZHIpOworCWRlaW50ZXJsYWNlX3dyaXRl
KGRldiwgREVJTlRFUkxBQ0VfQlVGX0FERFIxLCBhZGRyICsgc2l6ZSk7CisJZGVpbnRlcmxhY2Vf
d3JpdGUoZGV2LCBERUlOVEVSTEFDRV9CVUZfQUREUjIsIDApOworCisJZGVpbnRlcmxhY2Vfd3Jp
dGUoZGV2LCBERUlOVEVSTEFDRV9MSU5FX1NUUklERTAsIHN0cmlkZSk7CisJZGVpbnRlcmxhY2Vf
d3JpdGUoZGV2LCBERUlOVEVSTEFDRV9MSU5FX1NUUklERTEsIHN0cmlkZSk7CisKKwlkZWludGVy
bGFjZV93cml0ZShkZXYsIERFSU5URVJMQUNFX0NIMF9JTl9TSVpFLAorCQkJICBERUlOVEVSTEFD
RV9TSVpFKHdpZHRoLCBoZWlnaHQpKTsKKwlkZWludGVybGFjZV93cml0ZShkZXYsIERFSU5URVJM
QUNFX0NIMV9JTl9TSVpFLAorCQkJICBERUlOVEVSTEFDRV9TSVpFKHdpZHRoIC8gMiwgaGVpZ2h0
IC8gMikpOworCisJdmFsID0gREVJTlRFUkxBQ0VfSU5fRk1UX0ZNVChERUlOVEVSTEFDRV9JTl9G
TVRfWVVWNDIwKSB8CisJICAgICAgREVJTlRFUkxBQ0VfSU5fRk1UX01PRChERUlOVEVSTEFDRV9N
T0RFX1VWX0NPTUJJTkVEKTsKKwlzd2l0Y2ggKGN0eC0+c3JjX2ZtdC5waXhlbGZvcm1hdCkgewor
CWNhc2UgVjRMMl9QSVhfRk1UX05WMTI6CisJCXZhbCB8PSBERUlOVEVSTEFDRV9JTl9GTVRfUFMo
REVJTlRFUkxBQ0VfUFNfVVZVVik7CisJCWJyZWFrOworCWNhc2UgVjRMMl9QSVhfRk1UX05WMjE6
CisJCXZhbCB8PSBERUlOVEVSTEFDRV9JTl9GTVRfUFMoREVJTlRFUkxBQ0VfUFNfVlVWVSk7CisJ
CWJyZWFrOworCX0KKwlkZWludGVybGFjZV93cml0ZShkZXYsIERFSU5URVJMQUNFX0lOX0ZNVCwg
dmFsKTsKKworCWlmIChjdHgtPnByZXYpCisJCWFkZHIgPSB2YjJfZG1hX2NvbnRpZ19wbGFuZV9k
bWFfYWRkcigmY3R4LT5wcmV2LT52YjJfYnVmLCAwKTsKKworCWRlaW50ZXJsYWNlX3dyaXRlKGRl
diwgREVJTlRFUkxBQ0VfUFJFTFVNQSwgYWRkcik7CisJZGVpbnRlcmxhY2Vfd3JpdGUoZGV2LCBE
RUlOVEVSTEFDRV9QUkVDSFJPTUEsIGFkZHIgKyBzaXplKTsKKworCXZhbCA9IERFSU5URVJMQUNF
X09VVF9GTVRfRk1UKERFSU5URVJMQUNFX09VVF9GTVRfWVVWNDIwU1ApOworCXN3aXRjaCAoY3R4
LT5zcmNfZm10LnBpeGVsZm9ybWF0KSB7CisJY2FzZSBWNEwyX1BJWF9GTVRfTlYxMjoKKwkJdmFs
IHw9IERFSU5URVJMQUNFX09VVF9GTVRfUFMoREVJTlRFUkxBQ0VfUFNfVVZVVik7CisJCWJyZWFr
OworCWNhc2UgVjRMMl9QSVhfRk1UX05WMjE6CisJCXZhbCB8PSBERUlOVEVSTEFDRV9PVVRfRk1U
X1BTKERFSU5URVJMQUNFX1BTX1ZVVlUpOworCQlicmVhazsKKwl9CisJZGVpbnRlcmxhY2Vfd3Jp
dGUoZGV2LCBERUlOVEVSTEFDRV9PVVRfRk1ULCB2YWwpOworCisJd2lkdGggPSBjdHgtPmRzdF9m
bXQud2lkdGg7CisJaGVpZ2h0ID0gY3R4LT5kc3RfZm10LmhlaWdodDsKKwlzdHJpZGUgPSBjdHgt
PmRzdF9mbXQuYnl0ZXNwZXJsaW5lOworCXNpemUgPSBzdHJpZGUgKiBoZWlnaHQ7CisKKwlkZWlu
dGVybGFjZV93cml0ZShkZXYsIERFSU5URVJMQUNFX0NIMF9PVVRfU0laRSwKKwkJCSAgREVJTlRF
UkxBQ0VfU0laRSh3aWR0aCwgaGVpZ2h0KSk7CisJZGVpbnRlcmxhY2Vfd3JpdGUoZGV2LCBERUlO
VEVSTEFDRV9DSDFfT1VUX1NJWkUsCisJCQkgIERFSU5URVJMQUNFX1NJWkUod2lkdGggLyAyLCBo
ZWlnaHQgLyAyKSk7CisKKwlkZWludGVybGFjZV93cml0ZShkZXYsIERFSU5URVJMQUNFX1dCX0xJ
TkVfU1RSSURFMCwgc3RyaWRlKTsKKwlkZWludGVybGFjZV93cml0ZShkZXYsIERFSU5URVJMQUNF
X1dCX0xJTkVfU1RSSURFMSwgc3RyaWRlKTsKKworCWFkZHIgPSB2YjJfZG1hX2NvbnRpZ19wbGFu
ZV9kbWFfYWRkcigmZHN0LT52YjJfYnVmLCAwKTsKKwlkZWludGVybGFjZV93cml0ZShkZXYsIERF
SU5URVJMQUNFX1dCX0FERFIwLCBhZGRyKTsKKwlkZWludGVybGFjZV93cml0ZShkZXYsIERFSU5U
RVJMQUNFX1dCX0FERFIxLCBhZGRyICsgc2l6ZSk7CisJZGVpbnRlcmxhY2Vfd3JpdGUoZGV2LCBE
RUlOVEVSTEFDRV9XQl9BRERSMiwgMCk7CisKKwloc3RlcCA9IChjdHgtPnNyY19mbXQud2lkdGgg
PDwgMTYpIC8gY3R4LT5kc3RfZm10LndpZHRoOworCXZzdGVwID0gKGN0eC0+c3JjX2ZtdC5oZWln
aHQgPDwgMTYpIC8gY3R4LT5kc3RfZm10LmhlaWdodDsKKwlkZWludGVybGFjZV93cml0ZShkZXYs
IERFSU5URVJMQUNFX0NIMF9IT1JaX0ZBQ1QsIGhzdGVwKTsKKwlkZWludGVybGFjZV93cml0ZShk
ZXYsIERFSU5URVJMQUNFX0NIMF9WRVJUX0ZBQ1QsIHZzdGVwKTsKKwlkZWludGVybGFjZV93cml0
ZShkZXYsIERFSU5URVJMQUNFX0NIMV9IT1JaX0ZBQ1QsIGhzdGVwKTsKKwlkZWludGVybGFjZV93
cml0ZShkZXYsIERFSU5URVJMQUNFX0NIMV9WRVJUX0ZBQ1QsIHZzdGVwKTsKKworCWRlaW50ZXJs
YWNlX2Nscl9zZXRfYml0cyhkZXYsIERFSU5URVJMQUNFX0ZJRUxEX0NUUkwsCisJCQkJIERFSU5U
RVJMQUNFX0ZJRUxEX0NUUkxfRklFTERfQ05UX01TSywKKwkJCQkgREVJTlRFUkxBQ0VfRklFTERf
Q1RSTF9GSUVMRF9DTlQoY3R4LT5maWVsZCkpOworCisJZGVpbnRlcmxhY2Vfc2V0X2JpdHMoZGV2
LCBERUlOVEVSTEFDRV9GUk1fQ1RSTCwKKwkJCSAgICAgREVJTlRFUkxBQ0VfRlJNX0NUUkxfU1RB
UlQpOworCisJZGVpbnRlcmxhY2Vfc2V0X2JpdHMoZGV2LCBERUlOVEVSTEFDRV9GUk1fQ1RSTCwK
KwkJCSAgICAgREVJTlRFUkxBQ0VfRlJNX0NUUkxfUkVHX1JFQURZKTsKKworCWRlaW50ZXJsYWNl
X3NldF9iaXRzKGRldiwgREVJTlRFUkxBQ0VfSU5UX0VOQUJMRSwKKwkJCSAgICAgREVJTlRFUkxB
Q0VfSU5UX0VOQUJMRV9XQl9FTik7CisKKwlkZWludGVybGFjZV9zZXRfYml0cyhkZXYsIERFSU5U
RVJMQUNFX0ZSTV9DVFJMLAorCQkJICAgICBERUlOVEVSTEFDRV9GUk1fQ1RSTF9XQl9FTik7Cit9
CisKK3N0YXRpYyBpbnQgZGVpbnRlcmxhY2Vfam9iX3JlYWR5KHZvaWQgKnByaXYpCit7CisJc3Ry
dWN0IGRlaW50ZXJsYWNlX2N0eCAqY3R4ID0gcHJpdjsKKworCXJldHVybiB2NGwyX20ybV9udW1f
c3JjX2J1ZnNfcmVhZHkoY3R4LT5maC5tMm1fY3R4KSA+PSAxICYmCisJICAgICAgIHY0bDJfbTJt
X251bV9kc3RfYnVmc19yZWFkeShjdHgtPmZoLm0ybV9jdHgpID49IDI7Cit9CisKK3N0YXRpYyB2
b2lkIGRlaW50ZXJsYWNlX2pvYl9hYm9ydCh2b2lkICpwcml2KQoreworCXN0cnVjdCBkZWludGVy
bGFjZV9jdHggKmN0eCA9IHByaXY7CisKKwkvKiBXaWxsIGNhbmNlbCB0aGUgdHJhbnNhY3Rpb24g
aW4gdGhlIG5leHQgaW50ZXJydXB0IGhhbmRsZXIgKi8KKwljdHgtPmFib3J0aW5nID0gMTsKK30K
Kworc3RhdGljIGlycXJldHVybl90IGRlaW50ZXJsYWNlX2lycShpbnQgaXJxLCB2b2lkICpkYXRh
KQoreworCXN0cnVjdCBkZWludGVybGFjZV9kZXYgKmRldiA9IGRhdGE7CisJc3RydWN0IHZiMl92
NGwyX2J1ZmZlciAqc3JjLCAqZHN0OworCWVudW0gdmIyX2J1ZmZlcl9zdGF0ZSBzdGF0ZTsKKwlz
dHJ1Y3QgZGVpbnRlcmxhY2VfY3R4ICpjdHg7CisJdW5zaWduZWQgaW50IHZhbDsKKworCWN0eCA9
IHY0bDJfbTJtX2dldF9jdXJyX3ByaXYoZGV2LT5tMm1fZGV2KTsKKwlpZiAoIWN0eCkgeworCQl2
NGwyX2VycigmZGV2LT52NGwyX2RldiwKKwkJCSAiSW5zdGFuY2UgcmVsZWFzZWQgYmVmb3JlIHRo
ZSBlbmQgb2YgdHJhbnNhY3Rpb25cbiIpOworCQlyZXR1cm4gSVJRX05PTkU7CisJfQorCisJdmFs
ID0gZGVpbnRlcmxhY2VfcmVhZChkZXYsIERFSU5URVJMQUNFX0lOVF9TVEFUVVMpOworCWlmICgh
KHZhbCAmIERFSU5URVJMQUNFX0lOVF9TVEFUVVNfV1JJVEVCQUNLKSkKKwkJcmV0dXJuIElSUV9O
T05FOworCisJZGVpbnRlcmxhY2Vfd3JpdGUoZGV2LCBERUlOVEVSTEFDRV9JTlRfRU5BQkxFLCAw
KTsKKwlkZWludGVybGFjZV9zZXRfYml0cyhkZXYsIERFSU5URVJMQUNFX0lOVF9TVEFUVVMsCisJ
CQkgICAgIERFSU5URVJMQUNFX0lOVF9TVEFUVVNfV1JJVEVCQUNLKTsKKwlkZWludGVybGFjZV93
cml0ZShkZXYsIERFSU5URVJMQUNFX01PRF9FTkFCTEUsIDApOworCWRlaW50ZXJsYWNlX2Nscl9z
ZXRfYml0cyhkZXYsIERFSU5URVJMQUNFX0ZSTV9DVFJMLAorCQkJCSBERUlOVEVSTEFDRV9GUk1f
Q1RSTF9TVEFSVCwgMCk7CisKKwl2YWwgPSBkZWludGVybGFjZV9yZWFkKGRldiwgREVJTlRFUkxB
Q0VfU1RBVFVTKTsKKwlpZiAodmFsICYgREVJTlRFUkxBQ0VfU1RBVFVTX1dCX0VSUk9SKQorCQlz
dGF0ZSA9IFZCMl9CVUZfU1RBVEVfRVJST1I7CisJZWxzZQorCQlzdGF0ZSA9IFZCMl9CVUZfU1RB
VEVfRE9ORTsKKworCWRzdCA9IHY0bDJfbTJtX2RzdF9idWZfcmVtb3ZlKGN0eC0+ZmgubTJtX2N0
eCk7CisJdjRsMl9tMm1fYnVmX2RvbmUoZHN0LCBzdGF0ZSk7CisKKwlpZiAoY3R4LT5maWVsZCAh
PSBjdHgtPmZpcnN0X2ZpZWxkIHx8IGN0eC0+YWJvcnRpbmcpIHsKKwkJY3R4LT5maWVsZCA9IGN0
eC0+Zmlyc3RfZmllbGQ7CisKKwkJc3JjID0gdjRsMl9tMm1fc3JjX2J1Zl9yZW1vdmUoY3R4LT5m
aC5tMm1fY3R4KTsKKwkJaWYgKGN0eC0+cHJldikKKwkJCXY0bDJfbTJtX2J1Zl9kb25lKGN0eC0+
cHJldiwgc3RhdGUpOworCQljdHgtPnByZXYgPSBzcmM7CisKKwkJdjRsMl9tMm1fam9iX2Zpbmlz
aChjdHgtPmRldi0+bTJtX2RldiwgY3R4LT5maC5tMm1fY3R4KTsKKwl9IGVsc2UgeworCQljdHgt
PmZpZWxkID0gIWN0eC0+Zmlyc3RfZmllbGQ7CisJCWRlaW50ZXJsYWNlX2RldmljZV9ydW4oY3R4
KTsKKwl9CisKKwlyZXR1cm4gSVJRX0hBTkRMRUQ7Cit9CisKK3N0YXRpYyB2b2lkIGRlaW50ZXJs
YWNlX2luaXQoc3RydWN0IGRlaW50ZXJsYWNlX2RldiAqZGV2KQoreworCXUzMiB2YWw7CisJaW50
IGk7CisKKwlkZWludGVybGFjZV93cml0ZShkZXYsIERFSU5URVJMQUNFX0JZUEFTUywKKwkJCSAg
REVJTlRFUkxBQ0VfQllQQVNTX0NTQyk7CisJZGVpbnRlcmxhY2Vfd3JpdGUoZGV2LCBERUlOVEVS
TEFDRV9XQl9MSU5FX1NUUklERV9DVFJMLAorCQkJICBERUlOVEVSTEFDRV9XQl9MSU5FX1NUUklE
RV9DVFJMX0VOKTsKKwlkZWludGVybGFjZV9zZXRfYml0cyhkZXYsIERFSU5URVJMQUNFX0ZSTV9D
VFJMLAorCQkJICAgICBERUlOVEVSTEFDRV9GUk1fQ1RSTF9PVVRfQ1RSTCk7CisJZGVpbnRlcmxh
Y2Vfd3JpdGUoZGV2LCBERUlOVEVSTEFDRV9BR1RIX1NFTCwKKwkJCSAgREVJTlRFUkxBQ0VfQUdU
SF9TRUxfTElORUJVRik7CisKKwl2YWwgPSBERUlOVEVSTEFDRV9DVFJMX0VOIHwKKwkgICAgICBE
RUlOVEVSTEFDRV9DVFJMX01PREVfTUlYRUQgfAorCSAgICAgIERFSU5URVJMQUNFX0NUUkxfRElB
R19JTlRQX0VOIHwKKwkgICAgICBERUlOVEVSTEFDRV9DVFJMX1RFTVBfRElGRl9FTjsKKwlkZWlu
dGVybGFjZV93cml0ZShkZXYsIERFSU5URVJMQUNFX0NUUkwsIHZhbCk7CisKKwlkZWludGVybGFj
ZV9jbHJfc2V0X2JpdHMoZGV2LCBERUlOVEVSTEFDRV9MVU1BX1RILAorCQkJCSBERUlOVEVSTEFD
RV9MVU1BX1RIX01JTl9MVU1BX01TSywKKwkJCQkgREVJTlRFUkxBQ0VfTFVNQV9USF9NSU5fTFVN
QSg0KSk7CisKKwlkZWludGVybGFjZV9jbHJfc2V0X2JpdHMoZGV2LCBERUlOVEVSTEFDRV9TUEFU
X0NPTVAsCisJCQkJIERFSU5URVJMQUNFX1NQQVRfQ09NUF9USDJfTVNLLAorCQkJCSBERUlOVEVS
TEFDRV9TUEFUX0NPTVBfVEgyKDUpKTsKKworCWRlaW50ZXJsYWNlX2Nscl9zZXRfYml0cyhkZXYs
IERFSU5URVJMQUNFX1RFTVBfRElGRiwKKwkJCQkgREVJTlRFUkxBQ0VfVEVNUF9ESUZGX0FNQklH
VUlUWV9USF9NU0ssCisJCQkJIERFSU5URVJMQUNFX1RFTVBfRElGRl9BTUJJR1VJVFlfVEgoNSkp
OworCisJdmFsID0gREVJTlRFUkxBQ0VfRElBR19JTlRQX1RIMCg2MCkgfAorCSAgICAgIERFSU5U
RVJMQUNFX0RJQUdfSU5UUF9USDEoMCkgfAorCSAgICAgIERFSU5URVJMQUNFX0RJQUdfSU5UUF9U
SDMoMzApOworCWRlaW50ZXJsYWNlX3dyaXRlKGRldiwgREVJTlRFUkxBQ0VfRElBR19JTlRQLCB2
YWwpOworCisJZGVpbnRlcmxhY2VfY2xyX3NldF9iaXRzKGRldiwgREVJTlRFUkxBQ0VfQ0hST01B
X0RJRkYsCisJCQkJIERFSU5URVJMQUNFX0NIUk9NQV9ESUZGX1RIX01TSywKKwkJCQkgREVJTlRF
UkxBQ0VfQ0hST01BX0RJRkZfVEgoNSkpOworCisJLyogbmV1dHJhbCBmaWx0ZXIgY29lZmZpY2ll
bnRzICovCisJZGVpbnRlcmxhY2Vfc2V0X2JpdHMoZGV2LCBERUlOVEVSTEFDRV9GUk1fQ1RSTCwK
KwkJCSAgICAgREVJTlRFUkxBQ0VfRlJNX0NUUkxfQ09FRl9BQ0NFU1MpOworCXJlYWRsX3BvbGxf
dGltZW91dChkZXYtPmJhc2UgKyBERUlOVEVSTEFDRV9TVEFUVVMsIHZhbCwKKwkJCSAgIHZhbCAm
IERFSU5URVJMQUNFX1NUQVRVU19DT0VGX1NUQVRVUywgMiwgNDApOworCisJZm9yIChpID0gMDsg
aSA8IDMyOyBpKyspIHsKKwkJZGVpbnRlcmxhY2Vfd3JpdGUoZGV2LCBERUlOVEVSTEFDRV9DSDBf
SE9SWl9DT0VGMCArIGkgKiA0LAorCQkJCSAgREVJTlRFUkxBQ0VfSURFTlRJVFlfQ09FRik7CisJ
CWRlaW50ZXJsYWNlX3dyaXRlKGRldiwgREVJTlRFUkxBQ0VfQ0gwX1ZFUlRfQ09FRiArIGkgKiA0
LAorCQkJCSAgREVJTlRFUkxBQ0VfSURFTlRJVFlfQ09FRik7CisJCWRlaW50ZXJsYWNlX3dyaXRl
KGRldiwgREVJTlRFUkxBQ0VfQ0gxX0hPUlpfQ09FRjAgKyBpICogNCwKKwkJCQkgIERFSU5URVJM
QUNFX0lERU5USVRZX0NPRUYpOworCQlkZWludGVybGFjZV93cml0ZShkZXYsIERFSU5URVJMQUNF
X0NIMV9WRVJUX0NPRUYgKyBpICogNCwKKwkJCQkgIERFSU5URVJMQUNFX0lERU5USVRZX0NPRUYp
OworCX0KKworCWRlaW50ZXJsYWNlX2Nscl9zZXRfYml0cyhkZXYsIERFSU5URVJMQUNFX0ZSTV9D
VFJMLAorCQkJCSBERUlOVEVSTEFDRV9GUk1fQ1RSTF9DT0VGX0FDQ0VTUywgMCk7Cit9CisKK3N0
YXRpYyBpbmxpbmUgc3RydWN0IGRlaW50ZXJsYWNlX2N0eCAqZGVpbnRlcmxhY2VfZmlsZTJjdHgo
c3RydWN0IGZpbGUgKmZpbGUpCit7CisJcmV0dXJuIGNvbnRhaW5lcl9vZihmaWxlLT5wcml2YXRl
X2RhdGEsIHN0cnVjdCBkZWludGVybGFjZV9jdHgsIGZoKTsKK30KKworc3RhdGljIGJvb2wgZGVp
bnRlcmxhY2VfY2hlY2tfZm9ybWF0KHUzMiBwaXhlbGZvcm1hdCkKK3sKKwl1bnNpZ25lZCBpbnQg
aTsKKworCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGRlaW50ZXJsYWNlX2Zvcm1hdHMpOyBp
KyspCisJCWlmIChkZWludGVybGFjZV9mb3JtYXRzW2ldID09IHBpeGVsZm9ybWF0KQorCQkJcmV0
dXJuIHRydWU7CisKKwlyZXR1cm4gZmFsc2U7Cit9CisKK3N0YXRpYyB2b2lkIGRlaW50ZXJsYWNl
X3ByZXBhcmVfZm9ybWF0KHN0cnVjdCB2NGwyX3BpeF9mb3JtYXQgKnBpeF9mbXQpCit7CisJdW5z
aWduZWQgaW50IGhlaWdodCA9IHBpeF9mbXQtPmhlaWdodDsKKwl1bnNpZ25lZCBpbnQgd2lkdGgg
PSBwaXhfZm10LT53aWR0aDsKKwl1bnNpZ25lZCBpbnQgYnl0ZXNwZXJsaW5lOworCXVuc2lnbmVk
IGludCBzaXplaW1hZ2U7CisKKwl3aWR0aCA9IGNsYW1wKHdpZHRoLCBERUlOVEVSTEFDRV9NSU5f
V0lEVEgsCisJCSAgICAgIERFSU5URVJMQUNFX01BWF9XSURUSCk7CisJaGVpZ2h0ID0gY2xhbXAo
aGVpZ2h0LCBERUlOVEVSTEFDRV9NSU5fSEVJR0hULAorCQkgICAgICAgREVJTlRFUkxBQ0VfTUFY
X0hFSUdIVCk7CisKKwlieXRlc3BlcmxpbmUgPSBBTElHTih3aWR0aCwgMik7CisJLyogbHVtYSAq
LworCXNpemVpbWFnZSA9IGJ5dGVzcGVybGluZSAqIGhlaWdodDsKKwkvKiBjaHJvbWEgKi8KKwlz
aXplaW1hZ2UgKz0gYnl0ZXNwZXJsaW5lICogaGVpZ2h0IC8gMjsKKworCXBpeF9mbXQtPndpZHRo
ID0gd2lkdGg7CisJcGl4X2ZtdC0+aGVpZ2h0ID0gaGVpZ2h0OworCXBpeF9mbXQtPmJ5dGVzcGVy
bGluZSA9IGJ5dGVzcGVybGluZTsKKwlwaXhfZm10LT5zaXplaW1hZ2UgPSBzaXplaW1hZ2U7Cit9
CisKK3N0YXRpYyBpbnQgZGVpbnRlcmxhY2VfcXVlcnljYXAoc3RydWN0IGZpbGUgKmZpbGUsIHZv
aWQgKnByaXYsCisJCQkJc3RydWN0IHY0bDJfY2FwYWJpbGl0eSAqY2FwKQoreworCXN0cnNjcHko
Y2FwLT5kcml2ZXIsIERFSU5URVJMQUNFX05BTUUsIHNpemVvZihjYXAtPmRyaXZlcikpOworCXN0
cnNjcHkoY2FwLT5jYXJkLCBERUlOVEVSTEFDRV9OQU1FLCBzaXplb2YoY2FwLT5jYXJkKSk7CisJ
c25wcmludGYoY2FwLT5idXNfaW5mbywgc2l6ZW9mKGNhcC0+YnVzX2luZm8pLAorCQkgInBsYXRm
b3JtOiVzIiwgREVJTlRFUkxBQ0VfTkFNRSk7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGlu
dCBkZWludGVybGFjZV9lbnVtX2ZtdChzdHJ1Y3QgZmlsZSAqZmlsZSwgdm9pZCAqcHJpdiwKKwkJ
CQlzdHJ1Y3QgdjRsMl9mbXRkZXNjICpmKQoreworCWlmIChmLT5pbmRleCA8IEFSUkFZX1NJWkUo
ZGVpbnRlcmxhY2VfZm9ybWF0cykpIHsKKwkJZi0+cGl4ZWxmb3JtYXQgPSBkZWludGVybGFjZV9m
b3JtYXRzW2YtPmluZGV4XTsKKworCQlyZXR1cm4gMDsKKwl9CisKKwlyZXR1cm4gLUVJTlZBTDsK
K30KKworc3RhdGljIGludCBkZWludGVybGFjZV9lbnVtX2ZyYW1lc2l6ZXMoc3RydWN0IGZpbGUg
KmZpbGUsIHZvaWQgKnByaXYsCisJCQkJICAgICAgIHN0cnVjdCB2NGwyX2ZybXNpemVlbnVtICpm
c2l6ZSkKK3sKKwlpZiAoZnNpemUtPmluZGV4ICE9IDApCisJCXJldHVybiAtRUlOVkFMOworCisJ
aWYgKCFkZWludGVybGFjZV9jaGVja19mb3JtYXQoZnNpemUtPnBpeGVsX2Zvcm1hdCkpCisJCXJl
dHVybiAtRUlOVkFMOworCisJZnNpemUtPnR5cGUgPSBWNEwyX0ZSTVNJWkVfVFlQRV9TVEVQV0lT
RTsKKwlmc2l6ZS0+c3RlcHdpc2UubWluX3dpZHRoID0gREVJTlRFUkxBQ0VfTUlOX1dJRFRIOwor
CWZzaXplLT5zdGVwd2lzZS5taW5faGVpZ2h0ID0gREVJTlRFUkxBQ0VfTUlOX0hFSUdIVDsKKwlm
c2l6ZS0+c3RlcHdpc2UubWF4X3dpZHRoID0gREVJTlRFUkxBQ0VfTUFYX1dJRFRIOworCWZzaXpl
LT5zdGVwd2lzZS5tYXhfaGVpZ2h0ID0gREVJTlRFUkxBQ0VfTUFYX0hFSUdIVDsKKwlmc2l6ZS0+
c3RlcHdpc2Uuc3RlcF93aWR0aCA9IDI7CisJZnNpemUtPnN0ZXB3aXNlLnN0ZXBfaGVpZ2h0ID0g
MTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgaW50IGRlaW50ZXJsYWNlX2dfZm10X3ZpZF9j
YXAoc3RydWN0IGZpbGUgKmZpbGUsIHZvaWQgKnByaXYsCisJCQkJICAgICBzdHJ1Y3QgdjRsMl9m
b3JtYXQgKmYpCit7CisJc3RydWN0IGRlaW50ZXJsYWNlX2N0eCAqY3R4ID0gZGVpbnRlcmxhY2Vf
ZmlsZTJjdHgoZmlsZSk7CisKKwlmLT5mbXQucGl4ID0gY3R4LT5kc3RfZm10OworCisJcmV0dXJu
IDA7Cit9CisKK3N0YXRpYyBpbnQgZGVpbnRlcmxhY2VfZ19mbXRfdmlkX291dChzdHJ1Y3QgZmls
ZSAqZmlsZSwgdm9pZCAqcHJpdiwKKwkJCQkgICAgIHN0cnVjdCB2NGwyX2Zvcm1hdCAqZikKK3sK
KwlzdHJ1Y3QgZGVpbnRlcmxhY2VfY3R4ICpjdHggPSBkZWludGVybGFjZV9maWxlMmN0eChmaWxl
KTsKKworCWYtPmZtdC5waXggPSBjdHgtPnNyY19mbXQ7CisKKwlyZXR1cm4gMDsKK30KKworc3Rh
dGljIGludCBkZWludGVybGFjZV90cnlfZm10X3ZpZF9jYXAoc3RydWN0IGZpbGUgKmZpbGUsIHZv
aWQgKnByaXYsCisJCQkJICAgICAgIHN0cnVjdCB2NGwyX2Zvcm1hdCAqZikKK3sKKwlpZiAoIWRl
aW50ZXJsYWNlX2NoZWNrX2Zvcm1hdChmLT5mbXQucGl4LnBpeGVsZm9ybWF0KSkKKwkJZi0+Zm10
LnBpeC5waXhlbGZvcm1hdCA9IGRlaW50ZXJsYWNlX2Zvcm1hdHNbMF07CisKKwlpZiAoZi0+Zm10
LnBpeC5maWVsZCAhPSBWNEwyX0ZJRUxEX05PTkUpCisJCWYtPmZtdC5waXguZmllbGQgPSBWNEwy
X0ZJRUxEX05PTkU7CisKKwlkZWludGVybGFjZV9wcmVwYXJlX2Zvcm1hdCgmZi0+Zm10LnBpeCk7
CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBkZWludGVybGFjZV90cnlfZm10X3ZpZF9v
dXQoc3RydWN0IGZpbGUgKmZpbGUsIHZvaWQgKnByaXYsCisJCQkJICAgICAgIHN0cnVjdCB2NGwy
X2Zvcm1hdCAqZikKK3sKKwlpZiAoIWRlaW50ZXJsYWNlX2NoZWNrX2Zvcm1hdChmLT5mbXQucGl4
LnBpeGVsZm9ybWF0KSkKKwkJZi0+Zm10LnBpeC5waXhlbGZvcm1hdCA9IGRlaW50ZXJsYWNlX2Zv
cm1hdHNbMF07CisKKwlpZiAoZi0+Zm10LnBpeC5maWVsZCAhPSBWNEwyX0ZJRUxEX0lOVEVSTEFD
RURfVEIgJiYKKwkgICAgZi0+Zm10LnBpeC5maWVsZCAhPSBWNEwyX0ZJRUxEX0lOVEVSTEFDRURf
QlQgJiYKKwkgICAgZi0+Zm10LnBpeC5maWVsZCAhPSBWNEwyX0ZJRUxEX0lOVEVSTEFDRUQpCisJ
CWYtPmZtdC5waXguZmllbGQgPSBWNEwyX0ZJRUxEX0lOVEVSTEFDRUQ7CisKKwlkZWludGVybGFj
ZV9wcmVwYXJlX2Zvcm1hdCgmZi0+Zm10LnBpeCk7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGlj
IGludCBkZWludGVybGFjZV9zX2ZtdF92aWRfY2FwKHN0cnVjdCBmaWxlICpmaWxlLCB2b2lkICpw
cml2LAorCQkJCSAgICAgc3RydWN0IHY0bDJfZm9ybWF0ICpmKQoreworCXN0cnVjdCBkZWludGVy
bGFjZV9jdHggKmN0eCA9IGRlaW50ZXJsYWNlX2ZpbGUyY3R4KGZpbGUpOworCXN0cnVjdCB2YjJf
cXVldWUgKnZxOworCWludCByZXQ7CisKKwlyZXQgPSBkZWludGVybGFjZV90cnlfZm10X3ZpZF9j
YXAoZmlsZSwgcHJpdiwgZik7CisJaWYgKHJldCkKKwkJcmV0dXJuIHJldDsKKworCXZxID0gdjRs
Ml9tMm1fZ2V0X3ZxKGN0eC0+ZmgubTJtX2N0eCwgZi0+dHlwZSk7CisJaWYgKHZiMl9pc19idXN5
KHZxKSkKKwkJcmV0dXJuIC1FQlVTWTsKKworCWN0eC0+ZHN0X2ZtdCA9IGYtPmZtdC5waXg7CisK
KwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBkZWludGVybGFjZV9zX2ZtdF92aWRfb3V0KHN0
cnVjdCBmaWxlICpmaWxlLCB2b2lkICpwcml2LAorCQkJCSAgICAgc3RydWN0IHY0bDJfZm9ybWF0
ICpmKQoreworCXN0cnVjdCBkZWludGVybGFjZV9jdHggKmN0eCA9IGRlaW50ZXJsYWNlX2ZpbGUy
Y3R4KGZpbGUpOworCXN0cnVjdCB2YjJfcXVldWUgKnZxOworCWludCByZXQ7CisKKwlyZXQgPSBk
ZWludGVybGFjZV90cnlfZm10X3ZpZF9vdXQoZmlsZSwgcHJpdiwgZik7CisJaWYgKHJldCkKKwkJ
cmV0dXJuIHJldDsKKworCXZxID0gdjRsMl9tMm1fZ2V0X3ZxKGN0eC0+ZmgubTJtX2N0eCwgZi0+
dHlwZSk7CisJaWYgKHZiMl9pc19idXN5KHZxKSkKKwkJcmV0dXJuIC1FQlVTWTsKKworCWN0eC0+
c3JjX2ZtdCA9IGYtPmZtdC5waXg7CisKKwkvKiBQcm9wYWdhdGUgY29sb3JzcGFjZSBpbmZvcm1h
dGlvbiB0byBjYXB0dXJlLiAqLworCWN0eC0+ZHN0X2ZtdC5jb2xvcnNwYWNlID0gZi0+Zm10LnBp
eC5jb2xvcnNwYWNlOworCWN0eC0+ZHN0X2ZtdC54ZmVyX2Z1bmMgPSBmLT5mbXQucGl4LnhmZXJf
ZnVuYzsKKwljdHgtPmRzdF9mbXQueWNiY3JfZW5jID0gZi0+Zm10LnBpeC55Y2Jjcl9lbmM7CisJ
Y3R4LT5kc3RfZm10LnF1YW50aXphdGlvbiA9IGYtPmZtdC5waXgucXVhbnRpemF0aW9uOworCisJ
cmV0dXJuIDA7Cit9CisKK2NvbnN0IHN0cnVjdCB2NGwyX2lvY3RsX29wcyBkZWludGVybGFjZV9p
b2N0bF9vcHMgPSB7CisJLnZpZGlvY19xdWVyeWNhcAkJPSBkZWludGVybGFjZV9xdWVyeWNhcCwK
KworCS52aWRpb2NfZW51bV9mcmFtZXNpemVzCQk9IGRlaW50ZXJsYWNlX2VudW1fZnJhbWVzaXpl
cywKKworCS52aWRpb2NfZW51bV9mbXRfdmlkX2NhcAk9IGRlaW50ZXJsYWNlX2VudW1fZm10LAor
CS52aWRpb2NfZ19mbXRfdmlkX2NhcAkJPSBkZWludGVybGFjZV9nX2ZtdF92aWRfY2FwLAorCS52
aWRpb2NfdHJ5X2ZtdF92aWRfY2FwCQk9IGRlaW50ZXJsYWNlX3RyeV9mbXRfdmlkX2NhcCwKKwku
dmlkaW9jX3NfZm10X3ZpZF9jYXAJCT0gZGVpbnRlcmxhY2Vfc19mbXRfdmlkX2NhcCwKKworCS52
aWRpb2NfZW51bV9mbXRfdmlkX291dAk9IGRlaW50ZXJsYWNlX2VudW1fZm10LAorCS52aWRpb2Nf
Z19mbXRfdmlkX291dAkJPSBkZWludGVybGFjZV9nX2ZtdF92aWRfb3V0LAorCS52aWRpb2NfdHJ5
X2ZtdF92aWRfb3V0CQk9IGRlaW50ZXJsYWNlX3RyeV9mbXRfdmlkX291dCwKKwkudmlkaW9jX3Nf
Zm10X3ZpZF9vdXQJCT0gZGVpbnRlcmxhY2Vfc19mbXRfdmlkX291dCwKKworCS52aWRpb2NfcmVx
YnVmcwkJCT0gdjRsMl9tMm1faW9jdGxfcmVxYnVmcywKKwkudmlkaW9jX3F1ZXJ5YnVmCQk9IHY0
bDJfbTJtX2lvY3RsX3F1ZXJ5YnVmLAorCS52aWRpb2NfcWJ1ZgkJCT0gdjRsMl9tMm1faW9jdGxf
cWJ1ZiwKKwkudmlkaW9jX2RxYnVmCQkJPSB2NGwyX20ybV9pb2N0bF9kcWJ1ZiwKKwkudmlkaW9j
X3ByZXBhcmVfYnVmCQk9IHY0bDJfbTJtX2lvY3RsX3ByZXBhcmVfYnVmLAorCS52aWRpb2NfY3Jl
YXRlX2J1ZnMJCT0gdjRsMl9tMm1faW9jdGxfY3JlYXRlX2J1ZnMsCisJLnZpZGlvY19leHBidWYJ
CQk9IHY0bDJfbTJtX2lvY3RsX2V4cGJ1ZiwKKworCS52aWRpb2Nfc3RyZWFtb24JCT0gdjRsMl9t
Mm1faW9jdGxfc3RyZWFtb24sCisJLnZpZGlvY19zdHJlYW1vZmYJCT0gdjRsMl9tMm1faW9jdGxf
c3RyZWFtb2ZmLAorfTsKKworc3RhdGljIGludCBkZWludGVybGFjZV9xdWV1ZV9zZXR1cChzdHJ1
Y3QgdmIyX3F1ZXVlICp2cSwgdW5zaWduZWQgaW50ICpuYnVmZmVycywKKwkJCQkgICB1bnNpZ25l
ZCBpbnQgKm5wbGFuZXMsIHVuc2lnbmVkIGludCBzaXplc1tdLAorCQkJCSAgIHN0cnVjdCBkZXZp
Y2UgKmFsbG9jX2RldnNbXSkKK3sKKwlzdHJ1Y3QgZGVpbnRlcmxhY2VfY3R4ICpjdHggPSB2YjJf
Z2V0X2Rydl9wcml2KHZxKTsKKwlzdHJ1Y3QgdjRsMl9waXhfZm9ybWF0ICpwaXhfZm10OworCisJ
aWYgKFY0TDJfVFlQRV9JU19PVVRQVVQodnEtPnR5cGUpKQorCQlwaXhfZm10ID0gJmN0eC0+c3Jj
X2ZtdDsKKwllbHNlCisJCXBpeF9mbXQgPSAmY3R4LT5kc3RfZm10OworCisJaWYgKCpucGxhbmVz
KSB7CisJCWlmIChzaXplc1swXSA8IHBpeF9mbXQtPnNpemVpbWFnZSkKKwkJCXJldHVybiAtRUlO
VkFMOworCX0gZWxzZSB7CisJCXNpemVzWzBdID0gcGl4X2ZtdC0+c2l6ZWltYWdlOworCQkqbnBs
YW5lcyA9IDE7CisJfQorCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgZGVpbnRlcmxhY2Vf
YnVmX3ByZXBhcmUoc3RydWN0IHZiMl9idWZmZXIgKnZiKQoreworCXN0cnVjdCB2YjJfcXVldWUg
KnZxID0gdmItPnZiMl9xdWV1ZTsKKwlzdHJ1Y3QgZGVpbnRlcmxhY2VfY3R4ICpjdHggPSB2YjJf
Z2V0X2Rydl9wcml2KHZxKTsKKwlzdHJ1Y3QgdjRsMl9waXhfZm9ybWF0ICpwaXhfZm10OworCisJ
aWYgKFY0TDJfVFlQRV9JU19PVVRQVVQodnEtPnR5cGUpKQorCQlwaXhfZm10ID0gJmN0eC0+c3Jj
X2ZtdDsKKwllbHNlCisJCXBpeF9mbXQgPSAmY3R4LT5kc3RfZm10OworCisJaWYgKHZiMl9wbGFu
ZV9zaXplKHZiLCAwKSA8IHBpeF9mbXQtPnNpemVpbWFnZSkKKwkJcmV0dXJuIC1FSU5WQUw7CisK
Kwl2YjJfc2V0X3BsYW5lX3BheWxvYWQodmIsIDAsIHBpeF9mbXQtPnNpemVpbWFnZSk7CisKKwly
ZXR1cm4gMDsKK30KKworc3RhdGljIHZvaWQgZGVpbnRlcmxhY2VfYnVmX3F1ZXVlKHN0cnVjdCB2
YjJfYnVmZmVyICp2YikKK3sKKwlzdHJ1Y3QgdmIyX3Y0bDJfYnVmZmVyICp2YnVmID0gdG9fdmIy
X3Y0bDJfYnVmZmVyKHZiKTsKKwlzdHJ1Y3QgZGVpbnRlcmxhY2VfY3R4ICpjdHggPSB2YjJfZ2V0
X2Rydl9wcml2KHZiLT52YjJfcXVldWUpOworCisJdjRsMl9tMm1fYnVmX3F1ZXVlKGN0eC0+Zmgu
bTJtX2N0eCwgdmJ1Zik7Cit9CisKK3N0YXRpYyB2b2lkIGRlaW50ZXJsYWNlX3F1ZXVlX2NsZWFu
dXAoc3RydWN0IHZiMl9xdWV1ZSAqdnEsIHUzMiBzdGF0ZSkKK3sKKwlzdHJ1Y3QgZGVpbnRlcmxh
Y2VfY3R4ICpjdHggPSB2YjJfZ2V0X2Rydl9wcml2KHZxKTsKKwlzdHJ1Y3QgdmIyX3Y0bDJfYnVm
ZmVyICp2YnVmOworCisJZG8geworCQlpZiAoVjRMMl9UWVBFX0lTX09VVFBVVCh2cS0+dHlwZSkp
CisJCQl2YnVmID0gdjRsMl9tMm1fc3JjX2J1Zl9yZW1vdmUoY3R4LT5maC5tMm1fY3R4KTsKKwkJ
ZWxzZQorCQkJdmJ1ZiA9IHY0bDJfbTJtX2RzdF9idWZfcmVtb3ZlKGN0eC0+ZmgubTJtX2N0eCk7
CisKKwkJaWYgKHZidWYpCisJCQl2NGwyX20ybV9idWZfZG9uZSh2YnVmLCBzdGF0ZSk7CisJfSB3
aGlsZSAodmJ1Zik7CisKKwlpZiAoVjRMMl9UWVBFX0lTX09VVFBVVCh2cS0+dHlwZSkgJiYgY3R4
LT5wcmV2KQorCQl2NGwyX20ybV9idWZfZG9uZShjdHgtPnByZXYsIHN0YXRlKTsKK30KKworc3Rh
dGljIGludCBkZWludGVybGFjZV9zdGFydF9zdHJlYW1pbmcoc3RydWN0IHZiMl9xdWV1ZSAqdnEs
IHVuc2lnbmVkIGludCBjb3VudCkKK3sKKwlzdHJ1Y3QgZGVpbnRlcmxhY2VfY3R4ICpjdHggPSB2
YjJfZ2V0X2Rydl9wcml2KHZxKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSBjdHgtPmRldi0+ZGV2
OworCWludCByZXQ7CisKKwlpZiAoVjRMMl9UWVBFX0lTX09VVFBVVCh2cS0+dHlwZSkpIHsKKwkJ
cmV0ID0gcG1fcnVudGltZV9nZXRfc3luYyhkZXYpOworCQlpZiAocmV0IDwgMCkgeworCQkJZGV2
X2VycihkZXYsICJGYWlsZWQgdG8gZW5hYmxlIG1vZHVsZVxuIik7CisKKwkJCWdvdG8gZXJyX3J1
bnRpbWVfZ2V0OworCQl9CisKKwkJY3R4LT5maXJzdF9maWVsZCA9CisJCQljdHgtPnNyY19mbXQu
ZmllbGQgPT0gVjRMMl9GSUVMRF9JTlRFUkxBQ0VEX0JUOworCQljdHgtPmZpZWxkID0gY3R4LT5m
aXJzdF9maWVsZDsKKworCQljdHgtPnByZXYgPSBOVUxMOworCQljdHgtPmFib3J0aW5nID0gMDsK
KworCQljdHgtPmZsYWcxX2J1ZiA9IGRtYV9hbGxvY19jb2hlcmVudChkZXYsIEZMQUdfU0laRSwK
KwkJCQkJCSAgICAmY3R4LT5mbGFnMV9idWZfZG1hLAorCQkJCQkJICAgIEdGUF9LRVJORUwpOwor
CQlpZiAoIWN0eC0+ZmxhZzFfYnVmKSB7CisJCQlyZXQgPSAtRU5PTUVNOworCisJCQlnb3RvIGVy
cl9ub19tZW0xOworCQl9CisKKwkJY3R4LT5mbGFnMl9idWYgPSBkbWFfYWxsb2NfY29oZXJlbnQo
ZGV2LCBGTEFHX1NJWkUsCisJCQkJCQkgICAgJmN0eC0+ZmxhZzJfYnVmX2RtYSwKKwkJCQkJCSAg
ICBHRlBfS0VSTkVMKTsKKwkJaWYgKCFjdHgtPmZsYWcyX2J1ZikgeworCQkJcmV0ID0gLUVOT01F
TTsKKworCQkJZ290byBlcnJfbm9fbWVtMjsKKwkJfQorCX0KKworCXJldHVybiAwOworCitlcnJf
bm9fbWVtMjoKKwlkbWFfZnJlZV9jb2hlcmVudChkZXYsIEZMQUdfU0laRSwgY3R4LT5mbGFnMV9i
dWYsCisJCQkgIGN0eC0+ZmxhZzFfYnVmX2RtYSk7CitlcnJfbm9fbWVtMToKKwlwbV9ydW50aW1l
X3B1dChkZXYpOworZXJyX3J1bnRpbWVfZ2V0OgorCWRlaW50ZXJsYWNlX3F1ZXVlX2NsZWFudXAo
dnEsIFZCMl9CVUZfU1RBVEVfUVVFVUVEKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyB2
b2lkIGRlaW50ZXJsYWNlX3N0b3Bfc3RyZWFtaW5nKHN0cnVjdCB2YjJfcXVldWUgKnZxKQorewor
CXN0cnVjdCBkZWludGVybGFjZV9jdHggKmN0eCA9IHZiMl9nZXRfZHJ2X3ByaXYodnEpOworCisJ
aWYgKFY0TDJfVFlQRV9JU19PVVRQVVQodnEtPnR5cGUpKSB7CisJCXN0cnVjdCBkZXZpY2UgKmRl
diA9IGN0eC0+ZGV2LT5kZXY7CisKKwkJZG1hX2ZyZWVfY29oZXJlbnQoZGV2LCBGTEFHX1NJWkUs
IGN0eC0+ZmxhZzFfYnVmLAorCQkJCSAgY3R4LT5mbGFnMV9idWZfZG1hKTsKKwkJZG1hX2ZyZWVf
Y29oZXJlbnQoZGV2LCBGTEFHX1NJWkUsIGN0eC0+ZmxhZzJfYnVmLAorCQkJCSAgY3R4LT5mbGFn
Ml9idWZfZG1hKTsKKworCQlwbV9ydW50aW1lX3B1dChkZXYpOworCX0KKworCWRlaW50ZXJsYWNl
X3F1ZXVlX2NsZWFudXAodnEsIFZCMl9CVUZfU1RBVEVfRVJST1IpOworfQorCitzdGF0aWMgY29u
c3Qgc3RydWN0IHZiMl9vcHMgZGVpbnRlcmxhY2VfcW9wcyA9IHsKKwkucXVldWVfc2V0dXAJCT0g
ZGVpbnRlcmxhY2VfcXVldWVfc2V0dXAsCisJLmJ1Zl9wcmVwYXJlCQk9IGRlaW50ZXJsYWNlX2J1
Zl9wcmVwYXJlLAorCS5idWZfcXVldWUJCT0gZGVpbnRlcmxhY2VfYnVmX3F1ZXVlLAorCS5zdGFy
dF9zdHJlYW1pbmcJPSBkZWludGVybGFjZV9zdGFydF9zdHJlYW1pbmcsCisJLnN0b3Bfc3RyZWFt
aW5nCQk9IGRlaW50ZXJsYWNlX3N0b3Bfc3RyZWFtaW5nLAorCS53YWl0X3ByZXBhcmUJCT0gdmIy
X29wc193YWl0X3ByZXBhcmUsCisJLndhaXRfZmluaXNoCQk9IHZiMl9vcHNfd2FpdF9maW5pc2gs
Cit9OworCitzdGF0aWMgaW50IGRlaW50ZXJsYWNlX3F1ZXVlX2luaXQodm9pZCAqcHJpdiwgc3Ry
dWN0IHZiMl9xdWV1ZSAqc3JjX3ZxLAorCQkJCSAgc3RydWN0IHZiMl9xdWV1ZSAqZHN0X3ZxKQor
eworCXN0cnVjdCBkZWludGVybGFjZV9jdHggKmN0eCA9IHByaXY7CisJaW50IHJldDsKKworCXNy
Y192cS0+dHlwZSA9IFY0TDJfQlVGX1RZUEVfVklERU9fT1VUUFVUOworCXNyY192cS0+aW9fbW9k
ZXMgPSBWQjJfTU1BUCB8IFZCMl9ETUFCVUY7CisJc3JjX3ZxLT5kcnZfcHJpdiA9IGN0eDsKKwlz
cmNfdnEtPmJ1Zl9zdHJ1Y3Rfc2l6ZSA9IHNpemVvZihzdHJ1Y3QgdjRsMl9tMm1fYnVmZmVyKTsK
KwlzcmNfdnEtPm1pbl9idWZmZXJzX25lZWRlZCA9IDE7CisJc3JjX3ZxLT5vcHMgPSAmZGVpbnRl
cmxhY2VfcW9wczsKKwlzcmNfdnEtPm1lbV9vcHMgPSAmdmIyX2RtYV9jb250aWdfbWVtb3BzOwor
CXNyY192cS0+dGltZXN0YW1wX2ZsYWdzID0gVjRMMl9CVUZfRkxBR19USU1FU1RBTVBfQ09QWTsK
KwlzcmNfdnEtPmxvY2sgPSAmY3R4LT5kZXYtPmRldl9tdXRleDsKKwlzcmNfdnEtPmRldiA9IGN0
eC0+ZGV2LT5kZXY7CisKKwlyZXQgPSB2YjJfcXVldWVfaW5pdChzcmNfdnEpOworCWlmIChyZXQp
CisJCXJldHVybiByZXQ7CisKKwlkc3RfdnEtPnR5cGUgPSBWNEwyX0JVRl9UWVBFX1ZJREVPX0NB
UFRVUkU7CisJZHN0X3ZxLT5pb19tb2RlcyA9IFZCMl9NTUFQIHwgVkIyX0RNQUJVRjsKKwlkc3Rf
dnEtPmRydl9wcml2ID0gY3R4OworCWRzdF92cS0+YnVmX3N0cnVjdF9zaXplID0gc2l6ZW9mKHN0
cnVjdCB2NGwyX20ybV9idWZmZXIpOworCWRzdF92cS0+bWluX2J1ZmZlcnNfbmVlZGVkID0gMjsK
Kwlkc3RfdnEtPm9wcyA9ICZkZWludGVybGFjZV9xb3BzOworCWRzdF92cS0+bWVtX29wcyA9ICZ2
YjJfZG1hX2NvbnRpZ19tZW1vcHM7CisJZHN0X3ZxLT50aW1lc3RhbXBfZmxhZ3MgPSBWNEwyX0JV
Rl9GTEFHX1RJTUVTVEFNUF9DT1BZOworCWRzdF92cS0+bG9jayA9ICZjdHgtPmRldi0+ZGV2X211
dGV4OworCWRzdF92cS0+ZGV2ID0gY3R4LT5kZXYtPmRldjsKKworCXJldCA9IHZiMl9xdWV1ZV9p
bml0KGRzdF92cSk7CisJaWYgKHJldCkKKwkJcmV0dXJuIHJldDsKKworCXJldHVybiAwOworfQor
CitzdGF0aWMgaW50IGRlaW50ZXJsYWNlX29wZW4oc3RydWN0IGZpbGUgKmZpbGUpCit7CisJc3Ry
dWN0IGRlaW50ZXJsYWNlX2RldiAqZGV2ID0gdmlkZW9fZHJ2ZGF0YShmaWxlKTsKKwlzdHJ1Y3Qg
ZGVpbnRlcmxhY2VfY3R4ICpjdHggPSBOVUxMOworCWludCByZXQ7CisKKwlpZiAobXV0ZXhfbG9j
a19pbnRlcnJ1cHRpYmxlKCZkZXYtPmRldl9tdXRleCkpCisJCXJldHVybiAtRVJFU1RBUlRTWVM7
CisKKwljdHggPSBremFsbG9jKHNpemVvZigqY3R4KSwgR0ZQX0tFUk5FTCk7CisJaWYgKCFjdHgp
IHsKKwkJbXV0ZXhfdW5sb2NrKCZkZXYtPmRldl9tdXRleCk7CisJCXJldHVybiAtRU5PTUVNOwor
CX0KKworCS8qIGRlZmF1bHQgb3V0cHV0IGZvcm1hdCAqLworCWN0eC0+c3JjX2ZtdC5waXhlbGZv
cm1hdCA9IGRlaW50ZXJsYWNlX2Zvcm1hdHNbMF07CisJY3R4LT5zcmNfZm10LmZpZWxkID0gVjRM
Ml9GSUVMRF9JTlRFUkxBQ0VEOworCWN0eC0+c3JjX2ZtdC53aWR0aCA9IDY0MDsKKwljdHgtPnNy
Y19mbXQuaGVpZ2h0ID0gNDgwOworCWRlaW50ZXJsYWNlX3ByZXBhcmVfZm9ybWF0KCZjdHgtPnNy
Y19mbXQpOworCisJLyogZGVmYXVsdCBjYXB0dXJlIGZvcm1hdCAqLworCWN0eC0+ZHN0X2ZtdC5w
aXhlbGZvcm1hdCA9IGRlaW50ZXJsYWNlX2Zvcm1hdHNbMF07CisJY3R4LT5kc3RfZm10LmZpZWxk
ID0gVjRMMl9GSUVMRF9OT05FOworCWN0eC0+ZHN0X2ZtdC53aWR0aCA9IDY0MDsKKwljdHgtPmRz
dF9mbXQuaGVpZ2h0ID0gNDgwOworCWRlaW50ZXJsYWNlX3ByZXBhcmVfZm9ybWF0KCZjdHgtPmRz
dF9mbXQpOworCisJdjRsMl9maF9pbml0KCZjdHgtPmZoLCB2aWRlb19kZXZkYXRhKGZpbGUpKTsK
KwlmaWxlLT5wcml2YXRlX2RhdGEgPSAmY3R4LT5maDsKKwljdHgtPmRldiA9IGRldjsKKworCWN0
eC0+ZmgubTJtX2N0eCA9IHY0bDJfbTJtX2N0eF9pbml0KGRldi0+bTJtX2RldiwgY3R4LAorCQkJ
CQkgICAgJmRlaW50ZXJsYWNlX3F1ZXVlX2luaXQpOworCWlmIChJU19FUlIoY3R4LT5maC5tMm1f
Y3R4KSkgeworCQlyZXQgPSBQVFJfRVJSKGN0eC0+ZmgubTJtX2N0eCk7CisJCWdvdG8gZXJyX2Zy
ZWU7CisJfQorCisJdjRsMl9maF9hZGQoJmN0eC0+ZmgpOworCisJbXV0ZXhfdW5sb2NrKCZkZXYt
PmRldl9tdXRleCk7CisKKwlyZXR1cm4gMDsKKworZXJyX2ZyZWU6CisJa2ZyZWUoY3R4KTsKKwlt
dXRleF91bmxvY2soJmRldi0+ZGV2X211dGV4KTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRp
YyBpbnQgZGVpbnRlcmxhY2VfcmVsZWFzZShzdHJ1Y3QgZmlsZSAqZmlsZSkKK3sKKwlzdHJ1Y3Qg
ZGVpbnRlcmxhY2VfZGV2ICpkZXYgPSB2aWRlb19kcnZkYXRhKGZpbGUpOworCXN0cnVjdCBkZWlu
dGVybGFjZV9jdHggKmN0eCA9IGNvbnRhaW5lcl9vZihmaWxlLT5wcml2YXRlX2RhdGEsCisJCQkJ
CQkgICBzdHJ1Y3QgZGVpbnRlcmxhY2VfY3R4LCBmaCk7CisKKwltdXRleF9sb2NrKCZkZXYtPmRl
dl9tdXRleCk7CisKKwl2NGwyX2ZoX2RlbCgmY3R4LT5maCk7CisJdjRsMl9maF9leGl0KCZjdHgt
PmZoKTsKKwl2NGwyX20ybV9jdHhfcmVsZWFzZShjdHgtPmZoLm0ybV9jdHgpOworCisJa2ZyZWUo
Y3R4KTsKKworCW11dGV4X3VubG9jaygmZGV2LT5kZXZfbXV0ZXgpOworCisJcmV0dXJuIDA7Cit9
CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgdjRsMl9maWxlX29wZXJhdGlvbnMgZGVpbnRlcmxhY2Vf
Zm9wcyA9IHsKKwkub3duZXIJCT0gVEhJU19NT0RVTEUsCisJLm9wZW4JCT0gZGVpbnRlcmxhY2Vf
b3BlbiwKKwkucmVsZWFzZQk9IGRlaW50ZXJsYWNlX3JlbGVhc2UsCisJLnBvbGwJCT0gdjRsMl9t
Mm1fZm9wX3BvbGwsCisJLnVubG9ja2VkX2lvY3RsCT0gdmlkZW9faW9jdGwyLAorCS5tbWFwCQk9
IHY0bDJfbTJtX2ZvcF9tbWFwLAorfTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCB2aWRlb19kZXZp
Y2UgZGVpbnRlcmxhY2VfdmlkZW9fZGV2aWNlID0geworCS5uYW1lCQk9IERFSU5URVJMQUNFX05B
TUUsCisJLnZmbF9kaXIJPSBWRkxfRElSX00yTSwKKwkuZm9wcwkJPSAmZGVpbnRlcmxhY2VfZm9w
cywKKwkuaW9jdGxfb3BzCT0gJmRlaW50ZXJsYWNlX2lvY3RsX29wcywKKwkubWlub3IJCT0gLTEs
CisJLnJlbGVhc2UJPSB2aWRlb19kZXZpY2VfcmVsZWFzZV9lbXB0eSwKKwkuZGV2aWNlX2NhcHMJ
PSBWNEwyX0NBUF9WSURFT19NMk0gfCBWNEwyX0NBUF9TVFJFQU1JTkcsCit9OworCitzdGF0aWMg
Y29uc3Qgc3RydWN0IHY0bDJfbTJtX29wcyBkZWludGVybGFjZV9tMm1fb3BzID0geworCS5kZXZp
Y2VfcnVuCT0gZGVpbnRlcmxhY2VfZGV2aWNlX3J1biwKKwkuam9iX3JlYWR5CT0gZGVpbnRlcmxh
Y2Vfam9iX3JlYWR5LAorCS5qb2JfYWJvcnQJPSBkZWludGVybGFjZV9qb2JfYWJvcnQsCit9Owor
CitzdGF0aWMgaW50IGRlaW50ZXJsYWNlX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBk
ZXYpCit7CisJc3RydWN0IGRlaW50ZXJsYWNlX2RldiAqZGV2OworCXN0cnVjdCB2aWRlb19kZXZp
Y2UgKnZmZDsKKwlzdHJ1Y3QgcmVzb3VyY2UgKnJlczsKKwlpbnQgaXJxLCByZXQ7CisKKwlkZXYg
PSBkZXZtX2t6YWxsb2MoJnBkZXYtPmRldiwgc2l6ZW9mKCpkZXYpLCBHRlBfS0VSTkVMKTsKKwlp
ZiAoIWRldikKKwkJcmV0dXJuIC1FTk9NRU07CisKKwlkZXYtPnZmZCA9IGRlaW50ZXJsYWNlX3Zp
ZGVvX2RldmljZTsKKwlkZXYtPmRldiA9ICZwZGV2LT5kZXY7CisKKwlpcnEgPSBwbGF0Zm9ybV9n
ZXRfaXJxKHBkZXYsIDApOworCWlmIChpcnEgPD0gMCkgeworCQlkZXZfZXJyKGRldi0+ZGV2LCAi
RmFpbGVkIHRvIGdldCBJUlFcbiIpOworCisJCXJldHVybiBpcnE7CisJfQorCisJcmV0ID0gZGV2
bV9yZXF1ZXN0X2lycShkZXYtPmRldiwgaXJxLCBkZWludGVybGFjZV9pcnEsCisJCQkgICAgICAg
MCwgZGV2X25hbWUoZGV2LT5kZXYpLCBkZXYpOworCWlmIChyZXQpIHsKKwkJZGV2X2VycihkZXYt
PmRldiwgIkZhaWxlZCB0byByZXF1ZXN0IElSUVxuIik7CisKKwkJcmV0dXJuIHJldDsKKwl9CisK
KwlyZXQgPSBvZl9kbWFfY29uZmlndXJlKGRldi0+ZGV2LCBkZXYtPmRldi0+b2Zfbm9kZSwgdHJ1
ZSk7CisJaWYgKHJldCkKKwkJcmV0dXJuIHJldDsKKworCXJlcyA9IHBsYXRmb3JtX2dldF9yZXNv
dXJjZShwZGV2LCBJT1JFU09VUkNFX01FTSwgMCk7CisJZGV2LT5iYXNlID0gZGV2bV9pb3JlbWFw
X3Jlc291cmNlKCZwZGV2LT5kZXYsIHJlcyk7CisJaWYgKElTX0VSUihkZXYtPmJhc2UpKSB7CisJ
CWRldl9lcnIoZGV2LT5kZXYsICJGYWlsZWQgdG8gbWFwIHJlZ2lzdGVyc1xuIik7CisKKwkJcmV0
dXJuIFBUUl9FUlIoZGV2LT5iYXNlKTsKKwl9CisKKwlkZXYtPmJ1c19jbGsgPSBkZXZtX2Nsa19n
ZXQoZGV2LT5kZXYsICJidXMiKTsKKwlpZiAoSVNfRVJSKGRldi0+YnVzX2NsaykpIHsKKwkJZGV2
X2VycihkZXYtPmRldiwgIkZhaWxlZCB0byBnZXQgYnVzIGNsb2NrXG4iKTsKKworCQlyZXR1cm4g
UFRSX0VSUihkZXYtPmJ1c19jbGspOworCX0KKworCWRldi0+bW9kX2NsayA9IGRldm1fY2xrX2dl
dChkZXYtPmRldiwgIm1vZCIpOworCWlmIChJU19FUlIoZGV2LT5tb2RfY2xrKSkgeworCQlkZXZf
ZXJyKGRldi0+ZGV2LCAiRmFpbGVkIHRvIGdldCBtb2QgY2xvY2tcbiIpOworCisJCXJldHVybiBQ
VFJfRVJSKGRldi0+bW9kX2Nsayk7CisJfQorCisJZGV2LT5yYW1fY2xrID0gZGV2bV9jbGtfZ2V0
KGRldi0+ZGV2LCAicmFtIik7CisJaWYgKElTX0VSUihkZXYtPnJhbV9jbGspKSB7CisJCWRldl9l
cnIoZGV2LT5kZXYsICJGYWlsZWQgdG8gZ2V0IHJhbSBjbG9ja1xuIik7CisKKwkJcmV0dXJuIFBU
Ul9FUlIoZGV2LT5yYW1fY2xrKTsKKwl9CisKKwlkZXYtPnJzdGMgPSBkZXZtX3Jlc2V0X2NvbnRy
b2xfZ2V0KGRldi0+ZGV2LCBOVUxMKTsKKwlpZiAoSVNfRVJSKGRldi0+cnN0YykpIHsKKwkJZGV2
X2VycihkZXYtPmRldiwgIkZhaWxlZCB0byBnZXQgcmVzZXQgY29udHJvbFxuIik7CisKKwkJcmV0
dXJuIFBUUl9FUlIoZGV2LT5yc3RjKTsKKwl9CisKKwltdXRleF9pbml0KCZkZXYtPmRldl9tdXRl
eCk7CisKKwlyZXQgPSB2NGwyX2RldmljZV9yZWdpc3RlcigmcGRldi0+ZGV2LCAmZGV2LT52NGwy
X2Rldik7CisJaWYgKHJldCkgeworCQlkZXZfZXJyKGRldi0+ZGV2LCAiRmFpbGVkIHRvIHJlZ2lz
dGVyIFY0TDIgZGV2aWNlXG4iKTsKKworCQlyZXR1cm4gcmV0OworCX0KKworCXZmZCA9ICZkZXYt
PnZmZDsKKwl2ZmQtPmxvY2sgPSAmZGV2LT5kZXZfbXV0ZXg7CisJdmZkLT52NGwyX2RldiA9ICZk
ZXYtPnY0bDJfZGV2OworCisJc25wcmludGYodmZkLT5uYW1lLCBzaXplb2YodmZkLT5uYW1lKSwg
IiVzIiwKKwkJIGRlaW50ZXJsYWNlX3ZpZGVvX2RldmljZS5uYW1lKTsKKwl2aWRlb19zZXRfZHJ2
ZGF0YSh2ZmQsIGRldik7CisKKwlyZXQgPSB2aWRlb19yZWdpc3Rlcl9kZXZpY2UodmZkLCBWRkxf
VFlQRV9HUkFCQkVSLCAwKTsKKwlpZiAocmV0KSB7CisJCXY0bDJfZXJyKCZkZXYtPnY0bDJfZGV2
LCAiRmFpbGVkIHRvIHJlZ2lzdGVyIHZpZGVvIGRldmljZVxuIik7CisKKwkJZ290byBlcnJfdjRs
MjsKKwl9CisKKwl2NGwyX2luZm8oJmRldi0+djRsMl9kZXYsCisJCSAgIkRldmljZSByZWdpc3Rl
cmVkIGFzIC9kZXYvdmlkZW8lZFxuIiwgdmZkLT5udW0pOworCisJZGV2LT5tMm1fZGV2ID0gdjRs
Ml9tMm1faW5pdCgmZGVpbnRlcmxhY2VfbTJtX29wcyk7CisJaWYgKElTX0VSUihkZXYtPm0ybV9k
ZXYpKSB7CisJCXY0bDJfZXJyKCZkZXYtPnY0bDJfZGV2LAorCQkJICJGYWlsZWQgdG8gaW5pdGlh
bGl6ZSBWNEwyIE0yTSBkZXZpY2VcbiIpOworCQlyZXQgPSBQVFJfRVJSKGRldi0+bTJtX2Rldik7
CisKKwkJZ290byBlcnJfdmlkZW87CisJfQorCisJcGxhdGZvcm1fc2V0X2RydmRhdGEocGRldiwg
ZGV2KTsKKworCXBtX3J1bnRpbWVfZW5hYmxlKGRldi0+ZGV2KTsKKworCXJldHVybiAwOworCitl
cnJfdmlkZW86CisJdmlkZW9fdW5yZWdpc3Rlcl9kZXZpY2UoJmRldi0+dmZkKTsKK2Vycl92NGwy
OgorCXY0bDJfZGV2aWNlX3VucmVnaXN0ZXIoJmRldi0+djRsMl9kZXYpOworCisJcmV0dXJuIHJl
dDsKK30KKworc3RhdGljIGludCBkZWludGVybGFjZV9yZW1vdmUoc3RydWN0IHBsYXRmb3JtX2Rl
dmljZSAqcGRldikKK3sKKwlzdHJ1Y3QgZGVpbnRlcmxhY2VfZGV2ICpkZXYgPSBwbGF0Zm9ybV9n
ZXRfZHJ2ZGF0YShwZGV2KTsKKworCXY0bDJfbTJtX3JlbGVhc2UoZGV2LT5tMm1fZGV2KTsKKwl2
aWRlb191bnJlZ2lzdGVyX2RldmljZSgmZGV2LT52ZmQpOworCXY0bDJfZGV2aWNlX3VucmVnaXN0
ZXIoJmRldi0+djRsMl9kZXYpOworCisJcG1fcnVudGltZV9mb3JjZV9zdXNwZW5kKCZwZGV2LT5k
ZXYpOworCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgZGVpbnRlcmxhY2VfcnVudGltZV9y
ZXN1bWUoc3RydWN0IGRldmljZSAqZGV2aWNlKQoreworCXN0cnVjdCBkZWludGVybGFjZV9kZXYg
KmRldiA9IGRldl9nZXRfZHJ2ZGF0YShkZXZpY2UpOworCWludCByZXQ7CisKKwlyZXQgPSBjbGtf
c2V0X3JhdGVfZXhjbHVzaXZlKGRldi0+bW9kX2NsaywgMzAwMDAwMDAwKTsKKwlpZiAocmV0KSB7
CisJCWRldl9lcnIoZGV2LT5kZXYsICJGYWlsZWQgdG8gc2V0IGV4Y2x1c2l2ZSBtb2QgY2xvY2sg
cmF0ZVxuIik7CisKKwkJcmV0dXJuIHJldDsKKwl9CisKKwlyZXQgPSBjbGtfcHJlcGFyZV9lbmFi
bGUoZGV2LT5idXNfY2xrKTsKKwlpZiAocmV0KSB7CisJCWRldl9lcnIoZGV2LT5kZXYsICJGYWls
ZWQgdG8gZW5hYmxlIGJ1cyBjbG9ja1xuIik7CisKKwkJZ290byBlcnJfZXhsdXNpdmVfcmF0ZTsK
Kwl9CisKKwlyZXQgPSBjbGtfcHJlcGFyZV9lbmFibGUoZGV2LT5tb2RfY2xrKTsKKwlpZiAocmV0
KSB7CisJCWRldl9lcnIoZGV2LT5kZXYsICJGYWlsZWQgdG8gZW5hYmxlIG1vZCBjbG9ja1xuIik7
CisKKwkJZ290byBlcnJfYnVzX2NsazsKKwl9CisKKwlyZXQgPSBjbGtfcHJlcGFyZV9lbmFibGUo
ZGV2LT5yYW1fY2xrKTsKKwlpZiAocmV0KSB7CisJCWRldl9lcnIoZGV2LT5kZXYsICJGYWlsZWQg
dG8gZW5hYmxlIHJhbSBjbG9ja1xuIik7CisKKwkJZ290byBlcnJfbW9kX2NsazsKKwl9CisKKwly
ZXQgPSByZXNldF9jb250cm9sX2RlYXNzZXJ0KGRldi0+cnN0Yyk7CisJaWYgKHJldCkgeworCQlk
ZXZfZXJyKGRldi0+ZGV2LCAiRmFpbGVkIHRvIGFwcGx5IHJlc2V0XG4iKTsKKworCQlnb3RvIGVy
cl9yYW1fY2xrOworCX0KKworCWRlaW50ZXJsYWNlX2luaXQoZGV2KTsKKworCXJldHVybiAwOwor
CitlcnJfZXhsdXNpdmVfcmF0ZToKKwljbGtfcmF0ZV9leGNsdXNpdmVfcHV0KGRldi0+bW9kX2Ns
ayk7CitlcnJfcmFtX2NsazoKKwljbGtfZGlzYWJsZV91bnByZXBhcmUoZGV2LT5yYW1fY2xrKTsK
K2Vycl9tb2RfY2xrOgorCWNsa19kaXNhYmxlX3VucHJlcGFyZShkZXYtPm1vZF9jbGspOworZXJy
X2J1c19jbGs6CisJY2xrX2Rpc2FibGVfdW5wcmVwYXJlKGRldi0+YnVzX2Nsayk7CisKKwlyZXR1
cm4gcmV0OworfQorCitzdGF0aWMgaW50IGRlaW50ZXJsYWNlX3J1bnRpbWVfc3VzcGVuZChzdHJ1
Y3QgZGV2aWNlICpkZXZpY2UpCit7CisJc3RydWN0IGRlaW50ZXJsYWNlX2RldiAqZGV2ID0gZGV2
X2dldF9kcnZkYXRhKGRldmljZSk7CisKKwlyZXNldF9jb250cm9sX2Fzc2VydChkZXYtPnJzdGMp
OworCisJY2xrX2Rpc2FibGVfdW5wcmVwYXJlKGRldi0+cmFtX2Nsayk7CisJY2xrX2Rpc2FibGVf
dW5wcmVwYXJlKGRldi0+bW9kX2Nsayk7CisJY2xrX2Rpc2FibGVfdW5wcmVwYXJlKGRldi0+YnVz
X2Nsayk7CisJY2xrX3JhdGVfZXhjbHVzaXZlX3B1dChkZXYtPm1vZF9jbGspOworCisJcmV0dXJu
IDA7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGRlaW50ZXJsYWNlX2R0
X21hdGNoW10gPSB7CisJeyAuY29tcGF0aWJsZSA9ICJhbGx3aW5uZXIsc3VuOGktaDMtZGVpbnRl
cmxhY2UiIH0sCisJeyAvKiBzZW50aW5lbCAqLyB9Cit9OworTU9EVUxFX0RFVklDRV9UQUJMRShv
ZiwgZGVpbnRlcmxhY2VfZHRfbWF0Y2gpOworCitzdGF0aWMgY29uc3Qgc3RydWN0IGRldl9wbV9v
cHMgZGVpbnRlcmxhY2VfcG1fb3BzID0geworCS5ydW50aW1lX3Jlc3VtZQkJPSBkZWludGVybGFj
ZV9ydW50aW1lX3Jlc3VtZSwKKwkucnVudGltZV9zdXNwZW5kCT0gZGVpbnRlcmxhY2VfcnVudGlt
ZV9zdXNwZW5kLAorfTsKKworc3RhdGljIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgZGVpbnRlcmxh
Y2VfZHJpdmVyID0geworCS5wcm9iZQkJPSBkZWludGVybGFjZV9wcm9iZSwKKwkucmVtb3ZlCQk9
IGRlaW50ZXJsYWNlX3JlbW92ZSwKKwkuZHJpdmVyCQk9IHsKKwkJLm5hbWUJCT0gREVJTlRFUkxB
Q0VfTkFNRSwKKwkJLm9mX21hdGNoX3RhYmxlCT0gZGVpbnRlcmxhY2VfZHRfbWF0Y2gsCisJCS5w
bQkJPSAmZGVpbnRlcmxhY2VfcG1fb3BzLAorCX0sCit9OworbW9kdWxlX3BsYXRmb3JtX2RyaXZl
cihkZWludGVybGFjZV9kcml2ZXIpOworCitNT0RVTEVfTElDRU5TRSgiR1BMIHYyIik7CitNT0RV
TEVfQVVUSE9SKCJKZXJuZWogU2tyYWJlYyA8amVybmVqLnNrcmFiZWNAc2lvbC5uZXQ+Iik7CitN
T0RVTEVfREVTQ1JJUFRJT04oIkFsbHdpbm5lciBEZWludGVybGFjZSBkcml2ZXIiKTsKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vc3VueGkvc3VuOGktZGkvc3VuOGktZGkuaCBi
L2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vc3VueGkvc3VuOGktZGkvc3VuOGktZGkuaApuZXcgZmls
ZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLjAyNTQyNTFkODY4NwotLS0gL2Rldi9u
dWxsCisrKyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vc3VueGkvc3VuOGktZGkvc3VuOGktZGku
aApAQCAtMCwwICsxLDIzNyBAQAorLyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAg
Ki8KKy8qCisgKiBBbGx3aW5uZXIgRGVpbnRlcmxhY2UgZHJpdmVyCisgKgorICogQ29weXJpZ2h0
IChDKSAyMDE5IEplcm5laiBTa3JhYmVjIDxqZXJuZWouc2tyYWJlY0BzaW9sLm5ldD4KKyAqLwor
CisjaWZuZGVmIF9TVU44SV9ERUlOVEVSTEFDRV9IXworI2RlZmluZSBfU1VOOElfREVJTlRFUkxB
Q0VfSF8KKworI2luY2x1ZGUgPG1lZGlhL3Y0bDItZGV2aWNlLmg+CisjaW5jbHVkZSA8bWVkaWEv
djRsMi1tZW0ybWVtLmg+CisjaW5jbHVkZSA8bWVkaWEvdmlkZW9idWYyLXY0bDIuaD4KKyNpbmNs
dWRlIDxtZWRpYS92aWRlb2J1ZjItZG1hLWNvbnRpZy5oPgorCisjaW5jbHVkZSA8bGludXgvcGxh
dGZvcm1fZGV2aWNlLmg+CisKKyNkZWZpbmUgREVJTlRFUkxBQ0VfTkFNRQkJInN1bjhpLWRpIgor
CisjZGVmaW5lIERFSU5URVJMQUNFX01PRF9FTkFCTEUJCQkweDAwCisjZGVmaW5lIERFSU5URVJM
QUNFX01PRF9FTkFCTEVfRU4JCQlCSVQoMCkKKworI2RlZmluZSBERUlOVEVSTEFDRV9GUk1fQ1RS
TAkJCTB4MDQKKyNkZWZpbmUgREVJTlRFUkxBQ0VfRlJNX0NUUkxfUkVHX1JFQURZCQkJQklUKDAp
CisjZGVmaW5lIERFSU5URVJMQUNFX0ZSTV9DVFJMX1dCX0VOCQkJQklUKDIpCisjZGVmaW5lIERF
SU5URVJMQUNFX0ZSTV9DVFJMX09VVF9DVFJMCQkJQklUKDExKQorI2RlZmluZSBERUlOVEVSTEFD
RV9GUk1fQ1RSTF9TVEFSVAkJCUJJVCgxNikKKyNkZWZpbmUgREVJTlRFUkxBQ0VfRlJNX0NUUkxf
Q09FRl9BQ0NFU1MJCUJJVCgyMykKKworI2RlZmluZSBERUlOVEVSTEFDRV9CWVBBU1MJCQkweDA4
CisjZGVmaW5lIERFSU5URVJMQUNFX0JZUEFTU19DU0MJCQkJQklUKDEpCisKKyNkZWZpbmUgREVJ
TlRFUkxBQ0VfQUdUSF9TRUwJCQkweDBjCisjZGVmaW5lIERFSU5URVJMQUNFX0FHVEhfU0VMX0xJ
TkVCVUYJCQlCSVQoOCkKKworI2RlZmluZSBERUlOVEVSTEFDRV9MSU5UX0NUUkwJCQkweDEwCisj
ZGVmaW5lIERFSU5URVJMQUNFX1RSRF9QUkVMVU1BCQkJMHgxYworI2RlZmluZSBERUlOVEVSTEFD
RV9CVUZfQUREUjAJCQkweDIwCisjZGVmaW5lIERFSU5URVJMQUNFX0JVRl9BRERSMQkJCTB4MjQK
KyNkZWZpbmUgREVJTlRFUkxBQ0VfQlVGX0FERFIyCQkJMHgyOAorCisjZGVmaW5lIERFSU5URVJM
QUNFX0ZJRUxEX0NUUkwJCQkweDJjCisjZGVmaW5lIERFSU5URVJMQUNFX0ZJRUxEX0NUUkxfRklF
TERfQ05UKHYpCQkoKHYpICYgMHhmZikKKyNkZWZpbmUgREVJTlRFUkxBQ0VfRklFTERfQ1RSTF9G
SUVMRF9DTlRfTVNLCQkoMHhmZikKKworI2RlZmluZSBERUlOVEVSTEFDRV9UQl9PRkZTRVQwCQkJ
MHgzMAorI2RlZmluZSBERUlOVEVSTEFDRV9UQl9PRkZTRVQxCQkJMHgzNAorI2RlZmluZSBERUlO
VEVSTEFDRV9UQl9PRkZTRVQyCQkJMHgzOAorI2RlZmluZSBERUlOVEVSTEFDRV9UUkRfUFJFQ0hS
T01BCQkweDNjCisjZGVmaW5lIERFSU5URVJMQUNFX0xJTkVfU1RSSURFMAkJMHg0MAorI2RlZmlu
ZSBERUlOVEVSTEFDRV9MSU5FX1NUUklERTEJCTB4NDQKKyNkZWZpbmUgREVJTlRFUkxBQ0VfTElO
RV9TVFJJREUyCQkweDQ4CisKKyNkZWZpbmUgREVJTlRFUkxBQ0VfSU5fRk1UCQkJMHg0YworI2Rl
ZmluZSBERUlOVEVSTEFDRV9JTl9GTVRfUFModikJCQkoKHYpICYgMykKKyNkZWZpbmUgREVJTlRF
UkxBQ0VfSU5fRk1UX0ZNVCh2KQkJCSgoKHYpICYgNykgPDwgNCkKKyNkZWZpbmUgREVJTlRFUkxB
Q0VfSU5fRk1UX01PRCh2KQkJCSgoKHYpICYgNykgPDwgOCkKKworI2RlZmluZSBERUlOVEVSTEFD
RV9XQl9BRERSMAkJCTB4NTAKKyNkZWZpbmUgREVJTlRFUkxBQ0VfV0JfQUREUjEJCQkweDU0Cisj
ZGVmaW5lIERFSU5URVJMQUNFX1dCX0FERFIyCQkJMHg1OAorCisjZGVmaW5lIERFSU5URVJMQUNF
X09VVF9GTVQJCQkweDVjCisjZGVmaW5lIERFSU5URVJMQUNFX09VVF9GTVRfRk1UKHYpCQkJKCh2
KSAmIDB4ZikKKyNkZWZpbmUgREVJTlRFUkxBQ0VfT1VUX0ZNVF9QUyh2KQkJCSgoKHYpICYgMykg
PDwgNSkKKworI2RlZmluZSBERUlOVEVSTEFDRV9JTlRfRU5BQkxFCQkJMHg2MAorI2RlZmluZSBE
RUlOVEVSTEFDRV9JTlRfRU5BQkxFX1dCX0VOCQkJQklUKDcpCisKKyNkZWZpbmUgREVJTlRFUkxB
Q0VfSU5UX1NUQVRVUwkJCTB4NjQKKyNkZWZpbmUgREVJTlRFUkxBQ0VfSU5UX1NUQVRVU19XUklU
RUJBQ0sJCUJJVCg3KQorCisjZGVmaW5lIERFSU5URVJMQUNFX1NUQVRVUwkJCTB4NjgKKyNkZWZp
bmUgREVJTlRFUkxBQ0VfU1RBVFVTX0NPRUZfU1RBVFVTCQkJQklUKDExKQorI2RlZmluZSBERUlO
VEVSTEFDRV9TVEFUVVNfV0JfRVJST1IJCQlCSVQoMTIpCisKKyNkZWZpbmUgREVJTlRFUkxBQ0Vf
Q1NDX0NPRUYJCQkweDcwIC8qIDEyIHJlZ2lzdGVycyAqLworCisjZGVmaW5lIERFSU5URVJMQUNF
X0NUUkwJCQkweGEwCisjZGVmaW5lIERFSU5URVJMQUNFX0NUUkxfRU4JCQkJQklUKDApCisjZGVm
aW5lIERFSU5URVJMQUNFX0NUUkxfRkxBR19PVVRfRU4JCQlCSVQoOCkKKyNkZWZpbmUgREVJTlRF
UkxBQ0VfQ1RSTF9NT0RFX1BBU1NUUk9VR0gJCSgwIDw8IDE2KQorI2RlZmluZSBERUlOVEVSTEFD
RV9DVFJMX01PREVfV0VBVkUJCQkoMSA8PCAxNikKKyNkZWZpbmUgREVJTlRFUkxBQ0VfQ1RSTF9N
T0RFX0JPQgkJCSgyIDw8IDE2KQorI2RlZmluZSBERUlOVEVSTEFDRV9DVFJMX01PREVfTUlYRUQJ
CQkoMyA8PCAxNikKKyNkZWZpbmUgREVJTlRFUkxBQ0VfQ1RSTF9ESUFHX0lOVFBfRU4JCQlCSVQo
MjQpCisjZGVmaW5lIERFSU5URVJMQUNFX0NUUkxfVEVNUF9ESUZGX0VOCQkJQklUKDI1KQorCisj
ZGVmaW5lIERFSU5URVJMQUNFX0RJQUdfSU5UUAkJCTB4YTQKKyNkZWZpbmUgREVJTlRFUkxBQ0Vf
RElBR19JTlRQX1RIMCh2KQkJCSgodikgJiAweDdmKQorI2RlZmluZSBERUlOVEVSTEFDRV9ESUFH
X0lOVFBfVEgwX01TSwkJCSgweDdmKQorI2RlZmluZSBERUlOVEVSTEFDRV9ESUFHX0lOVFBfVEgx
KHYpCQkJKCgodikgJiAweDdmKSA8PCA4KQorI2RlZmluZSBERUlOVEVSTEFDRV9ESUFHX0lOVFBf
VEgxX01TSwkJCSgweDdmIDw8IDgpCisjZGVmaW5lIERFSU5URVJMQUNFX0RJQUdfSU5UUF9USDMo
dikJCQkoKCh2KSAmIDB4ZmYpIDw8IDI0KQorI2RlZmluZSBERUlOVEVSTEFDRV9ESUFHX0lOVFBf
VEgzX01TSwkJCSgweGZmIDw8IDI0KQorCisjZGVmaW5lIERFSU5URVJMQUNFX1RFTVBfRElGRgkJ
CTB4YTgKKyNkZWZpbmUgREVJTlRFUkxBQ0VfVEVNUF9ESUZGX1NBRF9DRU5UUkFMX1RIKHYpCQko
KHYpICYgMHg3ZikKKyNkZWZpbmUgREVJTlRFUkxBQ0VfVEVNUF9ESUZGX1NBRF9DRU5UUkFMX1RI
X01TSwkoMHg3ZikKKyNkZWZpbmUgREVJTlRFUkxBQ0VfVEVNUF9ESUZGX0FNQklHVUlUWV9USCh2
KQkJKCgodikgJiAweDdmKSA8PCA4KQorI2RlZmluZSBERUlOVEVSTEFDRV9URU1QX0RJRkZfQU1C
SUdVSVRZX1RIX01TSwkJKDB4N2YgPDwgOCkKKyNkZWZpbmUgREVJTlRFUkxBQ0VfVEVNUF9ESUZG
X0RJUkVDVF9ESVRIRVJfVEgodikJKCgodikgJiAweDdmZikgPDwgMTYpCisjZGVmaW5lIERFSU5U
RVJMQUNFX1RFTVBfRElGRl9ESVJFQ1RfRElUSEVSX1RIX01TSwkoMHg3ZmYgPDwgMTYpCisKKyNk
ZWZpbmUgREVJTlRFUkxBQ0VfTFVNQV9USAkJCTB4YWMKKyNkZWZpbmUgREVJTlRFUkxBQ0VfTFVN
QV9USF9NSU5fTFVNQSh2KQkJCSgodikgJiAweGZmKQorI2RlZmluZSBERUlOVEVSTEFDRV9MVU1B
X1RIX01JTl9MVU1BX01TSwkJKDB4ZmYpCisjZGVmaW5lIERFSU5URVJMQUNFX0xVTUFfVEhfTUFY
X0xVTUEodikJCQkoKCh2KSAmIDB4ZmYpIDw8IDgpCisjZGVmaW5lIERFSU5URVJMQUNFX0xVTUFf
VEhfTUFYX0xVTUFfTVNLCQkoMHhmZiA8PCA4KQorI2RlZmluZSBERUlOVEVSTEFDRV9MVU1BX1RI
X0FWR19MVU1BX1NISUZUKHYpCQkoKCh2KSAmIDB4ZmYpIDw8IDE2KQorI2RlZmluZSBERUlOVEVS
TEFDRV9MVU1BX1RIX0FWR19MVU1BX1NISUZUX01TSwkJKDB4ZmYgPDwgMTYpCisjZGVmaW5lIERF
SU5URVJMQUNFX0xVTUFfVEhfUElYRUxfU1RBVElDKHYpCQkoKCh2KSAmIDMpIDw8IDI0KQorI2Rl
ZmluZSBERUlOVEVSTEFDRV9MVU1BX1RIX1BJWEVMX1NUQVRJQ19NU0sJCSgzIDw8IDI0KQorCisj
ZGVmaW5lIERFSU5URVJMQUNFX1NQQVRfQ09NUAkJCTB4YjAKKyNkZWZpbmUgREVJTlRFUkxBQ0Vf
U1BBVF9DT01QX1RIMih2KQkJCSgodikgJiAweGZmKQorI2RlZmluZSBERUlOVEVSTEFDRV9TUEFU
X0NPTVBfVEgyX01TSwkJCSgweGZmKQorI2RlZmluZSBERUlOVEVSTEFDRV9TUEFUX0NPTVBfVEgz
KHYpCQkJKCgodikgJiAweGZmKSA8PCAxNikKKyNkZWZpbmUgREVJTlRFUkxBQ0VfU1BBVF9DT01Q
X1RIM19NU0sJCQkoMHhmZiA8PCAxNikKKworI2RlZmluZSBERUlOVEVSTEFDRV9DSFJPTUFfRElG
RgkJCTB4YjQKKyNkZWZpbmUgREVJTlRFUkxBQ0VfQ0hST01BX0RJRkZfVEgodikJCQkoKHYpICYg
MHhmZikKKyNkZWZpbmUgREVJTlRFUkxBQ0VfQ0hST01BX0RJRkZfVEhfTVNLCQkJKDB4ZmYpCisj
ZGVmaW5lIERFSU5URVJMQUNFX0NIUk9NQV9ESUZGX0xVTUEodikJCQkoKCh2KSAmIDB4M2YpIDw8
IDE2KQorI2RlZmluZSBERUlOVEVSTEFDRV9DSFJPTUFfRElGRl9MVU1BX01TSwkJKDB4M2YgPDwg
MTYpCisjZGVmaW5lIERFSU5URVJMQUNFX0NIUk9NQV9ESUZGX0NIUk9NQSh2KQkJKCgodikgJiAw
eDNmKSA8PCAyNCkKKyNkZWZpbmUgREVJTlRFUkxBQ0VfQ0hST01BX0RJRkZfQ0hST01BX01TSwkJ
KDB4M2YgPDwgMjQpCisKKyNkZWZpbmUgREVJTlRFUkxBQ0VfUFJFTFVNQQkJCTB4YjgKKyNkZWZp
bmUgREVJTlRFUkxBQ0VfUFJFQ0hST01BCQkJMHhiYworI2RlZmluZSBERUlOVEVSTEFDRV9USUxF
X0ZMQUcwCQkJMHhjMAorI2RlZmluZSBERUlOVEVSTEFDRV9USUxFX0ZMQUcxCQkJMHhjNAorI2Rl
ZmluZSBERUlOVEVSTEFDRV9GTEFHX0xJTkVfU1RSSURFCQkweGM4CisjZGVmaW5lIERFSU5URVJM
QUNFX0ZMQUdfU0VRCQkJMHhjYworCisjZGVmaW5lIERFSU5URVJMQUNFX1dCX0xJTkVfU1RSSURF
X0NUUkwJCTB4ZDAKKyNkZWZpbmUgREVJTlRFUkxBQ0VfV0JfTElORV9TVFJJREVfQ1RSTF9FTgkJ
QklUKDApCisKKyNkZWZpbmUgREVJTlRFUkxBQ0VfV0JfTElORV9TVFJJREUwCQkweGQ0CisjZGVm
aW5lIERFSU5URVJMQUNFX1dCX0xJTkVfU1RSSURFMQkJMHhkOAorI2RlZmluZSBERUlOVEVSTEFD
RV9XQl9MSU5FX1NUUklERTIJCTB4ZGMKKyNkZWZpbmUgREVJTlRFUkxBQ0VfVFJEX0NUUkwJCQkw
eGUwCisjZGVmaW5lIERFSU5URVJMQUNFX1RSRF9CVUZfQUREUjAJCTB4ZTQKKyNkZWZpbmUgREVJ
TlRFUkxBQ0VfVFJEX0JVRl9BRERSMQkJMHhlOAorI2RlZmluZSBERUlOVEVSTEFDRV9UUkRfQlVG
X0FERFIyCQkweGVjCisjZGVmaW5lIERFSU5URVJMQUNFX1RSRF9UQl9PRkYwCQkJMHhmMAorI2Rl
ZmluZSBERUlOVEVSTEFDRV9UUkRfVEJfT0ZGMQkJCTB4ZjQKKyNkZWZpbmUgREVJTlRFUkxBQ0Vf
VFJEX1RCX09GRjIJCQkweGY4CisjZGVmaW5lIERFSU5URVJMQUNFX1RSRF9XQl9TVFJJREUJCTB4
ZmMKKyNkZWZpbmUgREVJTlRFUkxBQ0VfQ0gwX0lOX1NJWkUJCQkweDEwMAorI2RlZmluZSBERUlO
VEVSTEFDRV9DSDBfT1VUX1NJWkUJCTB4MTA0CisjZGVmaW5lIERFSU5URVJMQUNFX0NIMF9IT1Ja
X0ZBQ1QJCTB4MTA4CisjZGVmaW5lIERFSU5URVJMQUNFX0NIMF9WRVJUX0ZBQ1QJCTB4MTBjCisj
ZGVmaW5lIERFSU5URVJMQUNFX0NIMF9IT1JaX1BIQVNFCQkweDExMAorI2RlZmluZSBERUlOVEVS
TEFDRV9DSDBfVkVSVF9QSEFTRTAJCTB4MTE0CisjZGVmaW5lIERFSU5URVJMQUNFX0NIMF9WRVJU
X1BIQVNFMQkJMHgxMTgKKyNkZWZpbmUgREVJTlRFUkxBQ0VfQ0gwX0hPUlpfVEFQMAkJMHgxMjAK
KyNkZWZpbmUgREVJTlRFUkxBQ0VfQ0gwX0hPUlpfVEFQMQkJMHgxMjQKKyNkZWZpbmUgREVJTlRF
UkxBQ0VfQ0gwX1ZFUlRfVEFQCQkweDEyOAorI2RlZmluZSBERUlOVEVSTEFDRV9DSDFfSU5fU0la
RQkJCTB4MjAwCisjZGVmaW5lIERFSU5URVJMQUNFX0NIMV9PVVRfU0laRQkJMHgyMDQKKyNkZWZp
bmUgREVJTlRFUkxBQ0VfQ0gxX0hPUlpfRkFDVAkJMHgyMDgKKyNkZWZpbmUgREVJTlRFUkxBQ0Vf
Q0gxX1ZFUlRfRkFDVAkJMHgyMGMKKyNkZWZpbmUgREVJTlRFUkxBQ0VfQ0gxX0hPUlpfUEhBU0UJ
CTB4MjEwCisjZGVmaW5lIERFSU5URVJMQUNFX0NIMV9WRVJUX1BIQVNFMAkJMHgyMTQKKyNkZWZp
bmUgREVJTlRFUkxBQ0VfQ0gxX1ZFUlRfUEhBU0UxCQkweDIxOAorI2RlZmluZSBERUlOVEVSTEFD
RV9DSDFfSE9SWl9UQVAwCQkweDIyMAorI2RlZmluZSBERUlOVEVSTEFDRV9DSDFfSE9SWl9UQVAx
CQkweDIyNAorI2RlZmluZSBERUlOVEVSTEFDRV9DSDFfVkVSVF9UQVAJCTB4MjI4CisjZGVmaW5l
IERFSU5URVJMQUNFX0NIMF9IT1JaX0NPRUYwCQkweDQwMCAvKiAzMiByZWdpc3RlcnMgKi8KKyNk
ZWZpbmUgREVJTlRFUkxBQ0VfQ0gwX0hPUlpfQ09FRjEJCTB4NDgwIC8qIDMyIHJlZ2lzdGVycyAq
LworI2RlZmluZSBERUlOVEVSTEFDRV9DSDBfVkVSVF9DT0VGCQkweDUwMCAvKiAzMiByZWdpc3Rl
cnMgKi8KKyNkZWZpbmUgREVJTlRFUkxBQ0VfQ0gxX0hPUlpfQ09FRjAJCTB4NjAwIC8qIDMyIHJl
Z2lzdGVycyAqLworI2RlZmluZSBERUlOVEVSTEFDRV9DSDFfSE9SWl9DT0VGMQkJMHg2ODAgLyog
MzIgcmVnaXN0ZXJzICovCisjZGVmaW5lIERFSU5URVJMQUNFX0NIMV9WRVJUX0NPRUYJCTB4NzAw
IC8qIDMyIHJlZ2lzdGVycyAqLworI2RlZmluZSBERUlOVEVSTEFDRV9DSDNfSE9SWl9DT0VGMAkJ
MHg4MDAgLyogMzIgcmVnaXN0ZXJzICovCisjZGVmaW5lIERFSU5URVJMQUNFX0NIM19IT1JaX0NP
RUYxCQkweDg4MCAvKiAzMiByZWdpc3RlcnMgKi8KKyNkZWZpbmUgREVJTlRFUkxBQ0VfQ0gzX1ZF
UlRfQ09FRgkJMHg5MDAgLyogMzIgcmVnaXN0ZXJzICovCisKKyNkZWZpbmUgREVJTlRFUkxBQ0Vf
TUlOX1dJRFRICTJVCisjZGVmaW5lIERFSU5URVJMQUNFX01JTl9IRUlHSFQJMlUKKyNkZWZpbmUg
REVJTlRFUkxBQ0VfTUFYX1dJRFRICTIwNDhVCisjZGVmaW5lIERFSU5URVJMQUNFX01BWF9IRUlH
SFQJMTEwMFUKKworI2RlZmluZSBERUlOVEVSTEFDRV9NT0RFX1VWX0NPTUJJTkVECTIKKworI2Rl
ZmluZSBERUlOVEVSTEFDRV9JTl9GTVRfWVVWNDIwCTIKKworI2RlZmluZSBERUlOVEVSTEFDRV9P
VVRfRk1UX1lVVjQyMFNQCTEzCisKKyNkZWZpbmUgREVJTlRFUkxBQ0VfUFNfVVZVVgkJMAorI2Rl
ZmluZSBERUlOVEVSTEFDRV9QU19WVVZVCQkxCisKKyNkZWZpbmUgREVJTlRFUkxBQ0VfSURFTlRJ
VFlfQ09FRgkweDQwMDAKKworI2RlZmluZSBERUlOVEVSTEFDRV9TSVpFKHcsIGgpCSgoKGgpIC0g
MSkgPDwgMTYgfCAoKHcpIC0gMSkpCisKK3N0cnVjdCBkZWludGVybGFjZV9jdHggeworCXN0cnVj
dCB2NGwyX2ZoCQlmaDsKKwlzdHJ1Y3QgZGVpbnRlcmxhY2VfZGV2CSpkZXY7CisKKwlzdHJ1Y3Qg
djRsMl9waXhfZm9ybWF0CXNyY19mbXQ7CisJc3RydWN0IHY0bDJfcGl4X2Zvcm1hdAlkc3RfZm10
OworCisJdm9pZAkJCSpmbGFnMV9idWY7CisJZG1hX2FkZHJfdAkJZmxhZzFfYnVmX2RtYTsKKwor
CXZvaWQJCQkqZmxhZzJfYnVmOworCWRtYV9hZGRyX3QJCWZsYWcyX2J1Zl9kbWE7CisKKwlzdHJ1
Y3QgdmIyX3Y0bDJfYnVmZmVyCSpwcmV2OworCisJdW5zaWduZWQgaW50CQlmaXJzdF9maWVsZDsK
Kwl1bnNpZ25lZCBpbnQJCWZpZWxkOworCisJaW50CQkJYWJvcnRpbmc7Cit9OworCitzdHJ1Y3Qg
ZGVpbnRlcmxhY2VfZGV2IHsKKwlzdHJ1Y3QgdjRsMl9kZXZpY2UJdjRsMl9kZXY7CisJc3RydWN0
IHZpZGVvX2RldmljZQl2ZmQ7CisJc3RydWN0IGRldmljZQkJKmRldjsKKwlzdHJ1Y3QgdjRsMl9t
Mm1fZGV2CSptMm1fZGV2OworCisJLyogRGV2aWNlIGZpbGUgbXV0ZXggKi8KKwlzdHJ1Y3QgbXV0
ZXgJCWRldl9tdXRleDsKKworCXZvaWQgX19pb21lbQkJKmJhc2U7CisKKwlzdHJ1Y3QgY2xrCQkq
YnVzX2NsazsKKwlzdHJ1Y3QgY2xrCQkqbW9kX2NsazsKKwlzdHJ1Y3QgY2xrCQkqcmFtX2NsazsK
KworCXN0cnVjdCByZXNldF9jb250cm9sCSpyc3RjOworfTsKKworI2VuZGlmCi0tIAoyLjIzLjAK
CgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KbGludXgt
YXJtLWtlcm5lbCBtYWlsaW5nIGxpc3QKbGludXgtYXJtLWtlcm5lbEBsaXN0cy5pbmZyYWRlYWQu
b3JnCmh0dHA6Ly9saXN0cy5pbmZyYWRlYWQub3JnL21haWxtYW4vbGlzdGluZm8vbGludXgtYXJt
LWtlcm5lbAo=
