Return-Path: <linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org>
X-Original-To: lists+linux-arm-kernel@lfdr.de
Delivered-To: lists+linux-arm-kernel@lfdr.de
Received: from bombadil.infradead.org (bombadil.infradead.org [IPv6:2607:7c80:54:e::133])
	by mail.lfdr.de (Postfix) with ESMTPS id D8A4B1C47EA
	for <lists+linux-arm-kernel@lfdr.de>; Mon,  4 May 2020 22:20:14 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.infradead.org; s=bombadil.20170209; h=Sender:
	Content-Transfer-Encoding:Content-Type:Cc:List-Subscribe:List-Help:List-Post:
	List-Archive:List-Unsubscribe:List-Id:To:MIME-Version:Subject:From:References
	:In-Reply-To:Message-Id:Date:Reply-To:Content-ID:Content-Description:
	Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:
	List-Owner; bh=JW/S0lEkpfB0FC8P+ixPPt7DKANjWD2xb/mK4VdHguo=; b=G+yaiSdWiENZ83
	60VQj1P+MI/95LCQ63dlSCPkunumCcxChrABa8Rl567WoYjC4tOhwiqRd97WUSZ5k4vje0DSMokqb
	PPmmEpRH5Mt+MOjmH3sPd6YsOfgG3ll74lPsAwQThoY8uMFbW7cj1dN1W3+/KBg/R571BwhqJBGbm
	eXWJRthpLyOeQy/vDCfRsEa0TSgELMezl3TU0hwVBpBfd8MQOssHczLcEC92Uc5DFGCWA/sy8uP/c
	J9kAYvQ66gKrca4dVUAxD0/QxCPvhPiVnl6apaua9UR9OpXN+S9rxP6CZMJrNEiIudN0v9DECIwyl
	y3m/frpfjJHbMMdFADig==;
Received: from localhost ([127.0.0.1] helo=bombadil.infradead.org)
	by bombadil.infradead.org with esmtp (Exim 4.92.3 #3 (Red Hat Linux))
	id 1jVhZJ-0000Bp-Fw; Mon, 04 May 2020 20:20:01 +0000
Received: from rere.qmqm.pl ([91.227.64.183])
 by bombadil.infradead.org with esmtps (Exim 4.92.3 #3 (Red Hat Linux))
 id 1jVhYd-00088g-M3
 for linux-arm-kernel@lists.infradead.org; Mon, 04 May 2020 20:19:21 +0000
Received: from remote.user (localhost [127.0.0.1])
 by rere.qmqm.pl (Postfix) with ESMTPSA id 49GDj162wmzKc;
 Mon,  4 May 2020 22:19:17 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=rere.qmqm.pl; s=1;
 t=1588623557; bh=CBkI1IxW0wGE/zr5e2/79R8682fMp+ra2jEeM0QcFmk=;
 h=Date:In-Reply-To:References:From:Subject:To:Cc:From;
 b=Kbba4hbKqCD6fEOfcCD9/Dm1EYd5lroqboukTRSs8hIn0fItLu5Ap3zVFBYcmA+oq
 yAME4TlHSpDLQ8oVl8/3l2XRbWPxpdL8UvyZYxHYQ6F/vWr5YyOIOqIRfnRlpY2pPq
 ROJioRp4qjeoSf/U8NQLwajslv1r2Tx5OI4II6Qnme3402CcFj+cSOlNVEBWtw0RzO
 dWRXbW/HTGKKXqaskDUrci+auf1Gau7lIJoeE+WiMo10wpNbjmEdpqEwdkVcSATHw2
 iEVTDtNxo8pv3NYiNrZOv8N1QYw2Q85mqrecOcCUuEZQ4uQ//TqGfmdbj96jz10C5O
 WpdVbQ7TVLc2Q==
X-Virus-Status: Clean
X-Virus-Scanned: clamav-milter 0.102.2 at mail
Date: Mon, 04 May 2020 22:19:17 +0200
Message-Id: <fd853126e9971b9ef9bdcfe469ed3146a0cad92b.1588623391.git.mirq-linux@rere.qmqm.pl>
In-Reply-To: <cover.1588623391.git.mirq-linux@rere.qmqm.pl>
References: <cover.1588623391.git.mirq-linux@rere.qmqm.pl>
From: =?UTF-8?q?Micha=C5=82=20Miros=C5=82aw?= <mirq-linux@rere.qmqm.pl>
Subject: [PATCH v6 2/3] clk: at91: allow setting PCKx parent via DT
MIME-Version: 1.0
To: Alexandre Belloni <alexandre.belloni@bootlin.com>,
 Ludovic Desroches <ludovic.desroches@microchip.com>,
 Michael Turquette <mturquette@baylibre.com>,
 Nicolas Ferre <nicolas.ferre@microchip.com>,
 Rob Herring <robh+dt@kernel.org>, Stephen Boyd <sboyd@kernel.org>
X-CRM114-Version: 20100106-BlameMichelson ( TRE 0.8.0 (BSD) ) MR-646709E3 
X-CRM114-CacheID: sfid-20200504_131920_050926_D8B3E4BF 
X-CRM114-Status: GOOD (  13.78  )
X-Spam-Score: -0.1 (/)
X-Spam-Report: SpamAssassin version 3.4.4 on bombadil.infradead.org summary:
 Content analysis details:   (-0.1 points)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.0 SPF_HELO_PASS          SPF: HELO matches SPF record
 -0.0 SPF_PASS               SPF: sender matches SPF record
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily
 valid
 -0.1 DKIM_VALID_AU          Message has a valid DKIM or DK signature from
 author's domain
X-BeenThere: linux-arm-kernel@lists.infradead.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <linux-arm-kernel.lists.infradead.org>
List-Unsubscribe: <http://lists.infradead.org/mailman/options/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=unsubscribe>
List-Archive: <http://lists.infradead.org/pipermail/linux-arm-kernel/>
List-Post: <mailto:linux-arm-kernel@lists.infradead.org>
List-Help: <mailto:linux-arm-kernel-request@lists.infradead.org?subject=help>
List-Subscribe: <http://lists.infradead.org/mailman/listinfo/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=subscribe>
Cc: devicetree@vger.kernel.org, linux-clk@vger.kernel.org,
 linux-arm-kernel@lists.infradead.org, linux-kernel@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: "linux-arm-kernel" <linux-arm-kernel-bounces@lists.infradead.org>
Errors-To: linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org

VGhpcyBleHBvc2VzIFBST0d4IGNsb2NrcyBmb3IgdXNlIGluIGFzc2lnbmVkLWNsb2NrcyBEZXZp
Y2VUcmVlIHByb3BlcnR5CmZvciBzZWxlY3RpbmcgUENLeCBwYXJlbnQgY2xvY2suCgpTaWduZWQt
b2ZmLWJ5OiBNaWNoYcWCIE1pcm9zxYJhdyA8bWlycS1saW51eEByZXJlLnFtcW0ucGw+CkFja2Vk
LWJ5OiBBbGV4YW5kcmUgQmVsbG9uaSA8YWxleGFuZHJlLmJlbGxvbmlAYm9vdGxpbi5jb20+Ci0t
LQp2MjogcmViYXNlIGFuZCB1cGRhdGUgdG8gY2xrL2Nsay1hdDkxIGJyYW5jaAp2MzogcmViYXNl
CnY0OiBubyBjaGFuZ2VzCnY1OiBubyBjaGFuZ2VzCnY2OiBubyBjaGFuZ2VzCi0tLQogZHJpdmVy
cy9jbGsvYXQ5MS9hdDkxcm05MjAwLmMgICAgfCAgNiArKysrLS0KIGRyaXZlcnMvY2xrL2F0OTEv
YXQ5MXNhbTkyNjAuYyAgIHwgIDUgKysrKy0KIGRyaXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTlnNDUu
YyAgIHwgIDYgKysrKy0tCiBkcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05bjEyLmMgICB8ICA2ICsr
KystLQogZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOXJsLmMgICAgfCAgNCArKystCiBkcml2ZXJz
L2Nsay9hdDkxL2F0OTFzYW05eDUuYyAgICB8ICA0ICsrKy0KIGRyaXZlcnMvY2xrL2F0OTEvcG1j
LmMgICAgICAgICAgIHwgMTIgKysrKysrKysrKy0tCiBkcml2ZXJzL2Nsay9hdDkxL3BtYy5oICAg
ICAgICAgICB8ICA1ICsrKystCiBkcml2ZXJzL2Nsay9hdDkxL3NhbTl4NjAuYyAgICAgICB8ICA0
ICsrKy0KIGRyaXZlcnMvY2xrL2F0OTEvc2FtYTVkMi5jICAgICAgIHwgIDQgKysrLQogZHJpdmVy
cy9jbGsvYXQ5MS9zYW1hNWQzLmMgICAgICAgfCAgNiArKysrLS0KIGRyaXZlcnMvY2xrL2F0OTEv
c2FtYTVkNC5jICAgICAgIHwgIDQgKysrLQogaW5jbHVkZS9kdC1iaW5kaW5ncy9jbG9jay9hdDkx
LmggfCAgMSArCiAxMyBmaWxlcyBjaGFuZ2VkLCA1MCBpbnNlcnRpb25zKCspLCAxNyBkZWxldGlv
bnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFybTkyMDAuYyBiL2RyaXZl
cnMvY2xrL2F0OTEvYXQ5MXJtOTIwMC5jCmluZGV4IGM0NGE0MzFiNmM5Ny4uOGRhODhlOWE5NWQ4
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFybTkyMDAuYworKysgYi9kcml2ZXJz
L2Nsay9hdDkxL2F0OTFybTkyMDAuYwpAQCAtMTAwLDcgKzEwMCw3IEBAIHN0YXRpYyB2b2lkIF9f
aW5pdCBhdDkxcm05MjAwX3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCiAJYXQ5
MXJtOTIwMF9wbWMgPSBwbWNfZGF0YV9hbGxvY2F0ZShQTUNfTUFJTiArIDEsCiAJCQkJCSAgICBu
Y2soYXQ5MXJtOTIwMF9zeXN0ZW1jayksCi0JCQkJCSAgICBuY2soYXQ5MXJtOTIwMF9wZXJpcGhj
ayksIDApOworCQkJCQkgICAgbmNrKGF0OTFybTkyMDBfcGVyaXBoY2spLCAwLCA0KTsKIAlpZiAo
IWF0OTFybTkyMDBfcG1jKQogCQlyZXR1cm47CiAKQEAgLTE1OSw2ICsxNTksOCBAQCBzdGF0aWMg
dm9pZCBfX2luaXQgYXQ5MXJtOTIwMF9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpucCkK
IAkJCQkJCSAgICAmYXQ5MXJtOTIwMF9wcm9ncmFtbWFibGVfbGF5b3V0KTsKIAkJaWYgKElTX0VS
UihodykpCiAJCQlnb3RvIGVycl9mcmVlOworCisJCWF0OTFybTkyMDBfcG1jLT5wY2h3c1tpXSA9
IGh3OwogCX0KIAogCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGF0OTFybTkyMDBfc3lzdGVt
Y2spOyBpKyspIHsKQEAgLTE4Nyw3ICsxODksNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgYXQ5MXJt
OTIwMF9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpucCkKIAlyZXR1cm47CiAKIGVycl9m
cmVlOgotCXBtY19kYXRhX2ZyZWUoYXQ5MXJtOTIwMF9wbWMpOworCWtmcmVlKGF0OTFybTkyMDBf
cG1jKTsKIH0KIC8qCiAgKiBXaGlsZSB0aGUgVENCIGNhbiBiZSB1c2VkIGFzIHRoZSBjbG9ja3Nv
dXJjZSwgdGhlIHN5c3RlbSB0aW1lciBpcyBtb3N0IGxpa2VseQpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9jbGsvYXQ5MS9hdDkxc2FtOTI2MC5jIGIvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOTI2MC5j
CmluZGV4IDk0NmYwM2EwOTg1OC4uN2U1ZmYyNTJmZmZjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2Ns
ay9hdDkxL2F0OTFzYW05MjYwLmMKKysrIGIvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOTI2MC5j
CkBAIC0zNTQsNyArMzU0LDggQEAgc3RhdGljIHZvaWQgX19pbml0IGF0OTFzYW05MjZ4X3BtY19z
ZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wLAogCiAJYXQ5MXNhbTkyNjBfcG1jID0gcG1jX2Rh
dGFfYWxsb2NhdGUoUE1DX01BSU4gKyAxLAogCQkJCQkgICAgbmRjayhkYXRhLT5zY2ssIGRhdGEt
Pm51bV9zY2spLAotCQkJCQkgICAgbmRjayhkYXRhLT5wY2ssIGRhdGEtPm51bV9wY2spLCAwKTsK
KwkJCQkJICAgIG5kY2soZGF0YS0+cGNrLCBkYXRhLT5udW1fcGNrKSwKKwkJCQkJICAgIDAsIGRh
dGEtPm51bV9wcm9nY2spOwogCWlmICghYXQ5MXNhbTkyNjBfcG1jKQogCQlyZXR1cm47CiAKQEAg
LTQzNCw2ICs0MzUsOCBAQCBzdGF0aWMgdm9pZCBfX2luaXQgYXQ5MXNhbTkyNnhfcG1jX3NldHVw
KHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAsCiAJCQkJCQkgICAgJmF0OTFybTkyMDBfcHJvZ3JhbW1h
YmxlX2xheW91dCk7CiAJCWlmIChJU19FUlIoaHcpKQogCQkJZ290byBlcnJfZnJlZTsKKworCQlh
dDkxc2FtOTI2MF9wbWMtPnBjaHdzW2ldID0gaHc7CiAJfQogCiAJZm9yIChpID0gMDsgaSA8IGRh
dGEtPm51bV9zY2s7IGkrKykgewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2Ft
OWc0NS5jIGIvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOWc0NS5jCmluZGV4IDM4YTdkMmQyZGYw
Yy4uNWQxOGViMDRjMjE4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05ZzQ1
LmMKKysrIGIvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOWc0NS5jCkBAIC0xMTcsNyArMTE3LDcg
QEAgc3RhdGljIHZvaWQgX19pbml0IGF0OTFzYW05ZzQ1X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNl
X25vZGUgKm5wKQogCiAJYXQ5MXNhbTlnNDVfcG1jID0gcG1jX2RhdGFfYWxsb2NhdGUoUE1DX01B
SU4gKyAxLAogCQkJCQkgICAgbmNrKGF0OTFzYW05ZzQ1X3N5c3RlbWNrKSwKLQkJCQkJICAgIG5j
ayhhdDkxc2FtOWc0NV9wZXJpcGhjayksIDApOworCQkJCQkgICAgbmNrKGF0OTFzYW05ZzQ1X3Bl
cmlwaGNrKSwgMCwgMik7CiAJaWYgKCFhdDkxc2FtOWc0NV9wbWMpCiAJCXJldHVybjsKIApAQCAt
MTgyLDYgKzE4Miw4IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBhdDkxc2FtOWc0NV9wbWNfc2V0dXAo
c3RydWN0IGRldmljZV9ub2RlICpucCkKIAkJCQkJCSAgICAmYXQ5MXNhbTlnNDVfcHJvZ3JhbW1h
YmxlX2xheW91dCk7CiAJCWlmIChJU19FUlIoaHcpKQogCQkJZ290byBlcnJfZnJlZTsKKworCQlh
dDkxc2FtOWc0NV9wbWMtPnBjaHdzW2ldID0gaHc7CiAJfQogCiAJZm9yIChpID0gMDsgaSA8IEFS
UkFZX1NJWkUoYXQ5MXNhbTlnNDVfc3lzdGVtY2spOyBpKyspIHsKQEAgLTIxMCw3ICsyMTIsNyBA
QCBzdGF0aWMgdm9pZCBfX2luaXQgYXQ5MXNhbTlnNDVfcG1jX3NldHVwKHN0cnVjdCBkZXZpY2Vf
bm9kZSAqbnApCiAJcmV0dXJuOwogCiBlcnJfZnJlZToKLQlwbWNfZGF0YV9mcmVlKGF0OTFzYW05
ZzQ1X3BtYyk7CisJa2ZyZWUoYXQ5MXNhbTlnNDVfcG1jKTsKIH0KIC8qCiAgKiBUaGUgVENCIGlz
IHVzZWQgYXMgdGhlIGNsb2Nrc291cmNlIHNvIGl0cyBjbG9jayBpcyBuZWVkZWQgZWFybHkuIFRo
aXMgbWVhbnMKZGlmZiAtLWdpdCBhL2RyaXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTluMTIuYyBiL2Ry
aXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTluMTIuYwppbmRleCA4YmIzOWQyYmE4NGIuLjNhMjU2NGMy
ZjcyNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOW4xMi5jCisrKyBiL2Ry
aXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTluMTIuYwpAQCAtMTI5LDcgKzEyOSw3IEBAIHN0YXRpYyB2
b2lkIF9faW5pdCBhdDkxc2FtOW4xMl9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpucCkK
IAkJcmV0dXJuOwogCiAJYXQ5MXNhbTluMTJfcG1jID0gcG1jX2RhdGFfYWxsb2NhdGUoUE1DX01B
SU4gKyAxLAotCQkJCQkgICBuY2soYXQ5MXNhbTluMTJfc3lzdGVtY2spLCAzMSwgMCk7CisJCQkJ
CSAgIG5jayhhdDkxc2FtOW4xMl9zeXN0ZW1jayksIDMxLCAwLCAyKTsKIAlpZiAoIWF0OTFzYW05
bjEyX3BtYykKIAkJcmV0dXJuOwogCkBAIC0xOTgsNiArMTk4LDggQEAgc3RhdGljIHZvaWQgX19p
bml0IGF0OTFzYW05bjEyX3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCQkJCQkJ
ICAgICZhdDkxc2FtOXg1X3Byb2dyYW1tYWJsZV9sYXlvdXQpOwogCQlpZiAoSVNfRVJSKGh3KSkK
IAkJCWdvdG8gZXJyX2ZyZWU7CisKKwkJYXQ5MXNhbTluMTJfcG1jLT5wY2h3c1tpXSA9IGh3Owog
CX0KIAogCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGF0OTFzYW05bjEyX3N5c3RlbWNrKTsg
aSsrKSB7CkBAIC0yMjgsNyArMjMwLDcgQEAgc3RhdGljIHZvaWQgX19pbml0IGF0OTFzYW05bjEy
X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCXJldHVybjsKIAogZXJyX2ZyZWU6
Ci0JcG1jX2RhdGFfZnJlZShhdDkxc2FtOW4xMl9wbWMpOworCWtmcmVlKGF0OTFzYW05bjEyX3Bt
Yyk7CiB9CiAvKgogICogVGhlIFRDQiBpcyB1c2VkIGFzIHRoZSBjbG9ja3NvdXJjZSBzbyBpdHMg
Y2xvY2sgaXMgbmVlZGVkIGVhcmx5LiBUaGlzIG1lYW5zCmRpZmYgLS1naXQgYS9kcml2ZXJzL2Ns
ay9hdDkxL2F0OTFzYW05cmwuYyBiL2RyaXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTlybC5jCmluZGV4
IGNjNzM5ZDIxNGFlMy4uYmNmMDdmNmEwZTBlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkx
L2F0OTFzYW05cmwuYworKysgYi9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05cmwuYwpAQCAtODks
NyArODksNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgYXQ5MXNhbTlybF9wbWNfc2V0dXAoc3RydWN0
IGRldmljZV9ub2RlICpucCkKIAogCWF0OTFzYW05cmxfcG1jID0gcG1jX2RhdGFfYWxsb2NhdGUo
UE1DX01BSU4gKyAxLAogCQkJCQkgICBuY2soYXQ5MXNhbTlybF9zeXN0ZW1jayksCi0JCQkJCSAg
IG5jayhhdDkxc2FtOXJsX3BlcmlwaGNrKSwgMCk7CisJCQkJCSAgIG5jayhhdDkxc2FtOXJsX3Bl
cmlwaGNrKSwgMCwgMik7CiAJaWYgKCFhdDkxc2FtOXJsX3BtYykKIAkJcmV0dXJuOwogCkBAIC0x
MzgsNiArMTM4LDggQEAgc3RhdGljIHZvaWQgX19pbml0IGF0OTFzYW05cmxfcG1jX3NldHVwKHN0
cnVjdCBkZXZpY2Vfbm9kZSAqbnApCiAJCQkJCQkgICAgJmF0OTFybTkyMDBfcHJvZ3JhbW1hYmxl
X2xheW91dCk7CiAJCWlmIChJU19FUlIoaHcpKQogCQkJZ290byBlcnJfZnJlZTsKKworCQlhdDkx
c2FtOXJsX3BtYy0+cGNod3NbaV0gPSBodzsKIAl9CiAKIAlmb3IgKGkgPSAwOyBpIDwgQVJSQVlf
U0laRShhdDkxc2FtOXJsX3N5c3RlbWNrKTsgaSsrKSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2Ns
ay9hdDkxL2F0OTFzYW05eDUuYyBiL2RyaXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTl4NS5jCmluZGV4
IGFhYzk5ZDY5OTU2OC4uZjEzNzU2YjQwN2UyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkx
L2F0OTFzYW05eDUuYworKysgYi9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05eDUuYwpAQCAtMTUx
LDcgKzE1MSw3IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBhdDkxc2FtOXg1X3BtY19zZXR1cChzdHJ1
Y3QgZGV2aWNlX25vZGUgKm5wLAogCQlyZXR1cm47CiAKIAlhdDkxc2FtOXg1X3BtYyA9IHBtY19k
YXRhX2FsbG9jYXRlKFBNQ19NQUlOICsgMSwKLQkJCQkJICAgbmNrKGF0OTFzYW05eDVfc3lzdGVt
Y2spLCAzMSwgMCk7CisJCQkJCSAgIG5jayhhdDkxc2FtOXg1X3N5c3RlbWNrKSwgMzEsIDAsIDIp
OwogCWlmICghYXQ5MXNhbTl4NV9wbWMpCiAJCXJldHVybjsKIApAQCAtMjI3LDYgKzIyNyw4IEBA
IHN0YXRpYyB2b2lkIF9faW5pdCBhdDkxc2FtOXg1X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25v
ZGUgKm5wLAogCQkJCQkJICAgICZhdDkxc2FtOXg1X3Byb2dyYW1tYWJsZV9sYXlvdXQpOwogCQlp
ZiAoSVNfRVJSKGh3KSkKIAkJCWdvdG8gZXJyX2ZyZWU7CisKKwkJYXQ5MXNhbTl4NV9wbWMtPnBj
aHdzW2ldID0gaHc7CiAJfQogCiAJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoYXQ5MXNhbTl4
NV9zeXN0ZW1jayk7IGkrKykgewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9jbGsvYXQ5MS9wbWMuYyBi
L2RyaXZlcnMvY2xrL2F0OTEvcG1jLmMKaW5kZXggYWM0NmVhMWI5ZmRhLi44YTE1NzdlMmMyZmQg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvY2xrL2F0OTEvcG1jLmMKKysrIGIvZHJpdmVycy9jbGsvYXQ5
MS9wbWMuYwpAQCAtNjcsNiArNjcsMTAgQEAgc3RydWN0IGNsa19odyAqb2ZfY2xrX2h3X3BtY19n
ZXQoc3RydWN0IG9mX3BoYW5kbGVfYXJncyAqY2xrc3BlYywgdm9pZCAqZGF0YSkKIAkJaWYgKGlk
eCA8IHBtY19kYXRhLT5uZ2NrKQogCQkJcmV0dXJuIHBtY19kYXRhLT5naHdzW2lkeF07CiAJCWJy
ZWFrOworCWNhc2UgUE1DX1RZUEVfUFJPR1JBTU1BQkxFOgorCQlpZiAoaWR4IDwgcG1jX2RhdGEt
Pm5wY2spCisJCQlyZXR1cm4gcG1jX2RhdGEtPnBjaHdzW2lkeF07CisJCWJyZWFrOwogCWRlZmF1
bHQ6CiAJCWJyZWFrOwogCX0KQEAgLTc3LDkgKzgxLDEwIEBAIHN0cnVjdCBjbGtfaHcgKm9mX2Ns
a19od19wbWNfZ2V0KHN0cnVjdCBvZl9waGFuZGxlX2FyZ3MgKmNsa3NwZWMsIHZvaWQgKmRhdGEp
CiB9CiAKIHN0cnVjdCBwbWNfZGF0YSAqcG1jX2RhdGFfYWxsb2NhdGUodW5zaWduZWQgaW50IG5j
b3JlLCB1bnNpZ25lZCBpbnQgbnN5c3RlbSwKLQkJCQkgICB1bnNpZ25lZCBpbnQgbnBlcmlwaCwg
dW5zaWduZWQgaW50IG5nY2spCisJCQkJICAgdW5zaWduZWQgaW50IG5wZXJpcGgsIHVuc2lnbmVk
IGludCBuZ2NrLAorCQkJCSAgIHVuc2lnbmVkIGludCBucGNrKQogewotCXVuc2lnbmVkIGludCBu
dW1fY2xrcyA9IG5jb3JlICsgbnN5c3RlbSArIG5wZXJpcGggKyBuZ2NrOworCXVuc2lnbmVkIGlu
dCBudW1fY2xrcyA9IG5jb3JlICsgbnN5c3RlbSArIG5wZXJpcGggKyBuZ2NrICsgbnBjazsKIAlz
dHJ1Y3QgcG1jX2RhdGEgKnBtY19kYXRhOwogCiAJcG1jX2RhdGEgPSBremFsbG9jKHN0cnVjdF9z
aXplKHBtY19kYXRhLCBod3RhYmxlLCBudW1fY2xrcyksCkBAIC05OSw2ICsxMDQsOSBAQCBzdHJ1
Y3QgcG1jX2RhdGEgKnBtY19kYXRhX2FsbG9jYXRlKHVuc2lnbmVkIGludCBuY29yZSwgdW5zaWdu
ZWQgaW50IG5zeXN0ZW0sCiAJcG1jX2RhdGEtPm5nY2sgPSBuZ2NrOwogCXBtY19kYXRhLT5naHdz
ID0gcG1jX2RhdGEtPnBod3MgKyBucGVyaXBoOwogCisJcG1jX2RhdGEtPm5wY2sgPSBucGNrOwor
CXBtY19kYXRhLT5wY2h3cyA9IHBtY19kYXRhLT5naHdzICsgbmdjazsKKwogCXJldHVybiBwbWNf
ZGF0YTsKIH0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9jbGsvYXQ5MS9wbWMuaCBiL2RyaXZlcnMv
Y2xrL2F0OTEvcG1jLmgKaW5kZXggZmMzZWY3NzJiOWQ5Li5kZjYxNmYyOTM3ZTcgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvY2xrL2F0OTEvcG1jLmgKKysrIGIvZHJpdmVycy9jbGsvYXQ5MS9wbWMuaApA
QCAtMjQsNiArMjQsOCBAQCBzdHJ1Y3QgcG1jX2RhdGEgewogCXN0cnVjdCBjbGtfaHcgKipwaHdz
OwogCXVuc2lnbmVkIGludCBuZ2NrOwogCXN0cnVjdCBjbGtfaHcgKipnaHdzOworCXVuc2lnbmVk
IGludCBucGNrOworCXN0cnVjdCBjbGtfaHcgKipwY2h3czsKIAogCXN0cnVjdCBjbGtfaHcgKmh3
dGFibGVbXTsKIH07CkBAIC05Niw3ICs5OCw4IEBAIHN0cnVjdCBjbGtfcGNyX2xheW91dCB7CiAj
ZGVmaW5lIG5kY2soYSwgcykgKGFbcyAtIDFdLmlkICsgMSkKICNkZWZpbmUgbmNrKGEpIChhW0FS
UkFZX1NJWkUoYSkgLSAxXS5pZCArIDEpCiBzdHJ1Y3QgcG1jX2RhdGEgKnBtY19kYXRhX2FsbG9j
YXRlKHVuc2lnbmVkIGludCBuY29yZSwgdW5zaWduZWQgaW50IG5zeXN0ZW0sCi0JCQkJICAgdW5z
aWduZWQgaW50IG5wZXJpcGgsIHVuc2lnbmVkIGludCBuZ2NrKTsKKwkJCQkgICB1bnNpZ25lZCBp
bnQgbnBlcmlwaCwgdW5zaWduZWQgaW50IG5nY2ssCisJCQkJICAgdW5zaWduZWQgaW50IG5wY2sp
OwogCiBpbnQgb2ZfYXQ5MV9nZXRfY2xrX3JhbmdlKHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAsIGNv
bnN0IGNoYXIgKnByb3BuYW1lLAogCQkJICBzdHJ1Y3QgY2xrX3JhbmdlICpyYW5nZSk7CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2Nsay9hdDkxL3NhbTl4NjAuYyBiL2RyaXZlcnMvY2xrL2F0OTEvc2Ft
OXg2MC5jCmluZGV4IGE3ZDRmNjQ4ZGIyNi4uZGIxNGUwNDI3YzdmIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2Nsay9hdDkxL3NhbTl4NjAuYworKysgYi9kcml2ZXJzL2Nsay9hdDkxL3NhbTl4NjAuYwpA
QCAtMTg1LDcgKzE4NSw3IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBzYW05eDYwX3BtY19zZXR1cChz
dHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCXNhbTl4NjBfcG1jID0gcG1jX2RhdGFfYWxsb2NhdGUo
UE1DX01BSU4gKyAxLAogCQkJCQluY2soc2FtOXg2MF9zeXN0ZW1jayksCiAJCQkJCW5jayhzYW05
eDYwX3BlcmlwaGNrKSwKLQkJCQkJbmNrKHNhbTl4NjBfZ2NrKSk7CisJCQkJCW5jayhzYW05eDYw
X2djayksIDgpOwogCWlmICghc2FtOXg2MF9wbWMpCiAJCXJldHVybjsKIApAQCAtMjU1LDYgKzI1
NSw4IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBzYW05eDYwX3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNl
X25vZGUgKm5wKQogCQkJCQkJICAgICZzYW05eDYwX3Byb2dyYW1tYWJsZV9sYXlvdXQpOwogCQlp
ZiAoSVNfRVJSKGh3KSkKIAkJCWdvdG8gZXJyX2ZyZWU7CisKKwkJc2FtOXg2MF9wbWMtPnBjaHdz
W2ldID0gaHc7CiAJfQogCiAJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoc2FtOXg2MF9zeXN0
ZW1jayk7IGkrKykgewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQyLmMgYi9k
cml2ZXJzL2Nsay9hdDkxL3NhbWE1ZDIuYwppbmRleCBiMjU2MDY3MGU1YWYuLmFlNWU4M2NhZGIz
ZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQyLmMKKysrIGIvZHJpdmVycy9j
bGsvYXQ5MS9zYW1hNWQyLmMKQEAgLTE2OSw3ICsxNjksNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQg
c2FtYTVkMl9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpucCkKIAlzYW1hNWQyX3BtYyA9
IHBtY19kYXRhX2FsbG9jYXRlKFBNQ19JMlMxX01VWCArIDEsCiAJCQkJCW5jayhzYW1hNWQyX3N5
c3RlbWNrKSwKIAkJCQkJbmNrKHNhbWE1ZDJfcGVyaXBoMzJjayksCi0JCQkJCW5jayhzYW1hNWQy
X2djaykpOworCQkJCQluY2soc2FtYTVkMl9nY2spLCAzKTsKIAlpZiAoIXNhbWE1ZDJfcG1jKQog
CQlyZXR1cm47CiAKQEAgLTI2Nyw2ICsyNjcsOCBAQCBzdGF0aWMgdm9pZCBfX2luaXQgc2FtYTVk
Ml9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpucCkKIAkJCQkJCSAgICAmc2FtYTVkMl9w
cm9ncmFtbWFibGVfbGF5b3V0KTsKIAkJaWYgKElTX0VSUihodykpCiAJCQlnb3RvIGVycl9mcmVl
OworCisJCXNhbWE1ZDJfcG1jLT5wY2h3c1tpXSA9IGh3OwogCX0KIAogCWZvciAoaSA9IDA7IGkg
PCBBUlJBWV9TSVpFKHNhbWE1ZDJfc3lzdGVtY2spOyBpKyspIHsKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvY2xrL2F0OTEvc2FtYTVkMy5jIGIvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQzLmMKaW5kZXgg
ODg1MDZmOTA5YzA4Li41MDdlZWY2Nzk3ZjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvY2xrL2F0OTEv
c2FtYTVkMy5jCisrKyBiL2RyaXZlcnMvY2xrL2F0OTEvc2FtYTVkMy5jCkBAIC0xMjcsNyArMTI3
LDcgQEAgc3RhdGljIHZvaWQgX19pbml0IHNhbWE1ZDNfcG1jX3NldHVwKHN0cnVjdCBkZXZpY2Vf
bm9kZSAqbnApCiAKIAlzYW1hNWQzX3BtYyA9IHBtY19kYXRhX2FsbG9jYXRlKFBNQ19NQUlOICsg
MSwKIAkJCQkJbmNrKHNhbWE1ZDNfc3lzdGVtY2spLAotCQkJCQluY2soc2FtYTVkM19wZXJpcGhj
ayksIDApOworCQkJCQluY2soc2FtYTVkM19wZXJpcGhjayksIDAsIDMpOwogCWlmICghc2FtYTVk
M19wbWMpCiAJCXJldHVybjsKIApAQCAtMjAxLDYgKzIwMSw4IEBAIHN0YXRpYyB2b2lkIF9faW5p
dCBzYW1hNWQzX3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCQkJCQkJICAgICZh
dDkxc2FtOXg1X3Byb2dyYW1tYWJsZV9sYXlvdXQpOwogCQlpZiAoSVNfRVJSKGh3KSkKIAkJCWdv
dG8gZXJyX2ZyZWU7CisKKwkJc2FtYTVkM19wbWMtPnBjaHdzW2ldID0gaHc7CiAJfQogCiAJZm9y
IChpID0gMDsgaSA8IEFSUkFZX1NJWkUoc2FtYTVkM19zeXN0ZW1jayk7IGkrKykgewpAQCAtMjMx
LDcgKzIzMyw3IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBzYW1hNWQzX3BtY19zZXR1cChzdHJ1Y3Qg
ZGV2aWNlX25vZGUgKm5wKQogCXJldHVybjsKIAogZXJyX2ZyZWU6Ci0JcG1jX2RhdGFfZnJlZShz
YW1hNWQzX3BtYyk7CisJa2ZyZWUoc2FtYTVkM19wbWMpOwogfQogLyoKICAqIFRoZSBUQ0IgaXMg
dXNlZCBhcyB0aGUgY2xvY2tzb3VyY2Ugc28gaXRzIGNsb2NrIGlzIG5lZWRlZCBlYXJseS4gVGhp
cyBtZWFucwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQ0LmMgYi9kcml2ZXJz
L2Nsay9hdDkxL3NhbWE1ZDQuYwppbmRleCA0Y2E5YTQ2MTk1MDAuLjgwNjkyOTAyYjRlNCAxMDA2
NDQKLS0tIGEvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQ0LmMKKysrIGIvZHJpdmVycy9jbGsvYXQ5
MS9zYW1hNWQ0LmMKQEAgLTE0Miw3ICsxNDIsNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgc2FtYTVk
NF9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpucCkKIAogCXNhbWE1ZDRfcG1jID0gcG1j
X2RhdGFfYWxsb2NhdGUoUE1DX01DSzIgKyAxLAogCQkJCQluY2soc2FtYTVkNF9zeXN0ZW1jayks
Ci0JCQkJCW5jayhzYW1hNWQ0X3BlcmlwaDMyY2spLCAwKTsKKwkJCQkJbmNrKHNhbWE1ZDRfcGVy
aXBoMzJjayksIDAsIDMpOwogCWlmICghc2FtYTVkNF9wbWMpCiAJCXJldHVybjsKIApAQCAtMjI0
LDYgKzIyNCw4IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBzYW1hNWQ0X3BtY19zZXR1cChzdHJ1Y3Qg
ZGV2aWNlX25vZGUgKm5wKQogCQkJCQkJICAgICZhdDkxc2FtOXg1X3Byb2dyYW1tYWJsZV9sYXlv
dXQpOwogCQlpZiAoSVNfRVJSKGh3KSkKIAkJCWdvdG8gZXJyX2ZyZWU7CisKKwkJc2FtYTVkNF9w
bWMtPnBjaHdzW2ldID0gaHc7CiAJfQogCiAJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoc2Ft
YTVkNF9zeXN0ZW1jayk7IGkrKykgewpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kdC1iaW5kaW5ncy9j
bG9jay9hdDkxLmggYi9pbmNsdWRlL2R0LWJpbmRpbmdzL2Nsb2NrL2F0OTEuaAppbmRleCAzOGI1
NTU0MTUzYzguLmMzZjRhYTZhMmQyOSAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kdC1iaW5kaW5ncy9j
bG9jay9hdDkxLmgKKysrIGIvaW5jbHVkZS9kdC1iaW5kaW5ncy9jbG9jay9hdDkxLmgKQEAgLTEy
LDYgKzEyLDcgQEAKICNkZWZpbmUgUE1DX1RZUEVfU1lTVEVNCQkxCiAjZGVmaW5lIFBNQ19UWVBF
X1BFUklQSEVSQUwJMgogI2RlZmluZSBQTUNfVFlQRV9HQ0sJCTMKKyNkZWZpbmUgUE1DX1RZUEVf
UFJPR1JBTU1BQkxFCTQKIAogI2RlZmluZSBQTUNfU0xPVwkJMAogI2RlZmluZSBQTUNfTUNLCQkJ
MQotLSAKMi4yMC4xCgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KbGludXgtYXJtLWtlcm5lbCBtYWlsaW5nIGxpc3QKbGludXgtYXJtLWtlcm5lbEBsaXN0
cy5pbmZyYWRlYWQub3JnCmh0dHA6Ly9saXN0cy5pbmZyYWRlYWQub3JnL21haWxtYW4vbGlzdGlu
Zm8vbGludXgtYXJtLWtlcm5lbAo=
