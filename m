Return-Path: <linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org>
X-Original-To: lists+linux-arm-kernel@lfdr.de
Delivered-To: lists+linux-arm-kernel@lfdr.de
Received: from bombadil.infradead.org (bombadil.infradead.org [IPv6:2607:7c80:54:e::133])
	by mail.lfdr.de (Postfix) with ESMTPS id 16C0FB7A70
	for <lists+linux-arm-kernel@lfdr.de>; Thu, 19 Sep 2019 15:26:42 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.infradead.org; s=bombadil.20170209; h=Sender:Content-Type:
	Content-Transfer-Encoding:Cc:List-Subscribe:List-Help:List-Post:List-Archive:
	List-Unsubscribe:List-Id:In-Reply-To:MIME-Version:Date:Message-ID:From:
	References:To:Subject:Reply-To:Content-ID:Content-Description:Resent-Date:
	Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Owner;
	 bh=DEuZz7IUVevFM7c4WwSvKj6uBVbpgN5+Li3qCX4DOX0=; b=ayX4RJoTr/zpKcqoHk9uLxO/u
	yFha5r5lc2ksQRet0xG6rq//pTaZ7pqivP/f4HAKxuVPwYlzCFxKLcyHMTk8PCMVByjIx04r8JSle
	RYRyf9i6RGOVLtfP/LtXh+eKI38HvKL8JmeqZMmacNhdqChfXjZsIDClxJe4zWd8DGDMMZ/fGN8TV
	yNsNRJkb1QMGRs7UG93qDyojh2oNGDtkLCHEFlz6Q3q+zkBm/FV0hJdwxKJMcE2qBV9urtx68zwKe
	0AfSTbZgX16cUpZOZ7QT1IeIZ/nxVTubNBWWsYNXK7WoJ/Uw+L8ic7GfO6QnoMP5c3N1SiiY/Bi+a
	7DXshGyzA==;
Received: from localhost ([127.0.0.1] helo=bombadil.infradead.org)
	by bombadil.infradead.org with esmtp (Exim 4.92.2 #3 (Red Hat Linux))
	id 1iAwRx-0007S6-6k; Thu, 19 Sep 2019 13:26:21 +0000
Received: from foss.arm.com ([217.140.110.172])
 by bombadil.infradead.org with esmtp (Exim 4.92.2 #3 (Red Hat Linux))
 id 1iAwRR-0007LB-5Q
 for linux-arm-kernel@lists.infradead.org; Thu, 19 Sep 2019 13:25:51 +0000
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 11F27337;
 Thu, 19 Sep 2019 06:25:45 -0700 (PDT)
Received: from [10.1.197.57] (e110467-lin.cambridge.arm.com [10.1.197.57])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id CE10C3F67D;
 Thu, 19 Sep 2019 06:25:40 -0700 (PDT)
Subject: Re: arm64 iommu groups issue
To: John Garry <john.garry@huawei.com>, Marc Zyngier <maz@kernel.org>,
 Will Deacon <will@kernel.org>, Lorenzo Pieralisi
 <lorenzo.pieralisi@arm.com>, Sudeep Holla <sudeep.holla@arm.com>,
 "Guohanjun (Hanjun Guo)" <guohanjun@huawei.com>
References: <9625faf4-48ef-2dd3-d82f-931d9cf26976@huawei.com>
From: Robin Murphy <robin.murphy@arm.com>
Message-ID: <4768c541-ebf4-61d5-0c5e-77dee83f8f94@arm.com>
Date: Thu, 19 Sep 2019 14:25:38 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <9625faf4-48ef-2dd3-d82f-931d9cf26976@huawei.com>
Content-Language: en-GB
X-CRM114-Version: 20100106-BlameMichelson ( TRE 0.8.0 (BSD) ) MR-646709E3 
X-CRM114-CacheID: sfid-20190919_062549_634971_FA03D0F6 
X-CRM114-Status: GOOD (  28.20  )
X-Spam-Score: 0.0 (/)
X-Spam-Report: SpamAssassin version 3.4.2 on bombadil.infradead.org summary:
 Content analysis details:   (0.0 points)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 0.0 SPF_HELO_NONE          SPF: HELO does not publish an SPF Record
 -0.0 SPF_PASS               SPF: sender matches SPF record
X-BeenThere: linux-arm-kernel@lists.infradead.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <linux-arm-kernel.lists.infradead.org>
List-Unsubscribe: <http://lists.infradead.org/mailman/options/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=unsubscribe>
List-Archive: <http://lists.infradead.org/pipermail/linux-arm-kernel/>
List-Post: <mailto:linux-arm-kernel@lists.infradead.org>
List-Help: <mailto:linux-arm-kernel-request@lists.infradead.org?subject=help>
List-Subscribe: <http://lists.infradead.org/mailman/listinfo/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=subscribe>
Cc: "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 Alex Williamson <alex.williamson@redhat.com>,
 Shameer Kolothum <shameerali.kolothum.thodi@huawei.com>,
 Linuxarm <linuxarm@huawei.com>, iommu <iommu@lists.linux-foundation.org>,
 Bjorn Helgaas <bhelgaas@google.com>,
 "linux-arm-kernel@lists.infradead.org" <linux-arm-kernel@lists.infradead.org>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Sender: "linux-arm-kernel" <linux-arm-kernel-bounces@lists.infradead.org>
Errors-To: linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org

SGkgSm9obiwKCk9uIDE5LzA5LzIwMTkgMDk6NDMsIEpvaG4gR2Fycnkgd3JvdGU6Cj4gSGkgYWxs
LAo+IAo+IFdlIGhhdmUgbm90aWNlZCBhIHNwZWNpYWwgYmVoYXZpb3VyIG9uIG91ciBhcm02NCBE
MDUgYm9hcmQgd2hlbiB0aGUgU01NVSAKPiBpcyBlbmFibGVkIHdpdGggcmVnYXJkcyBQQ0kgZGV2
aWNlIGlvbW11IGdyb3Vwcy4KPiAKPiBUaGlzIHBsYXRmb3JtIGRvZXMgbm90IHN1cHBvcnQgQUNT
LCB5ZXQgd2UgZmluZCB0aGF0IGFsbCBmdW5jdGlvbnMgZm9yIGEgCj4gUENJIGRldmljZSBhcmUg
bm90IGdyb3VwZWQgdG9nZXRoZXI6Cj4gCj4gcm9vdEB1YnVudHU6L3N5cyMgZG1lc2cgfCBncmVw
ICJBZGRpbmcgdG8gaW9tbXUgZ3JvdXAiCj4gW8KgwqDCoCA3LjMwNzUzOV0gaGlzaV9zYXNfdjJf
aHcgSElTSTAxNjI6MDE6IEFkZGluZyB0byBpb21tdSBncm91cCAwCj4gW8KgwqAgMTIuNTkwNTMz
XSBobnNfZHNhZiBISVNJMDBCMjowMDogQWRkaW5nIHRvIGlvbW11IGdyb3VwIDEKPiBbwqDCoCAx
My42ODg1MjddIG1seDVfY29yZSAwMDBhOjExOjAwLjA6IEFkZGluZyB0byBpb21tdSBncm91cCAy
Cj4gW8KgwqAgMTQuMzI0NjA2XSBtbHg1X2NvcmUgMDAwYToxMTowMC4xOiBBZGRpbmcgdG8gaW9t
bXUgZ3JvdXAgMwo+IFvCoMKgIDE0LjkzNzA5MF0gZWhjaS1wbGF0Zm9ybSBQTlAwRDIwOjAwOiBB
ZGRpbmcgdG8gaW9tbXUgZ3JvdXAgNAo+IFvCoMKgIDE1LjI3NjYzN10gcGNpZXBvcnQgMDAwMjpm
ODowMC4wOiBBZGRpbmcgdG8gaW9tbXUgZ3JvdXAgNQo+IFvCoMKgIDE1LjM0MDg0NV0gcGNpZXBv
cnQgMDAwNDo4ODowMC4wOiBBZGRpbmcgdG8gaW9tbXUgZ3JvdXAgNgo+IFvCoMKgIDE1LjM5MjA5
OF0gcGNpZXBvcnQgMDAwNTo3ODowMC4wOiBBZGRpbmcgdG8gaW9tbXUgZ3JvdXAgNwo+IFvCoMKg
IDE1LjQ0MzM1Nl0gcGNpZXBvcnQgMDAwYToxMDowMC4wOiBBZGRpbmcgdG8gaW9tbXUgZ3JvdXAg
OAo+IFvCoMKgIDE1LjQ4NDk3NV0gcGNpZXBvcnQgMDAwYzoyMDowMC4wOiBBZGRpbmcgdG8gaW9t
bXUgZ3JvdXAgOQo+IFvCoMKgIDE1LjU0MzY0N10gcGNpZXBvcnQgMDAwZDozMDowMC4wOiBBZGRp
bmcgdG8gaW9tbXUgZ3JvdXAgMTAKPiBbwqDCoCAxNS41OTk3NzFdIHNlcmlhbCAwMDAyOmY5OjAw
LjA6IEFkZGluZyB0byBpb21tdSBncm91cCA1Cj4gW8KgwqAgMTUuNjkwODA3XSBzZXJpYWwgMDAw
MjpmOTowMC4xOiBBZGRpbmcgdG8gaW9tbXUgZ3JvdXAgNQo+IFvCoMKgIDg0LjMyMjA5N10gbWx4
NV9jb3JlIDAwMGE6MTE6MDAuMjogQWRkaW5nIHRvIGlvbW11IGdyb3VwIDgKPiBbwqDCoCA4NC44
NTY0MDhdIG1seDVfY29yZSAwMDBhOjExOjAwLjM6IEFkZGluZyB0byBpb21tdSBncm91cCA4Cj4g
Cj4gcm9vdEB1YnVudHU6L3N5cyPCoCBsc3BjaSAtdHYKPiBsc3BjaSAtdHZ2Cj4gLSstWzAwMGQ6
MzBdLS0tMDAuMC1bMzFdLS0KPiAgwqAgKy1bMDAwYzoyMF0tLS0wMC4wLVsyMV0tLS0tMDAuMMKg
IEh1YXdlaSBUZWNobm9sb2dpZXMgQ28uLCBMdGQuCj4gIMKgICstWzAwMGE6MTBdLS0tMDAuMC1b
MTEtMTJdLS0rLTAwLjDCoCBNZWxsYW5veCBbQ29ubmVjdFgtNV0KPiAgwqAgfMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgKy0wMC4xwqAgTWVsbGFu
b3ggW0Nvbm5lY3RYLTVdCj4gIMKgIHzCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgICstMDAuMsKgIE1lbGxhbm94IFtDb25uZWN0WC01IFZGXQo+ICDC
oCB8wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBc
LTAwLjPCoCBNZWxsYW5veCBbQ29ubmVjdFgtNSBWRl0KPiAgwqAgKy1bMDAwNzo5MF0tLS0wMC4w
LVs5MV0tLS0tMDAuMMKgIEh1YXdlaSBUZWNobm9sb2dpZXMgQ28uLCAuLi4KPiAgwqAgKy1bMDAw
NjpjMF0tLS0wMC4wLVtjMV0tLQo+ICDCoCArLVswMDA1Ojc4XS0tLTAwLjAtWzc5XS0tCj4gIMKg
ICstWzAwMDQ6ODhdLS0tMDAuMC1bODldLS0KPiAgwqAgKy1bMDAwMjpmOF0tLS0wMC4wLVtmOV0t
LSstMDAuMMKgIE1vc0NoaXAgU2VtaWNvbmR1Y3RvciBUZWNobm9sb2d5IC4uLgo+ICDCoCB8wqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCArLTAwLjHCoCBNb3ND
aGlwIFNlbWljb25kdWN0b3IgVGVjaG5vbG9neSAuLi4KPiAgwqAgfMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgXC0wMC4ywqAgTW9zQ2hpcCBTZW1pY29uZHVj
dG9yIFRlY2hub2xvZ3kgLi4uCj4gIMKgIFwtWzAwMDA6MDBdLQo+IAo+IEZvciB0aGUgUENJIGRl
dmljZXMgaW4gcXVlc3Rpb24gLSBvbiBwb3J0IDAwMGE6MTA6MDAuMCAtIHlvdSB3aWxsIG5vdGlj
ZSAKPiB0aGF0IHRoZSBwb3J0IGFuZCBWRnMgKDAwMGE6MTE6MDAuMiwgMykgYXJlIGluIG9uZSBn
cm91cCwgeWV0IHRoZSAyIFBGcyAKPiAoMDAwYToxMTowMC4wLCAwMDBhOjExOjAwLjEpIGFyZSBp
biBzZXBhcmF0ZSBncm91cHMuCj4gCj4gSSBhbHNvIG5vdGljZSB0aGUgc2FtZSBvcmRlcmluZyBu
YXR1cmUgb24gb3VyIEQwNiBwbGF0Zm9ybSAtIHRoZSAKPiBwY2llcG9ydCBpcyBhZGRlZCB0byBh
biBpb21tdSBncm91cCBhZnRlciBQRiBmb3IgdGhhdCBwb3J0LiBIb3dldmVyIHRoaXMgCj4gcGxh
dGZvcm0gc3VwcG9ydHMgQUNTLCBzbyBub3Qgc3VjaCBhIHByb2JsZW0uCj4gCj4gQWZ0ZXIgc29t
ZSBjaGVja2luZywgSSBmaW5kIHRoYXQgd2hlbiB0aGUgcGNpZXBvcnQgZHJpdmVyIHByb2Jlcywg
dGhlIAo+IGFzc29jaWF0ZWQgU01NVSBkZXZpY2UgaGFkIG5vdCByZWdpc3RlcmVkIHlldCB3aXRo
IHRoZSBJT01NVSBmcmFtZXdvcmssIAo+IHNvIHdlIGRlZmVyIHRoZSBwcm9iZSBmb3IgdGhpcyBk
ZXZpY2UgLSBpbiBpb3J0LmM6aW9ydF9pb21tdV94bGF0ZSgpLCAKPiB3aGVuIG5vIGlvbW11IG9w
cyBhcmUgYXZhaWxhYmxlLCB3ZSBkZWZlci4KPiAKPiBZZXQsIHdoZW4gdGhlIG1seDUgUEYgZGV2
aWNlcyBwcm9iZSwgdGhlIGlvbW11IG9wcyBhcmUgYXZhaWxhYmxlIGF0IHRoaXMgCj4gc3RhZ2Uu
IFNvIHRoZSBwcm9iZSBjb250aW51ZXMgYW5kIHdlIGdldCBhbiBpb21tdSBncm91cCBmb3IgdGhl
IGRldmljZSAtIAo+IGJ1dCBub3QgdGhlIHNhbWUgZ3JvdXAgYXMgdGhlIHBhcmVudCBwb3J0LCBh
cyBpdCBoYXMgbm90IHlldCBiZWVuIGFkZGVkIAo+IHRvIGEgZ3JvdXAuIFdoZW4gdGhlIHBvcnQg
ZXZlbnR1YWxseSBwcm9iZXMgaXQgZ2V0cyBhIG5ldywgc2VwYXJhdGUgZ3JvdXAuCj4gCj4gVGhp
cyBhbGwgc2VlbXMgdG8gYmUgYXMgdGhlIGJ1aWx0LWluIG1vZHVsZSBpbml0IG9yZGVyaW5nIGlz
IGFzIGZvbGxvd3M6IAo+IHBjaWVwb3J0IGRydiwgc21tdSBkcnYsIG1seDUgZHJ2Cj4gCj4gSSBu
b3RpY2UgdGhhdCBpZiBJIGJ1aWxkIHRoZSBtbHg1IGRydiBhcyBhIGtvIGFuZCBpbnNlcnQgYWZ0
ZXIgYm9vdCwgYWxsIAo+IGZ1bmN0aW9ucyArIHBjaWVwb3J0IGFyZSBpbiB0aGUgc2FtZSBncm91
cDoKPiAKPiBbwqDCoCAxMS41MzAwNDZdIGhpc2lfc2FzX3YyX2h3IEhJU0kwMTYyOjAxOiBBZGRp
bmcgdG8gaW9tbXUgZ3JvdXAgMAo+IFvCoMKgIDE3LjMwMTA5M10gaG5zX2RzYWYgSElTSTAwQjI6
MDA6IEFkZGluZyB0byBpb21tdSBncm91cCAxCj4gW8KgwqAgMTguNzQzNjAwXSBlaGNpLXBsYXRm
b3JtIFBOUDBEMjA6MDA6IEFkZGluZyB0byBpb21tdSBncm91cCAyCj4gW8KgwqAgMjAuMjEyMjg0
XSBwY2llcG9ydCAwMDAyOmY4OjAwLjA6IEFkZGluZyB0byBpb21tdSBncm91cCAzCj4gW8KgwqAg
MjAuMzU2MzAzXSBwY2llcG9ydCAwMDA0Ojg4OjAwLjA6IEFkZGluZyB0byBpb21tdSBncm91cCA0
Cj4gW8KgwqAgMjAuNDkzMzM3XSBwY2llcG9ydCAwMDA1Ojc4OjAwLjA6IEFkZGluZyB0byBpb21t
dSBncm91cCA1Cj4gW8KgwqAgMjAuNzAyOTk5XSBwY2llcG9ydCAwMDBhOjEwOjAwLjA6IEFkZGlu
ZyB0byBpb21tdSBncm91cCA2Cj4gW8KgwqAgMjAuODU5MTgzXSBwY2llcG9ydCAwMDBjOjIwOjAw
LjA6IEFkZGluZyB0byBpb21tdSBncm91cCA3Cj4gW8KgwqAgMjAuOTk2MTQwXSBwY2llcG9ydCAw
MDBkOjMwOjAwLjA6IEFkZGluZyB0byBpb21tdSBncm91cCA4Cj4gW8KgwqAgMjEuMTUyNjM3XSBz
ZXJpYWwgMDAwMjpmOTowMC4wOiBBZGRpbmcgdG8gaW9tbXUgZ3JvdXAgMwo+IFvCoMKgIDIxLjM0
Njk5MV0gc2VyaWFsIDAwMDI6Zjk6MDAuMTogQWRkaW5nIHRvIGlvbW11IGdyb3VwIDMKPiBbwqAg
MTAwLjc1NDMwNl0gbWx4NV9jb3JlIDAwMGE6MTE6MDAuMDogQWRkaW5nIHRvIGlvbW11IGdyb3Vw
IDYKPiBbwqAgMTAxLjQyMDE1Nl0gbWx4NV9jb3JlIDAwMGE6MTE6MDAuMTogQWRkaW5nIHRvIGlv
bW11IGdyb3VwIDYKPiBbwqAgMjkyLjQ4MTcxNF0gbWx4NV9jb3JlIDAwMGE6MTE6MDAuMjogQWRk
aW5nIHRvIGlvbW11IGdyb3VwIDYKPiBbwqAgMjkzLjI4MTA2MV0gbWx4NV9jb3JlIDAwMGE6MTE6
MDAuMzogQWRkaW5nIHRvIGlvbW11IGdyb3VwIDYKPiAKPiBUaGlzIGRvZXMgc2VlbSBsaWtlIGEg
cHJvYmxlbSBmb3IgYXJtNjQgcGxhdGZvcm1zIHdoaWNoIGRvbid0IHN1cHBvcnQgCj4gQUNTLCB5
ZXQgZW5hYmxlIGFuIFNNTVUuIE1heWJlIGFsc28gYSBwcm9ibGVtIGV2ZW4gaWYgdGhleSBkbyBz
dXBwb3J0IEFDUy4KPiAKPiBPcGluaW9uPwoKWWVhaCwgdGhpcyBpcyBsZXNzIHRoYW4gaWRlYWwu
IE9uZSB3YXkgdG8gYm9kZ2UgaXQgbWlnaHQgYmUgdG8gbWFrZSAKcGNpX2RldmljZV9ncm91cCgp
IGFsc28gd2FsayBkb3dud2FyZHMgdG8gc2VlIGlmIGFueSBub24tQUNTLWlzb2xhdGVkIApjaGls
ZHJlbiBhbHJlYWR5IGhhdmUgYSBncm91cCwgcmF0aGVyIHRoYW4gYXNzdW1pbmcgdGhhdCBncm91
cHMgZ2V0IAphbGxvY2F0ZWQgaW4gaGllcmFyY2hpY2FsIG9yZGVyLCBidXQgdGhhdCdzIGZhciBm
cm9tIGlkZWFsLgoKVGhlIHVuZGVybHlpbmcgaXNzdWUgaXMgdGhhdCwgZm9yIGhpc3RvcmljYWwg
cmVhc29ucywgT0YvSU9SVC1iYXNlZCAKSU9NTVUgZHJpdmVycyBoYXZlIGVuZGVkIHVwIHdpdGgg
Z3JvdXAgYWxsb2NhdGlvbiBiZWluZyB0aWVkIHRvIGVuZHBvaW50IApkcml2ZXIgcHJvYmluZyB2
aWEgdGhlIGRtYV9jb25maWd1cmUoKSBtZWNoYW5pc20gKGxvbmcgc3Rvcnkgc2hvcnQsIApkcml2
ZXIgcHJvYmUgaXMgdGhlIG9ubHkgdGhpbmcgd2hpY2ggY2FuIGJlIGRlbGF5ZWQgaW4gb3JkZXIg
dG8gd2FpdCBmb3IgCmEgc3BlY2lmaWMgSU9NTVUgaW5zdGFuY2UgdG8gYmUgcmVhZHkpLiBIb3dl
dmVyLCBpbiB0aGUgbWVhbnRpbWUsIHRoZSAKSU9NTVUgQVBJIGludGVybmFscyBoYXZlIGV2b2x2
ZWQgc3VmZmljaWVudGx5IHRoYXQgSSB0aGluayB0aGVyZSdzIGEgd2F5IAp0byByZWFsbHkgcHV0
IHRoaW5ncyByaWdodCAtIEkgaGF2ZSB0aGUgc3Bhcmsgb2YgYW4gaWRlYSB3aGljaCBJJ2xsIHRy
eSAKdG8gc2tldGNoIG91dCBBU0FQLi4uCgpSb2Jpbi4KCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCmxpbnV4LWFybS1rZXJuZWwgbWFpbGluZyBsaXN0Cmxp
bnV4LWFybS1rZXJuZWxAbGlzdHMuaW5mcmFkZWFkLm9yZwpodHRwOi8vbGlzdHMuaW5mcmFkZWFk
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2xpbnV4LWFybS1rZXJuZWwK
