Return-Path: <linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org>
X-Original-To: lists+linux-arm-kernel@lfdr.de
Delivered-To: lists+linux-arm-kernel@lfdr.de
Received: from bombadil.infradead.org (bombadil.infradead.org [IPv6:2607:7c80:54:e::133])
	by mail.lfdr.de (Postfix) with ESMTPS id 50B3D1A5D4E
	for <lists+linux-arm-kernel@lfdr.de>; Sun, 12 Apr 2020 09:43:24 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.infradead.org; s=bombadil.20170209; h=Sender:
	Content-Transfer-Encoding:Content-Type:Cc:List-Subscribe:List-Help:List-Post:
	List-Archive:List-Unsubscribe:List-Id:References:MIME-Version:In-Reply-To:
	Message-Id:Date:Subject:To:From:Reply-To:Content-ID:Content-Description:
	Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:
	List-Owner; bh=ATIVBgddX7G1/pep9EidnWUHA9HWmgV3Xqj6uY9fheE=; b=Qr16phVK5kygs/
	47+nwjSBr30YsKWiiCqXJbS3EvMvLTQt1hQdHI81lnqGnd2dO6wkNA5m5yHK+DwvmqjtFpyh3LJVh
	InBMQ60q/yBCBAMfN2EpmGGKCxZ/uKx4upG0jnu4rh99SkMCM0zTvq0SrxgBHjN2EpU3IFaaNGdeo
	BvbTrGN0aibRBTnK2Uzwtf7OMi1866tcbNc4nBdhNbpKlchGZsdT7v2vWy443+QNx1drIvvcS9hkz
	t1gmpLXIl7ozmcv5c94aVUlkSeuAVqjnWrunaJWCNtZT4whLsjjpqS06jIRd39aGEQX+xJOcJaqP9
	tZn3/w7CzeN63drBhfgQ==;
Received: from localhost ([127.0.0.1] helo=bombadil.infradead.org)
	by bombadil.infradead.org with esmtp (Exim 4.92.3 #3 (Red Hat Linux))
	id 1jNXGp-0003l3-E9; Sun, 12 Apr 2020 07:43:11 +0000
Received: from mailout1.samsung.com ([203.254.224.24])
 by bombadil.infradead.org with esmtps (Exim 4.92.3 #3 (Red Hat Linux))
 id 1jNXFy-0003E8-9z
 for linux-arm-kernel@lists.infradead.org; Sun, 12 Apr 2020 07:42:25 +0000
Received: from epcas5p1.samsung.com (unknown [182.195.41.39])
 by mailout1.samsung.com (KnoxPortal) with ESMTP id
 20200412074209epoutp01fc88d414080b28b8f6fc7e9e9bb69ad8~FAp-9rrg-0625806258epoutp01M
 for <linux-arm-kernel@lists.infradead.org>;
 Sun, 12 Apr 2020 07:42:09 +0000 (GMT)
DKIM-Filter: OpenDKIM Filter v2.11.0 mailout1.samsung.com
 20200412074209epoutp01fc88d414080b28b8f6fc7e9e9bb69ad8~FAp-9rrg-0625806258epoutp01M
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=samsung.com;
 s=mail20170921; t=1586677329;
 bh=jkpBVnMapPYgnP/AWNxgzOKgM7k0/ctDUDDMnmkJf0Y=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=NuvrF1aW6v7PvItF6PKR8fPlKGF98jb4Xq42sWa93UzLSs7u/JzMYiwEGWv3+eZLH
 3hKB+kf6qUSI5Sd0ty/1D8uIyiePHQfs9UBt/+ywZPYzm0sl3yPk2B4Ap613ium20/
 LnpNvhi8Ki2PaOrPqhUVkkXe8c8wOymiFH9XB3nc=
Received: from epsmges5p1new.samsung.com (unknown [182.195.42.73]) by
 epcas5p4.samsung.com (KnoxPortal) with ESMTP id
 20200412074208epcas5p4ec7425e4adddb4a4c1d153f53ebaa20e~FAp-FHR6G1693016930epcas5p46;
 Sun, 12 Apr 2020 07:42:08 +0000 (GMT)
Received: from epcas5p4.samsung.com ( [182.195.41.42]) by
 epsmges5p1new.samsung.com (Symantec Messaging Gateway) with SMTP id
 48.B2.04782.056C29E5; Sun, 12 Apr 2020 16:42:08 +0900 (KST)
Received: from epsmtrp1.samsung.com (unknown [182.195.40.13]) by
 epcas5p3.samsung.com (KnoxPortal) with ESMTPA id
 20200412074208epcas5p3fb85c70701a9b6f65b8fc20f722a50ce~FAp_U1QZB1508915089epcas5p37;
 Sun, 12 Apr 2020 07:42:08 +0000 (GMT)
Received: from epsmgms1p1new.samsung.com (unknown [182.195.42.41]) by
 epsmtrp1.samsung.com (KnoxPortal) with ESMTP id
 20200412074208epsmtrp1ef551694e82ec13ba0620c850875cbc6~FAp_T-eWn1966119661epsmtrp1u;
 Sun, 12 Apr 2020 07:42:08 +0000 (GMT)
X-AuditID: b6c32a49-89bff700000012ae-f7-5e92c6504a75
Received: from epsmtip1.samsung.com ( [182.195.34.30]) by
 epsmgms1p1new.samsung.com (Symantec Messaging Gateway) with SMTP id
 2D.3E.04024.F46C29E5; Sun, 12 Apr 2020 16:42:07 +0900 (KST)
Received: from Jaguar.sa.corp.samsungelectronics.net (unknown
 [107.108.73.139]) by epsmtip1.samsung.com (KnoxPortal) with ESMTPA id
 20200412074205epsmtip1b9453a8ad4e1957cfc1cd0596b196d05~FAp7zl5RU0407304073epsmtip1F;
 Sun, 12 Apr 2020 07:42:05 +0000 (GMT)
From: Alim Akhtar <alim.akhtar@samsung.com>
To: robh@kernel.org, devicetree@vger.kernel.org, linux-scsi@vger.kernel.org
Subject: [PATCH v5 2/5] phy: samsung-ufs: add UFS PHY driver for samsung SoC
Date: Sun, 12 Apr 2020 13:01:56 +0530
Message-Id: <20200412073159.37747-3-alim.akhtar@samsung.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200412073159.37747-1-alim.akhtar@samsung.com>
MIME-Version: 1.0
X-Brightmail-Tracker: H4sIAAAAAAAAA02SaUhUYRSG+e4216mp6yj0NWLCgJRmmlhyf5j1I+JGClJB0GJOelHRUZtx
 DcE1tXHXcBmXhFxIA2VcGqfMcckFcyF1XNDSVNApNCeyzSVnrpL/nnPO+/Ke8/GRqFCHi8jA
 kHBWFiIJFhN8rKXLzv6MV0+e99niVRd6rryFoFd+jxO0ob4ap591D+F0zUglQo8sZRD08HAD
 j55qeofRqgUdTo9qSgm6aPgtQqdPqAm6pncboXfeqHl0VfMUuHSUGc3KRJhW5SyPUdU+IZjG
 yjgmub8dY9aXpjEmq6kWML2TrxDmu+oEk6pNR7z4t/lufmxwYCQrc3L34QcM/NKjYS+KQHT8
 nxYiHhTEKYAZCalzMOVjF64AfFJIvQbwy4+vgCsMALZ+W0O5YgPA6eoVfN+yszmCcIM2AOcT
 9XuWZATmrxcCo4qgTsPZwibEyJbUNbimHTaFoJQegd1L9TzjwILygKUGrUmEUbZQ19NAGFlA
 ucFPj8tQLs4G1jVoTWxGXYAVMwqE05jD/uJFzMjoriapucS0K6RUPDg7MIJw5stwo6CN4NgC
 6nubeByL4Ep2yi6TuxwEMzQuXDsWVpX3YBxfhNqxUswoQSk7WK9x4qKOwMy/iwjnFMC0FCGn
 toVJq+N7TiuYm56+91gM1KQtmBYQUjkAts3fzAE2ygMHKA8coPwfVgHQWnCcDZNL/Vn5+TDn
 EDbKUS6RyiNC/B19Q6UqYPpt9lfVQDnk0QkoEogPC7S6XG8hLomUx0g7ASRRsaVgMWq3JfCT
 xDxiZaH3ZRHBrLwTWJGY+JggDx+/K6T8JeFsEMuGsbL9KUKaieJBNorfaX9Wlxa0OZc26PuA
 2HSd2BrzjTYL1PELH2pPuUlCU2/MBj2Ny0gYc48tkeqLPntaz0w311xJVGQ49Aa6Lnu8LPrQ
 6GPZeL0xyrpvK+/Q5PPxDierwYb85fzsAYfyBEeqTOFv2O77ubFQ2+3ecdKgib1X5al2Fr2P
 WU++ZS7G5AESZ3tUJpf8A+XZyJ9pAwAA
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFlrDIsWRmVeSWpSXmKPExsWy7bCSnK7/sUlxBqd/2Vg8mLeNzeLlz6ts
 Fp/WL2O1mH/kHKvF8gtLmCwuPO1hszh/fgO7xc0tR1ksNj2+xmpxedccNosZ5/cxWXRf38Fm
 sfz4PyaL/3t2sFss3XqT0YHf43JfL5PHzll32T02repk89i8pN6j5eR+Fo+PT2+xePRtWcXo
 cfzGdiaPz5vkPNoPdDMFcEVx2aSk5mSWpRbp2yVwZZz+8Yq5YOUMxoqGX9vYGhin1XcxcnJI
 CJhI/P9zgamLkYtDSGA3o8S7D/OYIBLSEtc3TmCHsIUlVv57zg5R1MQkcWLqJxaQBJuAtsTd
 6VvAGkQE/CX+fD8GVsQs8INJ4teuFWwgCWEBH4k5nw6AFbEIqEpcO7YBLM4rYCNxv3UuM8QG
 eYnVGw6A2ZwCthIL7nSB1QsB1fzdcZwRol5Q4uTMJ0CLOYAWqEusnycEEmYGam3eOpt5AqPg
 LCRVsxCqZiGpWsDIvIpRMrWgODc9t9iwwDAvtVyvODG3uDQvXS85P3cTIzgOtTR3MF5eEn+I
 UYCDUYmH98C1iXFCrIllxZW5hxglOJiVRHiflAOFeFMSK6tSi/Lji0pzUosPMUpzsCiJ8z7N
 OxYpJJCeWJKanZpakFoEk2Xi4JRqYGyM2xQXLTOJa/fJV6XHb9Zblr5t+nz72rkpL5ReJ6vU
 /Lk3K/2a9wTxsBWZp/JWKqmZ3/7GZcamqv3+oNb6835C95d6Sx/RvN/e+dtbV/96kIfD2vvB
 N38/LFU60zU30j0qR16ioVY3UeZBvQHr9z2O63if3myqtAr+G9fKeefJsaRl5zkjPiuxFGck
 GmoxFxUnAgCzw4s/vwIAAA==
X-CMS-MailID: 20200412074208epcas5p3fb85c70701a9b6f65b8fc20f722a50ce
X-Msg-Generator: CA
CMS-TYPE: 105P
X-CMS-RootMailID: 20200412074208epcas5p3fb85c70701a9b6f65b8fc20f722a50ce
References: <20200412073159.37747-1-alim.akhtar@samsung.com>
 <CGME20200412074208epcas5p3fb85c70701a9b6f65b8fc20f722a50ce@epcas5p3.samsung.com>
X-CRM114-Version: 20100106-BlameMichelson ( TRE 0.8.0 (BSD) ) MR-646709E3 
X-CRM114-CacheID: sfid-20200412_004218_792188_303E285A 
X-CRM114-Status: GOOD (  25.29  )
X-Spam-Score: -5.2 (-----)
X-Spam-Report: SpamAssassin version 3.4.4 on bombadil.infradead.org summary:
 Content analysis details:   (-5.2 points)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -5.0 RCVD_IN_DNSWL_HI       RBL: Sender listed at https://www.dnswl.org/,
 high trust [203.254.224.24 listed in list.dnswl.org]
 0.0 RCVD_IN_MSPIKE_H3      RBL: Good reputation (+3)
 [203.254.224.24 listed in wl.mailspike.net]
 -0.0 SPF_HELO_PASS          SPF: HELO matches SPF record
 -0.0 SPF_PASS               SPF: sender matches SPF record
 -0.1 DKIM_VALID_EF          Message has a valid DKIM or DK signature from
 envelope-from domain
 -0.1 DKIM_VALID_AU          Message has a valid DKIM or DK signature from
 author's domain
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily
 valid
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
 0.0 RCVD_IN_MSPIKE_WL      Mailspike good senders
 -0.0 DKIMWL_WL_HIGH         DKIMwl.org - Whitelisted High sender
X-BeenThere: linux-arm-kernel@lists.infradead.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <linux-arm-kernel.lists.infradead.org>
List-Unsubscribe: <http://lists.infradead.org/mailman/options/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=unsubscribe>
List-Archive: <http://lists.infradead.org/pipermail/linux-arm-kernel/>
List-Post: <mailto:linux-arm-kernel@lists.infradead.org>
List-Help: <mailto:linux-arm-kernel-request@lists.infradead.org?subject=help>
List-Subscribe: <http://lists.infradead.org/mailman/listinfo/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=subscribe>
Cc: Kishon Vijay Abraham I <kishon@ti.com>, linux-samsung-soc@vger.kernel.org,
 martin.petersen@oracle.com, linux-kernel@vger.kernel.org, krzk@kernel.org,
 kwmad.kim@samsung.com, avri.altman@wdc.com, cang@codeaurora.org,
 Seungwon Jeon <essuuj@gmail.com>, Alim Akhtar <alim.akhtar@samsung.com>,
 stanley.chu@mediatek.com, linux-arm-kernel@lists.infradead.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: "linux-arm-kernel" <linux-arm-kernel-bounces@lists.infradead.org>
Errors-To: linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org

VGhpcyBwYXRjaCBpbnRyb2R1Y2VzIFNhbXN1bmcgVUZTIFBIWSBkcml2ZXIuIFRoaXMgZHJpdmVy
CnN1cHBvcnRzIHRvIGRlYWwgd2l0aCBwaHkgY2FsaWJyYXRpb24gYW5kIHBvd2VyIGNvbnRyb2wK
YWNjb3JkaW5nIHRvIFVGUyBob3N0IGRyaXZlcidzIGJlaGF2aW9yLgoKUmV2aWV3ZWQtYnk6IEtp
d29vbmcgS2ltIDxrd21hZC5raW1Ac2Ftc3VuZy5jb20+ClNpZ25lZC1vZmYtYnk6IFNldW5nd29u
IEplb24gPGVzc3V1akBnbWFpbC5jb20+ClNpZ25lZC1vZmYtYnk6IEFsaW0gQWtodGFyIDxhbGlt
LmFraHRhckBzYW1zdW5nLmNvbT4KQ2M6IEtpc2hvbiBWaWpheSBBYnJhaGFtIEkgPGtpc2hvbkB0
aS5jb20+ClRlc3RlZC1ieTogUGF3ZcWCIENobWllbCA8cGF3ZWwubWlrb2xhai5jaG1pZWxAZ21h
aWwuY29tPgotLS0KIGRyaXZlcnMvcGh5L3NhbXN1bmcvS2NvbmZpZyAgICAgICAgICAgfCAgIDkg
KwogZHJpdmVycy9waHkvc2Ftc3VuZy9NYWtlZmlsZSAgICAgICAgICB8ICAgMSArCiBkcml2ZXJz
L3BoeS9zYW1zdW5nL3BoeS1leHlub3M3LXVmcy5oIHwgIDg1ICsrKysrKwogZHJpdmVycy9waHkv
c2Ftc3VuZy9waHktc2Ftc3VuZy11ZnMuYyB8IDM2OSArKysrKysrKysrKysrKysrKysrKysrKysr
KwogZHJpdmVycy9waHkvc2Ftc3VuZy9waHktc2Ftc3VuZy11ZnMuaCB8IDE0MiArKysrKysrKysr
CiA1IGZpbGVzIGNoYW5nZWQsIDYwNiBpbnNlcnRpb25zKCspCiBjcmVhdGUgbW9kZSAxMDA2NDQg
ZHJpdmVycy9waHkvc2Ftc3VuZy9waHktZXh5bm9zNy11ZnMuaAogY3JlYXRlIG1vZGUgMTAwNjQ0
IGRyaXZlcnMvcGh5L3NhbXN1bmcvcGh5LXNhbXN1bmctdWZzLmMKIGNyZWF0ZSBtb2RlIDEwMDY0
NCBkcml2ZXJzL3BoeS9zYW1zdW5nL3BoeS1zYW1zdW5nLXVmcy5oCgpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9waHkvc2Ftc3VuZy9LY29uZmlnIGIvZHJpdmVycy9waHkvc2Ftc3VuZy9LY29uZmlnCmlu
ZGV4IDllNDgzZDFmZGFmMi4uZmMxZTNjMTdmODQyIDEwMDY0NAotLS0gYS9kcml2ZXJzL3BoeS9z
YW1zdW5nL0tjb25maWcKKysrIGIvZHJpdmVycy9waHkvc2Ftc3VuZy9LY29uZmlnCkBAIC0yOSw2
ICsyOSwxNSBAQCBjb25maWcgUEhZX0VYWU5PU19QQ0lFCiAJICBFbmFibGUgUENJZSBQSFkgc3Vw
cG9ydCBmb3IgRXh5bm9zIFNvQyBzZXJpZXMuCiAJICBUaGlzIGRyaXZlciBwcm92aWRlcyBQSFkg
aW50ZXJmYWNlIGZvciBFeHlub3MgUENJZSBjb250cm9sbGVyLgogCitjb25maWcgUEhZX1NBTVNV
TkdfVUZTCisJdHJpc3RhdGUgIlNBTVNVTkcgU29DIHNlcmllcyBVRlMgUEhZIGRyaXZlciIKKwlk
ZXBlbmRzIG9uIE9GICYmIChBUkNIX0VYWU5PUyB8fCBDT01QSUxFX1RFU1QpCisJc2VsZWN0IEdF
TkVSSUNfUEhZCisJaGVscAorCSAgRW5hYmxlIHRoaXMgdG8gc3VwcG9ydCB0aGUgU2Ftc3VuZyBV
RlMgUEhZIGRyaXZlciBmb3IKKwkgIFNhbXN1bmcgU29Dcy4gVGhpcyBkcml2ZXIgcHJvdmlkZXMg
dGhlIGludGVyZmFjZSBmb3IgVUZTCisJICBob3N0IGNvbnRyb2xsZXIgdG8gZG8gUEhZIHJlbGF0
ZWQgcHJvZ3JhbW1pbmcuCisKIGNvbmZpZyBQSFlfU0FNU1VOR19VU0IyCiAJdHJpc3RhdGUgIlNh
bXN1bmcgVVNCIDIuMCBQSFkgZHJpdmVyIgogCWRlcGVuZHMgb24gSEFTX0lPTUVNCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL3BoeS9zYW1zdW5nL01ha2VmaWxlIGIvZHJpdmVycy9waHkvc2Ftc3VuZy9N
YWtlZmlsZQppbmRleCBkYjliMWFhMGRlNmUuLjM5NTkxMDBmZThhMiAxMDA2NDQKLS0tIGEvZHJp
dmVycy9waHkvc2Ftc3VuZy9NYWtlZmlsZQorKysgYi9kcml2ZXJzL3BoeS9zYW1zdW5nL01ha2Vm
aWxlCkBAIC0yLDYgKzIsNyBAQAogb2JqLSQoQ09ORklHX1BIWV9FWFlOT1NfRFBfVklERU8pCSs9
IHBoeS1leHlub3MtZHAtdmlkZW8ubwogb2JqLSQoQ09ORklHX1BIWV9FWFlOT1NfTUlQSV9WSURF
TykJKz0gcGh5LWV4eW5vcy1taXBpLXZpZGVvLm8KIG9iai0kKENPTkZJR19QSFlfRVhZTk9TX1BD
SUUpCQkrPSBwaHktZXh5bm9zLXBjaWUubworb2JqLSQoQ09ORklHX1BIWV9TQU1TVU5HX1VGUykJ
CSs9IHBoeS1zYW1zdW5nLXVmcy5vCiBvYmotJChDT05GSUdfUEhZX1NBTVNVTkdfVVNCMikJCSs9
IHBoeS1leHlub3MtdXNiMi5vCiBwaHktZXh5bm9zLXVzYjIteQkJCSs9IHBoeS1zYW1zdW5nLXVz
YjIubwogcGh5LWV4eW5vcy11c2IyLSQoQ09ORklHX1BIWV9FWFlOT1M0MjEwX1VTQjIpCSs9IHBo
eS1leHlub3M0MjEwLXVzYjIubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9waHkvc2Ftc3VuZy9waHkt
ZXh5bm9zNy11ZnMuaCBiL2RyaXZlcnMvcGh5L3NhbXN1bmcvcGh5LWV4eW5vczctdWZzLmgKbmV3
IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5kYTk4MWMxYWMwNDAKLS0tIC9k
ZXYvbnVsbAorKysgYi9kcml2ZXJzL3BoeS9zYW1zdW5nL3BoeS1leHlub3M3LXVmcy5oCkBAIC0w
LDAgKzEsODUgQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkgKi8K
Ky8qCisgKiBVRlMgUEhZIGRyaXZlciBkYXRhIGZvciBTYW1zdW5nIEVYWU5PUzcgU29DCisgKgor
ICogQ29weXJpZ2h0IChDKSAyMDE1IFNhbXN1bmcgRWxlY3Ryb25pY3MgQ28uLCBMdGQuCisgKi8K
KyNpZm5kZWYgX1BIWV9FWFlOT1M3X1VGU19IXworI2RlZmluZSBfUEhZX0VYWU5PUzdfVUZTX0hf
CisKKyNpbmNsdWRlICJwaHktc2Ftc3VuZy11ZnMuaCIKKworI2RlZmluZSBFWFlOT1M3X0VNQkVE
REVEX0NPTUJPX1BIWV9DVFJMCTB4NzIwCisjZGVmaW5lIEVYWU5PUzdfRU1CRURERURfQ09NQk9f
UEhZX0NUUkxfTUFTSwkweDEKKyNkZWZpbmUgRVhZTk9TN19FTUJFRERFRF9DT01CT19QSFlfQ1RS
TF9FTglCSVQoMCkKKworLyogQ2FsaWJyYXRpb24gZm9yIHBoeSBpbml0aWFsaXphdGlvbiAqLwor
c3RhdGljIGNvbnN0IHN0cnVjdCBzYW1zdW5nX3Vmc19waHlfY2ZnIGV4eW5vczdfcHJlX2luaXRf
Y2ZnW10gPSB7CisJUEhZX0NPTU5fUkVHX0NGRygweDAwZiwgMHhmYSwgUFdSX01PREVfQU5ZKSwK
KwlQSFlfQ09NTl9SRUdfQ0ZHKDB4MDEwLCAweDgyLCBQV1JfTU9ERV9BTlkpLAorCVBIWV9DT01O
X1JFR19DRkcoMHgwMTEsIDB4MWUsIFBXUl9NT0RFX0FOWSksCisJUEhZX0NPTU5fUkVHX0NGRygw
eDAxNywgMHg4NCwgUFdSX01PREVfQU5ZKSwKKwlQSFlfVFJTVl9SRUdfQ0ZHKDB4MDM1LCAweDU4
LCBQV1JfTU9ERV9BTlkpLAorCVBIWV9UUlNWX1JFR19DRkcoMHgwMzYsIDB4MzIsIFBXUl9NT0RF
X0FOWSksCisJUEhZX1RSU1ZfUkVHX0NGRygweDAzNywgMHg0MCwgUFdSX01PREVfQU5ZKSwKKwlQ
SFlfVFJTVl9SRUdfQ0ZHKDB4MDNiLCAweDgzLCBQV1JfTU9ERV9BTlkpLAorCVBIWV9UUlNWX1JF
R19DRkcoMHgwNDIsIDB4ODgsIFBXUl9NT0RFX0FOWSksCisJUEhZX1RSU1ZfUkVHX0NGRygweDA0
MywgMHhhNiwgUFdSX01PREVfQU5ZKSwKKwlQSFlfVFJTVl9SRUdfQ0ZHKDB4MDQ4LCAweDc0LCBQ
V1JfTU9ERV9BTlkpLAorCVBIWV9UUlNWX1JFR19DRkcoMHgwNGMsIDB4NWIsIFBXUl9NT0RFX0FO
WSksCisJUEhZX1RSU1ZfUkVHX0NGRygweDA0ZCwgMHg4MywgUFdSX01PREVfQU5ZKSwKKwlQSFlf
VFJTVl9SRUdfQ0ZHKDB4MDVjLCAweDE0LCBQV1JfTU9ERV9BTlkpLAorCUVORF9VRlNfUEhZX0NG
RworfTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBzYW1zdW5nX3Vmc19waHlfY2ZnIGV4eW5vczdf
cG9zdF9pbml0X2NmZ1tdID0geworCUVORF9VRlNfUEhZX0NGRworfTsKKworLyogQ2FsaWJyYXRp
b24gZm9yIEhTIG1vZGUgc2VyaWVzIEEvQiAqLworc3RhdGljIGNvbnN0IHN0cnVjdCBzYW1zdW5n
X3Vmc19waHlfY2ZnIGV4eW5vczdfcHJlX3B3cl9oc19jZmdbXSA9IHsKKwlQSFlfQ09NTl9SRUdf
Q0ZHKDB4MDBmLCAweGZhLCBQV1JfTU9ERV9IU19BTlkpLAorCVBIWV9DT01OX1JFR19DRkcoMHgw
MTAsIDB4ODIsIFBXUl9NT0RFX0hTX0FOWSksCisJUEhZX0NPTU5fUkVHX0NGRygweDAxMSwgMHgx
ZSwgUFdSX01PREVfSFNfQU5ZKSwKKwkvKiBTZXR0aW5nIG9yZGVyOiAxc3QoMHgxNiwgMm5kKDB4
MTUpICovCisJUEhZX0NPTU5fUkVHX0NGRygweDAxNiwgMHhmZiwgUFdSX01PREVfSFNfQU5ZKSwK
KwlQSFlfQ09NTl9SRUdfQ0ZHKDB4MDE1LCAweDgwLCBQV1JfTU9ERV9IU19BTlkpLAorCVBIWV9D
T01OX1JFR19DRkcoMHgwMTcsIDB4OTQsIFBXUl9NT0RFX0hTX0FOWSksCisJUEhZX1RSU1ZfUkVH
X0NGRygweDAzNiwgMHgzMiwgUFdSX01PREVfSFNfQU5ZKSwKKwlQSFlfVFJTVl9SRUdfQ0ZHKDB4
MDM3LCAweDQzLCBQV1JfTU9ERV9IU19BTlkpLAorCVBIWV9UUlNWX1JFR19DRkcoMHgwMzgsIDB4
M2YsIFBXUl9NT0RFX0hTX0FOWSksCisJUEhZX1RSU1ZfUkVHX0NGRygweDA0MiwgMHg4OCwgUFdS
X01PREVfSFNfRzJfU0VSX0EpLAorCVBIWV9UUlNWX1JFR19DRkcoMHgwNDIsIDB4YmIsIFBXUl9N
T0RFX0hTX0cyX1NFUl9CKSwKKwlQSFlfVFJTVl9SRUdfQ0ZHKDB4MDQzLCAweGE2LCBQV1JfTU9E
RV9IU19BTlkpLAorCVBIWV9UUlNWX1JFR19DRkcoMHgwNDgsIDB4NzQsIFBXUl9NT0RFX0hTX0FO
WSksCisJUEhZX1RSU1ZfUkVHX0NGRygweDAzNCwgMHgzNSwgUFdSX01PREVfSFNfRzJfU0VSX0Ep
LAorCVBIWV9UUlNWX1JFR19DRkcoMHgwMzQsIDB4MzYsIFBXUl9NT0RFX0hTX0cyX1NFUl9CKSwK
KwlQSFlfVFJTVl9SRUdfQ0ZHKDB4MDM1LCAweDViLCBQV1JfTU9ERV9IU19HMl9TRVJfQSksCisJ
UEhZX1RSU1ZfUkVHX0NGRygweDAzNSwgMHg1YywgUFdSX01PREVfSFNfRzJfU0VSX0IpLAorCUVO
RF9VRlNfUEhZX0NGRworfTsKKworLyogQ2FsaWJyYXRpb24gZm9yIEhTIG1vZGUgc2VyaWVzIEEv
QiBhdGZlciBQTUMgKi8KK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgc2Ftc3VuZ191ZnNfcGh5X2NmZyBl
eHlub3M3X3Bvc3RfcHdyX2hzX2NmZ1tdID0geworCVBIWV9DT01OX1JFR19DRkcoMHgwMTUsIDB4
MDAsIFBXUl9NT0RFX0hTX0FOWSksCisJUEhZX1RSU1ZfUkVHX0NGRygweDA0ZCwgMHg4MywgUFdS
X01PREVfSFNfQU5ZKSwKKwlFTkRfVUZTX1BIWV9DRkcKK307CisKK3N0YXRpYyBjb25zdCBzdHJ1
Y3Qgc2Ftc3VuZ191ZnNfcGh5X2NmZyAqZXh5bm9zN191ZnNfcGh5X2NmZ3NbQ0ZHX1RBR19NQVhd
ID0geworCVtDRkdfUFJFX0lOSVRdCQk9IGV4eW5vczdfcHJlX2luaXRfY2ZnLAorCVtDRkdfUE9T
VF9JTklUXQkJPSBleHlub3M3X3Bvc3RfaW5pdF9jZmcsCisJW0NGR19QUkVfUFdSX0hTXQk9IGV4
eW5vczdfcHJlX3B3cl9oc19jZmcsCisJW0NGR19QT1NUX1BXUl9IU10JPSBleHlub3M3X3Bvc3Rf
cHdyX2hzX2NmZywKK307CisKK3N0YXRpYyBzdHJ1Y3Qgc2Ftc3VuZ191ZnNfcGh5X2RydmRhdGEg
ZXh5bm9zN191ZnNfcGh5ID0geworCS5jZmcgPSBleHlub3M3X3Vmc19waHlfY2ZncywKKwkuaXNv
bCA9IHsKKwkJLm9mZnNldCA9IEVYWU5PUzdfRU1CRURERURfQ09NQk9fUEhZX0NUUkwsCisJCS5t
YXNrID0gRVhZTk9TN19FTUJFRERFRF9DT01CT19QSFlfQ1RSTF9NQVNLLAorCQkuZW4gPSBFWFlO
T1M3X0VNQkVEREVEX0NPTUJPX1BIWV9DVFJMX0VOLAorCX0sCit9OworCisjZW5kaWYgLyogX1BI
WV9FWFlOT1M3X1VGU19IXyAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9waHkvc2Ftc3VuZy9waHkt
c2Ftc3VuZy11ZnMuYyBiL2RyaXZlcnMvcGh5L3NhbXN1bmcvcGh5LXNhbXN1bmctdWZzLmMKbmV3
IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi40YzgzMzRiYmEzZTkKLS0tIC9k
ZXYvbnVsbAorKysgYi9kcml2ZXJzL3BoeS9zYW1zdW5nL3BoeS1zYW1zdW5nLXVmcy5jCkBAIC0w
LDAgKzEsMzY5IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5Cisv
KgorICogVUZTIFBIWSBkcml2ZXIgZm9yIFNhbXN1bmcgU29DCisgKgorICogQ29weXJpZ2h0IChD
KSAyMDE1IFNhbXN1bmcgRWxlY3Ryb25pY3MgQ28uLCBMdGQuCisgKiBBdXRob3I6IFNldW5nd29u
IEplb24gPGVzc3V1akBnbWFpbC5jb20+CisgKiBBdXRob3I6IEFsaW0gQWtodGFyIDxhbGltLmFr
aHRhckBzYW1zdW5nLmNvbT4KKyAqCisgKi8KKyNpbmNsdWRlIDxsaW51eC9jbGsuaD4KKyNpbmNs
dWRlIDxsaW51eC9kZWxheS5oPgorI2luY2x1ZGUgPGxpbnV4L2Vyci5oPgorI2luY2x1ZGUgPGxp
bnV4L29mLmg+CisjaW5jbHVkZSA8bGludXgvaW8uaD4KKyNpbmNsdWRlIDxsaW51eC9pb3BvbGwu
aD4KKyNpbmNsdWRlIDxsaW51eC9tZmQvc3lzY29uLmg+CisjaW5jbHVkZSA8bGludXgvbW9kdWxl
Lmg+CisjaW5jbHVkZSA8bGludXgvcGh5L3BoeS5oPgorI2luY2x1ZGUgPGxpbnV4L3BsYXRmb3Jt
X2RldmljZS5oPgorI2luY2x1ZGUgPGxpbnV4L3JlZ21hcC5oPgorCisjaW5jbHVkZSAicGh5LXNh
bXN1bmctdWZzLmgiCisKKyNkZWZpbmUgZm9yX2VhY2hfcGh5X2xhbmUocGh5LCBpKSBcCisJZm9y
IChpID0gMDsgaSA8IChwaHkpLT5sYW5lX2NudDsgaSsrKQorI2RlZmluZSBmb3JfZWFjaF9waHlf
Y2ZnKGNmZykgXAorCWZvciAoOyAoY2ZnKS0+aWQ7IChjZmcpKyspCisKKyNkZWZpbmUgUEhZX0RF
Rl9MQU5FX0NOVAkxCisKK3N0YXRpYyB2b2lkIHNhbXN1bmdfdWZzX3BoeV9jb25maWcoc3RydWN0
IHNhbXN1bmdfdWZzX3BoeSAqcGh5LAorCQkJY29uc3Qgc3RydWN0IHNhbXN1bmdfdWZzX3BoeV9j
ZmcgKmNmZywgdTggbGFuZSkKK3sKKwllbnVtIHtMQU5FXzAsIExBTkVfMX07IC8qIGxhbmUgaW5k
ZXggKi8KKworCXN3aXRjaCAobGFuZSkgeworCWNhc2UgTEFORV8wOgorCQl3cml0ZWwoY2ZnLT52
YWwsIChwaHkpLT5yZWdfcG1hICsgY2ZnLT5vZmZfMCk7CisJCWJyZWFrOworCWNhc2UgTEFORV8x
OgorCQlpZiAoY2ZnLT5pZCA9PSBQSFlfVFJTVl9CTEspCisJCQl3cml0ZWwoY2ZnLT52YWwsIChw
aHkpLT5yZWdfcG1hICsgY2ZnLT5vZmZfMSk7CisJCWJyZWFrOworCX0KK30KKworaW50IHNhbXN1
bmdfdWZzX3BoeV93YWl0X2Zvcl9sb2NrX2FjcShzdHJ1Y3QgcGh5ICpwaHkpCit7CisJc3RydWN0
IHNhbXN1bmdfdWZzX3BoeSAqdWZzX3BoeSA9IGdldF9zYW1zdW5nX3Vmc19waHkocGh5KTsKKwlj
b25zdCB1bnNpZ25lZCBpbnQgdGltZW91dF91cyA9IDEwMDAwMDsKKwljb25zdCB1bnNpZ25lZCBp
bnQgc2xlZXBfdXMgPSAxMDsKKwl1MzIgdmFsOworCWludCBlcnI7CisKKwllcnIgPSByZWFkbF9w
b2xsX3RpbWVvdXQoCisJCQl1ZnNfcGh5LT5yZWdfcG1hICsgUEhZX0FQQl9BRERSKFBIWV9QTExf
TE9DS19TVEFUVVMpLAorCQkJdmFsLCAodmFsICYgUEhZX1BMTF9MT0NLX0JJVCksIHNsZWVwX3Vz
LCB0aW1lb3V0X3VzKTsKKwlpZiAoZXJyKSB7CisJCWRldl9lcnIodWZzX3BoeS0+ZGV2LAorCQkJ
ImZhaWxlZCB0byBnZXQgcGh5IHBsbCBsb2NrIGFjcXVpc2l0aW9uICVkXG4iLCBlcnIpOworCQln
b3RvIG91dDsKKwl9CisKKwllcnIgPSByZWFkbF9wb2xsX3RpbWVvdXQoCisJCQl1ZnNfcGh5LT5y
ZWdfcG1hICsgUEhZX0FQQl9BRERSKFBIWV9DRFJfTE9DS19TVEFUVVMpLAorCQkJdmFsLCAodmFs
ICYgUEhZX0NEUl9MT0NLX0JJVCksIHNsZWVwX3VzLCB0aW1lb3V0X3VzKTsKKwlpZiAoZXJyKSB7
CisJCWRldl9lcnIodWZzX3BoeS0+ZGV2LAorCQkJImZhaWxlZCB0byBnZXQgcGh5IGNkciBsb2Nr
IGFjcXVpc2l0aW9uICVkXG4iLCBlcnIpOworCQlnb3RvIG91dDsKKwl9CisKK291dDoKKwlyZXR1
cm4gZXJyOworfQorCitpbnQgc2Ftc3VuZ191ZnNfcGh5X2NhbGlicmF0ZShzdHJ1Y3QgcGh5ICpw
aHkpCit7CisJc3RydWN0IHNhbXN1bmdfdWZzX3BoeSAqdWZzX3BoeSA9IGdldF9zYW1zdW5nX3Vm
c19waHkocGh5KTsKKwlzdHJ1Y3Qgc2Ftc3VuZ191ZnNfcGh5X2NmZyAqKmNmZ3MgPSB1ZnNfcGh5
LT5jZmc7CisJY29uc3Qgc3RydWN0IHNhbXN1bmdfdWZzX3BoeV9jZmcgKmNmZzsKKwlpbnQgaTsK
KwlpbnQgZXJyID0gMDsKKworCWlmICh1bmxpa2VseSh1ZnNfcGh5LT51ZnNfcGh5X3N0YXRlIDwg
Q0ZHX1BSRV9JTklUIHx8CisJCSAgICAgdWZzX3BoeS0+dWZzX3BoeV9zdGF0ZSA+PSBDRkdfVEFH
X01BWCkpIHsKKwkJZGV2X2Vycih1ZnNfcGh5LT5kZXYsICJpbnZhbGlkIHBoeSBjb25maWcgaW5k
ZXggJWRcbiIsCisJCQkJCQkJdWZzX3BoeS0+dWZzX3BoeV9zdGF0ZSk7CisJCXJldHVybiAtRUlO
VkFMOworCX0KKworCWlmICh1ZnNfcGh5LT5pc19wcmVfaW5pdCkKKwkJdWZzX3BoeS0+aXNfcHJl
X2luaXQgPSBmYWxzZTsKKwlpZiAodWZzX3BoeS0+aXNfcG9zdF9pbml0KSB7CisJCXVmc19waHkt
PmlzX3Bvc3RfaW5pdCA9IGZhbHNlOworCQl1ZnNfcGh5LT51ZnNfcGh5X3N0YXRlID0gQ0ZHX1BP
U1RfSU5JVDsKKwl9CisJaWYgKHVmc19waHktPmlzX3ByZV9wbWMpIHsKKwkJdWZzX3BoeS0+aXNf
cHJlX3BtYyA9IGZhbHNlOworCQl1ZnNfcGh5LT51ZnNfcGh5X3N0YXRlID0gQ0ZHX1BSRV9QV1Jf
SFM7CisJfQorCWlmICh1ZnNfcGh5LT5pc19wb3N0X3BtYykgeworCQl1ZnNfcGh5LT5pc19wb3N0
X3BtYyA9IGZhbHNlOworCQl1ZnNfcGh5LT51ZnNfcGh5X3N0YXRlID0gQ0ZHX1BPU1RfUFdSX0hT
OworCX0KKworCXN3aXRjaCAodWZzX3BoeS0+dWZzX3BoeV9zdGF0ZSkgeworCWNhc2UgQ0ZHX1BS
RV9JTklUOgorCQl1ZnNfcGh5LT5pc19wb3N0X2luaXQgPSB0cnVlOworCQlicmVhazsKKwljYXNl
IENGR19QT1NUX0lOSVQ6CisJCXVmc19waHktPmlzX3ByZV9wbWMgPSB0cnVlOworCQlicmVhazsK
KwljYXNlIENGR19QUkVfUFdSX0hTOgorCQl1ZnNfcGh5LT5pc19wb3N0X3BtYyA9IHRydWU7CisJ
CWJyZWFrOworCWNhc2UgQ0ZHX1BPU1RfUFdSX0hTOgorCQlicmVhazsKKwlkZWZhdWx0OgorCQlk
ZXZfZXJyKHVmc19waHktPmRldiwgIndyb25nIHN0YXRlIGZvciBwaHkgY2FsaWJyYXRpb25cbiIp
OworCX0KKworCWNmZyA9IGNmZ3NbdWZzX3BoeS0+dWZzX3BoeV9zdGF0ZV07CisJaWYgKCFjZmcp
CisJCWdvdG8gb3V0OworCisJZm9yX2VhY2hfcGh5X2NmZyhjZmcpIHsKKwkJZm9yX2VhY2hfcGh5
X2xhbmUodWZzX3BoeSwgaSkgeworCQkJc2Ftc3VuZ191ZnNfcGh5X2NvbmZpZyh1ZnNfcGh5LCBj
ZmcsIGkpOworCQl9CisJfQorCisJaWYgKHVmc19waHktPnVmc19waHlfc3RhdGUgPT0gQ0ZHX1BP
U1RfUFdSX0hTKQorCQllcnIgPSBzYW1zdW5nX3Vmc19waHlfd2FpdF9mb3JfbG9ja19hY3EocGh5
KTsKK291dDoKKwlyZXR1cm4gZXJyOworfQorCitzdGF0aWMgaW50IHNhbXN1bmdfdWZzX3BoeV9z
eW1ib2xfY2xrX2luaXQoc3RydWN0IHNhbXN1bmdfdWZzX3BoeSAqcGh5KQoreworCXN0cnVjdCBj
bGsgKmNsazsKKwlpbnQgcmV0ID0gMDsKKworCWNsayA9IGRldm1fY2xrX2dldChwaHktPmRldiwg
InR4MF9zeW1ib2xfY2xrIik7CisJaWYgKElTX0VSUihjbGspKSB7CisJCWRldl9lcnIocGh5LT5k
ZXYsICJmYWlsZWQgdG8gZ2V0IHR4MF9zeW1ib2xfY2xrIGNsb2NrXG4iKTsKKwkJZ290byBvdXQ7
CisJfSBlbHNlIHsKKwkJcGh5LT50eDBfc3ltYm9sX2NsayA9IGNsazsKKwl9CisKKwljbGsgPSBk
ZXZtX2Nsa19nZXQocGh5LT5kZXYsICJyeDBfc3ltYm9sX2NsayIpOworCWlmIChJU19FUlIoY2xr
KSkgeworCQlkZXZfZXJyKHBoeS0+ZGV2LCAiZmFpbGVkIHRvIGdldCByeDBfc3ltYm9sX2NsayBj
bG9ja1xuIik7CisJCWdvdG8gb3V0OworCX0gZWxzZSB7CisJCXBoeS0+cngwX3N5bWJvbF9jbGsg
PSBjbGs7CisJfQorCisJY2xrID0gZGV2bV9jbGtfZ2V0KHBoeS0+ZGV2LCAicngxX3N5bWJvbF9j
bGsiKTsKKwlpZiAoSVNfRVJSKGNsaykpIHsKKwkJZGV2X2VycihwaHktPmRldiwgImZhaWxlZCB0
byBnZXQgcngxX3N5bWJvbF9jbGsgY2xvY2tcbiIpOworCQlnb3RvIG91dDsKKwl9IGVsc2Ugewor
CQlwaHktPnJ4MV9zeW1ib2xfY2xrID0gY2xrOworCX0KKworCXJldCA9IGNsa19wcmVwYXJlX2Vu
YWJsZShwaHktPnR4MF9zeW1ib2xfY2xrKTsKKwlpZiAocmV0KSB7CisJCWRldl9lcnIocGh5LT5k
ZXYsICIlczogdHgwX3N5bWJvbF9jbGsgZW5hYmxlIGZhaWxlZCAlZFxuIiwKKwkJCQlfX2Z1bmNf
XywgcmV0KTsKKwkJZ290byBvdXQ7CisJfQorCXJldCA9IGNsa19wcmVwYXJlX2VuYWJsZShwaHkt
PnJ4MF9zeW1ib2xfY2xrKTsKKwlpZiAocmV0KSB7CisJCWRldl9lcnIocGh5LT5kZXYsICIlczog
cngwX3N5bWJvbF9jbGsgZW5hYmxlIGZhaWxlZCAlZFxuIiwKKwkJCQlfX2Z1bmNfXywgcmV0KTsK
KwkJZ290byBvdXQ7CisJfQorCXJldCA9IGNsa19wcmVwYXJlX2VuYWJsZShwaHktPnJ4MV9zeW1i
b2xfY2xrKTsKKwlpZiAocmV0KSB7CisJCWRldl9lcnIocGh5LT5kZXYsICIlczogcngxX3N5bWJv
bF9jbGsgZW5hYmxlIGZhaWxlZCAlZFxuIiwKKwkJCQlfX2Z1bmNfXywgcmV0KTsKKwkJZ290byBv
dXQ7CisJfQorb3V0OgorCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgc2Ftc3VuZ191ZnNf
cGh5X2Nsa3NfaW5pdChzdHJ1Y3Qgc2Ftc3VuZ191ZnNfcGh5ICpwaHkpCit7CisJc3RydWN0IGNs
ayAqcGh5X3JlZl9jbGs7CisJaW50IHJldDsKKworCXBoeV9yZWZfY2xrID0gZGV2bV9jbGtfZ2V0
KHBoeS0+ZGV2LCAicmVmX2NsayIpOworCWlmIChJU19FUlIocGh5X3JlZl9jbGspKQorCQlkZXZf
ZXJyKHBoeS0+ZGV2LCAiZmFpbGVkIHRvIGdldCByZWZfY2xrIGNsb2NrXG4iKTsKKwllbHNlCisJ
CXBoeS0+cmVmX2NsayA9IHBoeV9yZWZfY2xrOworCisJcmV0ID0gY2xrX3ByZXBhcmVfZW5hYmxl
KHBoeS0+cmVmX2Nsayk7CisJaWYgKHJldCkgeworCQlkZXZfZXJyKHBoeS0+ZGV2LCAiJXM6IHJl
Zl9jbGsgZW5hYmxlIGZhaWxlZCAlZFxuIiwKKwkJCQlfX2Z1bmNfXywgcmV0KTsKKwkJcmV0dXJu
IHJldDsKKwl9CisKKwlkZXZfaW5mbyhwaHktPmRldiwgIlVGUyBNUEhZIHJlZl9jbGtfcmF0ZSA9
ICVsZFxuIiwgY2xrX2dldF9yYXRlKHBoeV9yZWZfY2xrKSk7CisKKwlyZXR1cm4gMDsKK30KKwor
c3RhdGljIGludCBzYW1zdW5nX3Vmc19waHlfaW5pdChzdHJ1Y3QgcGh5ICpwaHkpCit7CisJc3Ry
dWN0IHNhbXN1bmdfdWZzX3BoeSAqX3BoeSA9IGdldF9zYW1zdW5nX3Vmc19waHkocGh5KTsKKwlp
bnQgcmV0OworCisJX3BoeS0+bGFuZV9jbnQgPSBwaHktPmF0dHJzLmJ1c193aWR0aDsKKwlfcGh5
LT51ZnNfcGh5X3N0YXRlID0gQ0ZHX1BSRV9JTklUOworCisJX3BoeS0+aXNfcHJlX2luaXQgPSB0
cnVlOworCV9waHktPmlzX3Bvc3RfaW5pdCA9IGZhbHNlOworCV9waHktPmlzX3ByZV9wbWMgPSBm
YWxzZTsKKwlfcGh5LT5pc19wb3N0X3BtYyA9IGZhbHNlOworCisKKwlpZiAob2ZfZGV2aWNlX2lz
X2NvbXBhdGlibGUoX3BoeS0+ZGV2LT5vZl9ub2RlLAorCQkJCSJzYW1zdW5nLGV4eW5vczctdWZz
LXBoeSIpKSB7CisJCXJldCA9IHNhbXN1bmdfdWZzX3BoeV9zeW1ib2xfY2xrX2luaXQoX3BoeSk7
CisJCWlmIChyZXQpCisJCQlkZXZfZXJyKF9waHktPmRldiwKKwkJCQkiZmFpbGVkIHRvIHNldCB1
ZnMgcGh5IHN5bWJvbCBjbG9ja3NcbiIpOworCX0KKworCXJldCA9IHNhbXN1bmdfdWZzX3BoeV9j
bGtzX2luaXQoX3BoeSk7CisJaWYgKHJldCkKKwkJZGV2X2VycihfcGh5LT5kZXYsICJmYWlsZWQg
dG8gc2V0IHVmcyBwaHkgIGNsb2Nrc1xuIik7CisKKwlzYW1zdW5nX3Vmc19waHlfY2FsaWJyYXRl
KHBoeSk7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBzYW1zdW5nX3Vmc19waHlfcG93
ZXJfb24oc3RydWN0IHBoeSAqcGh5KQoreworCXN0cnVjdCBzYW1zdW5nX3Vmc19waHkgKl9waHkg
PSBnZXRfc2Ftc3VuZ191ZnNfcGh5KHBoeSk7CisKKwlzYW1zdW5nX3Vmc19waHlfY3RybF9pc29s
KF9waHksIGZhbHNlKTsKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBzYW1zdW5nX3Vmc19w
aHlfcG93ZXJfb2ZmKHN0cnVjdCBwaHkgKnBoeSkKK3sKKwlzdHJ1Y3Qgc2Ftc3VuZ191ZnNfcGh5
ICpfcGh5ID0gZ2V0X3NhbXN1bmdfdWZzX3BoeShwaHkpOworCisJc2Ftc3VuZ191ZnNfcGh5X2N0
cmxfaXNvbChfcGh5LCB0cnVlKTsKKwljbGtfZGlzYWJsZV91bnByZXBhcmUoX3BoeS0+cmVmX2Ns
ayk7CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgc2Ftc3VuZ191ZnNfcGh5X3NldF9tb2Rl
KHN0cnVjdCBwaHkgKmdlbmVyaWNfcGh5LAorCQkJCQllbnVtIHBoeV9tb2RlIG1vZGUsIGludCBz
dWJtb2RlKQoreworCXN0cnVjdCBzYW1zdW5nX3Vmc19waHkgKl9waHkgPSBnZXRfc2Ftc3VuZ191
ZnNfcGh5KGdlbmVyaWNfcGh5KTsKKworCV9waHktPm1vZGUgPSBQSFlfTU9ERV9JTlZBTElEOwor
CisJaWYgKG1vZGUgPiAwKQorCQlfcGh5LT5tb2RlID0gbW9kZTsKKworCXJldHVybiAwOworfQor
CitzdGF0aWMgc3RydWN0IHBoeV9vcHMgc2Ftc3VuZ191ZnNfcGh5X29wcyA9IHsKKwkuaW5pdAkJ
PSBzYW1zdW5nX3Vmc19waHlfaW5pdCwKKwkucG93ZXJfb24JPSBzYW1zdW5nX3Vmc19waHlfcG93
ZXJfb24sCisJLnBvd2VyX29mZgk9IHNhbXN1bmdfdWZzX3BoeV9wb3dlcl9vZmYsCisJLmNhbGli
cmF0ZQk9IHNhbXN1bmdfdWZzX3BoeV9jYWxpYnJhdGUsCisJLnNldF9tb2RlCT0gc2Ftc3VuZ191
ZnNfcGh5X3NldF9tb2RlLAorfQorOworc3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQg
c2Ftc3VuZ191ZnNfcGh5X21hdGNoW107CisKK3N0YXRpYyBpbnQgc2Ftc3VuZ191ZnNfcGh5X3By
b2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCit7CisJc3RydWN0IGRldmljZSAqZGV2
ID0gJnBkZXYtPmRldjsKKwlzdHJ1Y3QgcmVzb3VyY2UgKnJlczsKKwljb25zdCBzdHJ1Y3Qgb2Zf
ZGV2aWNlX2lkICptYXRjaDsKKwlzdHJ1Y3Qgc2Ftc3VuZ191ZnNfcGh5ICpwaHk7CisJc3RydWN0
IHBoeSAqZ2VuX3BoeTsKKwlzdHJ1Y3QgcGh5X3Byb3ZpZGVyICpwaHlfcHJvdmlkZXI7CisJY29u
c3Qgc3RydWN0IHNhbXN1bmdfdWZzX3BoeV9kcnZkYXRhICpkcnZkYXRhOworCWludCBlcnIgPSAw
OworCisJbWF0Y2ggPSBvZl9tYXRjaF9ub2RlKHNhbXN1bmdfdWZzX3BoeV9tYXRjaCwgZGV2LT5v
Zl9ub2RlKTsKKwlpZiAoIW1hdGNoKSB7CisJCWVyciA9IC1FSU5WQUw7CisJCWRldl9lcnIoZGV2
LCAiZmFpbGVkIHRvIGdldCBtYXRjaF9ub2RlXG4iKTsKKwkJZ290byBvdXQ7CisJfQorCisJcGh5
ID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCpwaHkpLCBHRlBfS0VSTkVMKTsKKwlpZiAoIXBo
eSkgeworCQllcnIgPSAtRU5PTUVNOworCQlnb3RvIG91dDsKKwl9CisKKwlyZXMgPSBwbGF0Zm9y
bV9nZXRfcmVzb3VyY2VfYnluYW1lKHBkZXYsIElPUkVTT1VSQ0VfTUVNLCAicGh5LXBtYSIpOwor
CXBoeS0+cmVnX3BtYSA9IGRldm1faW9yZW1hcF9yZXNvdXJjZShkZXYsIHJlcyk7CisJaWYgKElT
X0VSUihwaHktPnJlZ19wbWEpKSB7CisJCWVyciA9IFBUUl9FUlIocGh5LT5yZWdfcG1hKTsKKwkJ
Z290byBvdXQ7CisJfQorCisJcGh5LT5yZWdfcG11ID0gc3lzY29uX3JlZ21hcF9sb29rdXBfYnlf
cGhhbmRsZSgKKwkJCQlkZXYtPm9mX25vZGUsICJzYW1zdW5nLHBtdS1zeXNjb24iKTsKKwlpZiAo
SVNfRVJSKHBoeS0+cmVnX3BtdSkpIHsKKwkJZXJyID0gUFRSX0VSUihwaHktPnJlZ19wbXUpOwor
CQlkZXZfZXJyKGRldiwgImZhaWxlZCBzeXNjb24gcmVtYXAgZm9yIHBtdVxuIik7CisJCWdvdG8g
b3V0OworCX0KKworCWdlbl9waHkgPSBkZXZtX3BoeV9jcmVhdGUoZGV2LCBOVUxMLCAmc2Ftc3Vu
Z191ZnNfcGh5X29wcyk7CisJaWYgKElTX0VSUihnZW5fcGh5KSkgeworCQllcnIgPSBQVFJfRVJS
KGdlbl9waHkpOworCQlkZXZfZXJyKGRldiwgImZhaWxlZCB0byBjcmVhdGUgUEhZIGZvciB1ZnMt
cGh5XG4iKTsKKwkJZ290byBvdXQ7CisJfQorCisJZHJ2ZGF0YSA9IG1hdGNoLT5kYXRhOworCXBo
eS0+ZGV2ID0gZGV2OworCXBoeS0+ZHJ2ZGF0YSA9IGRydmRhdGE7CisJcGh5LT5jZmcgPSAoc3Ry
dWN0IHNhbXN1bmdfdWZzX3BoeV9jZmcgKiopZHJ2ZGF0YS0+Y2ZnOworCXBoeS0+aXNvbCA9ICZk
cnZkYXRhLT5pc29sOworCXBoeS0+bGFuZV9jbnQgPSBQSFlfREVGX0xBTkVfQ05UOworCisJcGh5
X3NldF9kcnZkYXRhKGdlbl9waHksIHBoeSk7CisKKwlwaHlfcHJvdmlkZXIgPSBkZXZtX29mX3Bo
eV9wcm92aWRlcl9yZWdpc3RlcihkZXYsIG9mX3BoeV9zaW1wbGVfeGxhdGUpOworCWlmIChJU19F
UlIocGh5X3Byb3ZpZGVyKSkgeworCQllcnIgPSBQVFJfRVJSKHBoeV9wcm92aWRlcik7CisJCWRl
dl9lcnIoZGV2LCAiZmFpbGVkIHRvIHJlZ2lzdGVyIHBoeS1wcm92aWRlclxuIik7CisJCWdvdG8g
b3V0OworCX0KK291dDoKKwlyZXR1cm4gZXJyOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IG9m
X2RldmljZV9pZCBzYW1zdW5nX3Vmc19waHlfbWF0Y2hbXSA9IHsKKwl7CisJCS5jb21wYXRpYmxl
ID0gInNhbXN1bmcsZXh5bm9zNy11ZnMtcGh5IiwKKwkJLmRhdGEgPSAmZXh5bm9zN191ZnNfcGh5
LAorCX0sCisJe30sCit9OworTU9EVUxFX0RFVklDRV9UQUJMRShvZiwgc2Ftc3VuZ191ZnNfcGh5
X21hdGNoKTsKKworc3RhdGljIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgc2Ftc3VuZ191ZnNfcGh5
X2RyaXZlciA9IHsKKwkucHJvYmUgID0gc2Ftc3VuZ191ZnNfcGh5X3Byb2JlLAorCS5kcml2ZXIg
PSB7CisJCS5uYW1lID0gInNhbXN1bmctdWZzLXBoeSIsCisJCS5vZl9tYXRjaF90YWJsZSA9IHNh
bXN1bmdfdWZzX3BoeV9tYXRjaCwKKwl9LAorfTsKK21vZHVsZV9wbGF0Zm9ybV9kcml2ZXIoc2Ft
c3VuZ191ZnNfcGh5X2RyaXZlcik7CitNT0RVTEVfREVTQ1JJUFRJT04oIlNhbXN1bmcgU29DIFVG
UyBQSFkgRHJpdmVyIik7CitNT0RVTEVfQVVUSE9SKCJTZXVuZ3dvbiBKZW9uIDxlc3N1dWpAZ21h
aWwuY29tPiIpOworTU9EVUxFX0FVVEhPUigiQWxpbSBBa2h0YXIgPGFsaW0uYWtodGFyQHNhbXN1
bmcuY29tPiIpOworTU9EVUxFX0xJQ0VOU0UoIkdQTCB2MiIpOwpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9waHkvc2Ftc3VuZy9waHktc2Ftc3VuZy11ZnMuaCBiL2RyaXZlcnMvcGh5L3NhbXN1bmcvcGh5
LXNhbXN1bmctdWZzLmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi4y
N2RjMWI1NzM0NjkKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL3BoeS9zYW1zdW5nL3BoeS1z
YW1zdW5nLXVmcy5oCkBAIC0wLDAgKzEsMTQyIEBACisvKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmll
cjogR1BMLTIuMC1vbmx5ICovCisvKgorICogVUZTIFBIWSBkcml2ZXIgZm9yIFNhbXN1bmcgRVhZ
Tk9TIFNvQworICoKKyAqIENvcHlyaWdodCAoQykgMjAxNSBTYW1zdW5nIEVsZWN0cm9uaWNzIENv
LiwgTHRkLgorICogQXV0aG9yOiBTZXVuZ3dvbiBKZW9uIDxlc3N1dWpAZ21haWwuY29tPgorICog
QXV0aG9yOiBBbGltIEFraHRhciA8YWxpbS5ha2h0YXJAc2Ftc3VuZy5jb20+CisgKgorICovCisj
aWZuZGVmIF9QSFlfU0FNU1VOR19VRlNfCisjZGVmaW5lIF9QSFlfU0FNU1VOR19VRlNfCisKKyNk
ZWZpbmUgUEhZX0NPTU5fQkxLCTEKKyNkZWZpbmUgUEhZX1RSU1ZfQkxLCTIKKyNkZWZpbmUgRU5E
X1VGU19QSFlfQ0ZHIHsgMCB9CisjZGVmaW5lIFBIWV9UUlNWX0NIX09GRlNFVAkweDMwCisjZGVm
aW5lIFBIWV9BUEJfQUREUihvZmYpCSgob2ZmKSA8PCAyKQorCisjZGVmaW5lIFBIWV9DT01OX1JF
R19DRkcobywgdiwgZCkgewlcCisJLm9mZl8wID0gUEhZX0FQQl9BRERSKChvKSksCVwKKwkub2Zm
XzEgPSAwLAkJXAorCS52YWwgPSAodiksCQlcCisJLmRlc2MgPSAoZCksCQlcCisJLmlkID0gUEhZ
X0NPTU5fQkxLLAlcCit9CisKKyNkZWZpbmUgUEhZX1RSU1ZfUkVHX0NGRyhvLCB2LCBkKSB7CVwK
Kwkub2ZmXzAgPSBQSFlfQVBCX0FERFIoKG8pKSwJXAorCS5vZmZfMSA9IFBIWV9BUEJfQUREUigo
bykgKyBQSFlfVFJTVl9DSF9PRkZTRVQpLAlcCisJLnZhbCA9ICh2KSwJCVwKKwkuZGVzYyA9IChk
KSwJCVwKKwkuaWQgPSBQSFlfVFJTVl9CTEssCVwKK30KKworLyogVUZTIFBIWSByZWdpc3RlcnMg
Ki8KKyNkZWZpbmUgUEhZX1BMTF9MT0NLX1NUQVRVUwkweDFlCisjZGVmaW5lIFBIWV9DRFJfTE9D
S19TVEFUVVMJMHg1ZQorCisjZGVmaW5lIFBIWV9QTExfTE9DS19CSVQJQklUKDUpCisjZGVmaW5l
IFBIWV9DRFJfTE9DS19CSVQJQklUKDQpCisKKy8qIGRlc2NyaXB0aW9uIGZvciBQSFkgY2FsaWJy
YXRpb24gKi8KK2VudW0geworCS8qIGFwcGxpY2FibGUgdG8gYW55ICovCisJUFdSX0RFU0NfQU5Z
CT0gMCwKKwkvKiBtb2RlICovCisJUFdSX0RFU0NfUFdNCT0gMSwKKwlQV1JfREVTQ19IUwk9IDIs
CisJLyogc2VyaWVzICovCisJUFdSX0RFU0NfU0VSX0EJPSAxLAorCVBXUl9ERVNDX1NFUl9CCT0g
MiwKKwkvKiBnZWFyICovCisJUFdSX0RFU0NfRzEJPSAxLAorCVBXUl9ERVNDX0cyCT0gMiwKKwlQ
V1JfREVTQ19HMwk9IDMsCisJLyogZmllbGQgbWFzayAqLworCU1EX01BU0sJCT0gMHgzLAorCVNS
X01BU0sJCT0gMHgzLAorCUdSX01BU0sJCT0gMHg3LAorfTsKKworI2RlZmluZSBQV1JfTU9ERV9I
U19HMV9BTlkJUFdSX01PREVfSFMoUFdSX0RFU0NfRzEsIFBXUl9ERVNDX0FOWSkKKyNkZWZpbmUg
UFdSX01PREVfSFNfRzFfU0VSX0EJUFdSX01PREVfSFMoUFdSX0RFU0NfRzEsIFBXUl9ERVNDX1NF
Ul9BKQorI2RlZmluZSBQV1JfTU9ERV9IU19HMV9TRVJfQglQV1JfTU9ERV9IUyhQV1JfREVTQ19H
MSwgUFdSX0RFU0NfU0VSX0IpCisjZGVmaW5lIFBXUl9NT0RFX0hTX0cyX0FOWQlQV1JfTU9ERV9I
UyhQV1JfREVTQ19HMiwgUFdSX0RFU0NfQU5ZKQorI2RlZmluZSBQV1JfTU9ERV9IU19HMl9TRVJf
QQlQV1JfTU9ERV9IUyhQV1JfREVTQ19HMiwgUFdSX0RFU0NfU0VSX0EpCisjZGVmaW5lIFBXUl9N
T0RFX0hTX0cyX1NFUl9CCVBXUl9NT0RFX0hTKFBXUl9ERVNDX0cyLCBQV1JfREVTQ19TRVJfQikK
KyNkZWZpbmUgUFdSX01PREVfSFNfRzNfQU5ZCVBXUl9NT0RFX0hTKFBXUl9ERVNDX0czLCBQV1Jf
REVTQ19BTlkpCisjZGVmaW5lIFBXUl9NT0RFX0hTX0czX1NFUl9BCVBXUl9NT0RFX0hTKFBXUl9E
RVNDX0czLCBQV1JfREVTQ19TRVJfQSkKKyNkZWZpbmUgUFdSX01PREVfSFNfRzNfU0VSX0IJUFdS
X01PREVfSFMoUFdSX0RFU0NfRzMsIFBXUl9ERVNDX1NFUl9CKQorI2RlZmluZSBQV1JfTU9ERShn
LCBzLCBtKQkoKCgoZykgJiBHUl9NQVNLKSA8PCA0KSB8XAorCQkJCSAoKChzKSAmIFNSX01BU0sp
IDw8IDIpIHwgKChtKSAmIE1EX01BU0spKQorI2RlZmluZSBQV1JfTU9ERV9QV01fQU5ZCVBXUl9N
T0RFKFBXUl9ERVNDX0FOWSxcCisJCQkJCSBQV1JfREVTQ19BTlksIFBXUl9ERVNDX1BXTSkKKyNk
ZWZpbmUgUFdSX01PREVfSFMoZywgcykJKCgoKGcpICYgR1JfTUFTSykgPDwgNCkgfFwKKwkJCQkg
KCgocykgJiBTUl9NQVNLKSA8PCAyKSB8IFBXUl9ERVNDX0hTKQorI2RlZmluZSBQV1JfTU9ERV9I
U19BTlkJCVBXUl9NT0RFKFBXUl9ERVNDX0FOWSxcCisJCQkJCSBQV1JfREVTQ19BTlksIFBXUl9E
RVNDX0hTKQorI2RlZmluZSBQV1JfTU9ERV9BTlkJCVBXUl9NT0RFKFBXUl9ERVNDX0FOWSxcCisJ
CQkJCSBQV1JfREVTQ19BTlksIFBXUl9ERVNDX0FOWSkKKy8qIFBIWSBjYWxpYnJhdGlvbiBwb2lu
dC9zdGF0ZSAqLworZW51bSB7CisJQ0ZHX1BSRV9JTklULAorCUNGR19QT1NUX0lOSVQsCisJQ0ZH
X1BSRV9QV1JfSFMsCisJQ0ZHX1BPU1RfUFdSX0hTLAorCUNGR19UQUdfTUFYLAorfTsKKworc3Ry
dWN0IHNhbXN1bmdfdWZzX3BoeV9jZmcgeworCXUzMiBvZmZfMDsKKwl1MzIgb2ZmXzE7CisJdTMy
IHZhbDsKKwl1OCBkZXNjOworCXU4IGlkOworfTsKKworc3RydWN0IHNhbXN1bmdfdWZzX3BoeV9k
cnZkYXRhIHsKKwljb25zdCBzdHJ1Y3Qgc2Ftc3VuZ191ZnNfcGh5X2NmZyAqKmNmZzsKKwlzdHJ1
Y3QgcG11X2lzb2wgeworCQl1MzIgb2Zmc2V0OworCQl1MzIgbWFzazsKKwkJdTMyIGVuOworCX0g
aXNvbDsKK307CisKK3N0cnVjdCBzYW1zdW5nX3Vmc19waHkgeworCXN0cnVjdCBkZXZpY2UgKmRl
djsKKwl2b2lkIF9faW9tZW0gKnJlZ19wbWE7CisJc3RydWN0IHJlZ21hcCAqcmVnX3BtdTsKKwlz
dHJ1Y3QgY2xrICpyZWZfY2xrOworCXN0cnVjdCBjbGsgKnJlZl9jbGtfcGFyZW50OworCXN0cnVj
dCBjbGsgKnR4MF9zeW1ib2xfY2xrOworCXN0cnVjdCBjbGsgKnJ4MF9zeW1ib2xfY2xrOworCXN0
cnVjdCBjbGsgKnJ4MV9zeW1ib2xfY2xrOworCWNvbnN0IHN0cnVjdCBzYW1zdW5nX3Vmc19waHlf
ZHJ2ZGF0YSAqZHJ2ZGF0YTsKKwlzdHJ1Y3Qgc2Ftc3VuZ191ZnNfcGh5X2NmZyAqKmNmZzsKKwlj
b25zdCBzdHJ1Y3QgcG11X2lzb2wgKmlzb2w7CisJdTggbGFuZV9jbnQ7CisJaW50IHVmc19waHlf
c3RhdGU7CisJZW51bSBwaHlfbW9kZSBtb2RlOworCWJvb2wgaXNfcHJlX2luaXQ7CisJYm9vbCBp
c19wb3N0X2luaXQ7CisJYm9vbCBpc19wcmVfcG1jOworCWJvb2wgaXNfcG9zdF9wbWM7Cit9Owor
CitzdGF0aWMgaW5saW5lIHN0cnVjdCBzYW1zdW5nX3Vmc19waHkgKmdldF9zYW1zdW5nX3Vmc19w
aHkoc3RydWN0IHBoeSAqcGh5KQoreworCXJldHVybiAoc3RydWN0IHNhbXN1bmdfdWZzX3BoeSAq
KXBoeV9nZXRfZHJ2ZGF0YShwaHkpOworfQorCitzdGF0aWMgaW5saW5lIHZvaWQgc2Ftc3VuZ191
ZnNfcGh5X2N0cmxfaXNvbCgKKwkJc3RydWN0IHNhbXN1bmdfdWZzX3BoeSAqcGh5LCB1MzIgaXNv
bCkKK3sKKwlyZWdtYXBfdXBkYXRlX2JpdHMocGh5LT5yZWdfcG11LCBwaHktPmlzb2wtPm9mZnNl
dCwKKwkJCXBoeS0+aXNvbC0+bWFzaywgaXNvbCA/IDAgOiBwaHktPmlzb2wtPmVuKTsKK30KKwor
I2luY2x1ZGUgInBoeS1leHlub3M3LXVmcy5oIgorCisjZW5kaWYgLyogX1BIWV9TQU1TVU5HX1VG
U18gKi8KLS0gCjIuMTcuMQoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCmxpbnV4LWFybS1rZXJuZWwgbWFpbGluZyBsaXN0CmxpbnV4LWFybS1rZXJuZWxA
bGlzdHMuaW5mcmFkZWFkLm9yZwpodHRwOi8vbGlzdHMuaW5mcmFkZWFkLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2xpbnV4LWFybS1rZXJuZWwK
