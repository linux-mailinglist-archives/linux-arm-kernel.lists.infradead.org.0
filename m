Return-Path: <linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org>
X-Original-To: lists+linux-arm-kernel@lfdr.de
Delivered-To: lists+linux-arm-kernel@lfdr.de
Received: from bombadil.infradead.org (bombadil.infradead.org [IPv6:2607:7c80:54:e::133])
	by mail.lfdr.de (Postfix) with ESMTPS id 8FFD61C477F
	for <lists+linux-arm-kernel@lfdr.de>; Mon,  4 May 2020 21:59:54 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.infradead.org; s=bombadil.20170209; h=Sender:
	Content-Transfer-Encoding:Content-Type:Cc:List-Subscribe:List-Help:List-Post:
	List-Archive:List-Unsubscribe:List-Id:To:MIME-Version:Subject:From:References
	:In-Reply-To:Message-Id:Date:Reply-To:Content-ID:Content-Description:
	Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:
	List-Owner; bh=ed2HTkaj7S/IWbKq+8l44BoLE4Zn+zFxWGcTVpINLtc=; b=rreIyl4oE2bBi2
	M8Pjan4rchOqNU09k/n7+AOBUPHbsZ26EO3cuG9Opd5G6fNXXsNMoDpJ9Tx/UwXfxI2uyYcitp4Rh
	qdm9iiHVaGYC1wJnOJrIDUU67LmeIccOUPOXSJzqDCaiXUkZUJEYeNrZMOVV2j2ufI5FXadQ2Fu03
	5/dvDYGXPYsEI+OJ4k2G+YimI0sFXjiQVqKVZOPnkRUaSPJyPNIraxhxuCWKWV30/jGn5SzdQAWC1
	Vw2zVpc8VdwR3CeUTnKq/MU+yDRLWWTzBsAl/zDd3yOaiQF7gS5xeu7xHu1DjrHRV40p+mRN5ujXz
	zIDShywGSyUHNGrDSQeA==;
Received: from localhost ([127.0.0.1] helo=bombadil.infradead.org)
	by bombadil.infradead.org with esmtp (Exim 4.92.3 #3 (Red Hat Linux))
	id 1jVhFj-0008Uz-EO; Mon, 04 May 2020 19:59:47 +0000
Received: from rere.qmqm.pl ([91.227.64.183])
 by bombadil.infradead.org with esmtps (Exim 4.92.3 #3 (Red Hat Linux))
 id 1jVhEo-0007hg-Ut
 for linux-arm-kernel@lists.infradead.org; Mon, 04 May 2020 19:58:54 +0000
Received: from remote.user (localhost [127.0.0.1])
 by rere.qmqm.pl (Postfix) with ESMTPSA id 49GDFJ5VRqzKc;
 Mon,  4 May 2020 21:58:44 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=rere.qmqm.pl; s=1;
 t=1588622324; bh=e09D4IpfurpYNq8lzaYl7MxkPYNdU0s00Xbf5uuDwiE=;
 h=Date:In-Reply-To:References:From:Subject:To:Cc:From;
 b=rTcPjXggHu5TgQpJXB1jwkoRsF3qh7Wvhl4p7v/G9pEz02JBUjgk7V/+YNxT0brG+
 n8+CD6zJp2pRoGMuIswch2hYJHvw8h4p7vKFuhM9QPwwwORD4BYCvwjC9bUPrcdd01
 s4lbdm01kvaVbMOCtbIaJRVBMDIKSLHl4wR9QdrFm9xJ3YaXR3i3JhR6jtOe96SQYV
 7s4VKoW9n9NXc0iUUHfjPHgufO2Bcs0x0zuzt0y20p+3k+m2iiM9i9O7cVm+y0x1Ym
 5e+LyI9ouSe5TCO6ny6YB0LfpUhPdlum1ZsuHsjhaxRHhq7DEJ0BZpR3FuaYr+j2/2
 rr4q2qwUbxjnQ==
X-Virus-Status: Clean
X-Virus-Scanned: clamav-milter 0.102.2 at mail
Date: Mon, 04 May 2020 21:58:44 +0200
Message-Id: <690868e9f486964822ac32c31da35d254d5c8d7a.1588622158.git.mirq-linux@rere.qmqm.pl>
In-Reply-To: <cover.1588622158.git.mirq-linux@rere.qmqm.pl>
References: <cover.1588622158.git.mirq-linux@rere.qmqm.pl>
From: =?UTF-8?q?Micha=C5=82=20Miros=C5=82aw?= <mirq-linux@rere.qmqm.pl>
Subject: [PATCH v5 2/3] clk: at91: allow setting PCKx parent via DT
MIME-Version: 1.0
To: Michael Turquette <mturquette@baylibre.com>,
 Stephen Boyd <sboyd@kernel.org>,
 Nicolas Ferre <nicolas.ferre@microchip.com>,
 Alexandre Belloni <alexandre.belloni@bootlin.com>,
 Ludovic Desroches <ludovic.desroches@microchip.com>,
 Rob Herring <robh+dt@kernel.org>
X-CRM114-Version: 20100106-BlameMichelson ( TRE 0.8.0 (BSD) ) MR-646709E3 
X-CRM114-CacheID: sfid-20200504_125851_326588_3080559E 
X-CRM114-Status: GOOD (  13.99  )
X-Spam-Score: -0.1 (/)
X-Spam-Report: SpamAssassin version 3.4.4 on bombadil.infradead.org summary:
 Content analysis details:   (-0.1 points)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.0 SPF_HELO_PASS          SPF: HELO matches SPF record
 -0.0 SPF_PASS               SPF: sender matches SPF record
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily
 valid
 -0.1 DKIM_VALID_AU          Message has a valid DKIM or DK signature from
 author's domain
X-BeenThere: linux-arm-kernel@lists.infradead.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <linux-arm-kernel.lists.infradead.org>
List-Unsubscribe: <http://lists.infradead.org/mailman/options/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=unsubscribe>
List-Archive: <http://lists.infradead.org/pipermail/linux-arm-kernel/>
List-Post: <mailto:linux-arm-kernel@lists.infradead.org>
List-Help: <mailto:linux-arm-kernel-request@lists.infradead.org?subject=help>
List-Subscribe: <http://lists.infradead.org/mailman/listinfo/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=subscribe>
Cc: devicetree@vger.kernel.org, linux-clk@vger.kernel.org,
 linux-arm-kernel@lists.infradead.org, linux-kernel@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: "linux-arm-kernel" <linux-arm-kernel-bounces@lists.infradead.org>
Errors-To: linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org

VGhpcyBleHBvc2VzIFBST0d4IGNsb2NrcyBmb3IgdXNlIGluIGFzc2lnbmVkLWNsb2NrcyBEZXZp
Y2VUcmVlIHByb3BlcnR5CmZvciBzZWxlY3RpbmcgUENLeCBwYXJlbnQgY2xvY2suCgpTaWduZWQt
b2ZmLWJ5OiBNaWNoYcWCIE1pcm9zxYJhdyA8bWlycS1saW51eEByZXJlLnFtcW0ucGw+Ci0tLQp2
MjogcmViYXNlIGFuZCB1cGRhdGUgdG8gY2xrL2Nsay1hdDkxIGJyYW5jaAp2MzogcmViYXNlCnY0
OiBubyBjaGFuZ2VzCnY1OiBubyBjaGFuZ2VzCi0tLQogZHJpdmVycy9jbGsvYXQ5MS9hdDkxcm05
MjAwLmMgICAgfCAgNiArKysrLS0KIGRyaXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTkyNjAuYyAgIHwg
IDUgKysrKy0KIGRyaXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTlnNDUuYyAgIHwgIDYgKysrKy0tCiBk
cml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05bjEyLmMgICB8ICA2ICsrKystLQogZHJpdmVycy9jbGsv
YXQ5MS9hdDkxc2FtOXJsLmMgICAgfCAgNCArKystCiBkcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05
eDUuYyAgICB8ICA0ICsrKy0KIGRyaXZlcnMvY2xrL2F0OTEvcG1jLmMgICAgICAgICAgIHwgMTIg
KysrKysrKysrKy0tCiBkcml2ZXJzL2Nsay9hdDkxL3BtYy5oICAgICAgICAgICB8ICA1ICsrKyst
CiBkcml2ZXJzL2Nsay9hdDkxL3NhbTl4NjAuYyAgICAgICB8ICA0ICsrKy0KIGRyaXZlcnMvY2xr
L2F0OTEvc2FtYTVkMi5jICAgICAgIHwgIDQgKysrLQogZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQz
LmMgICAgICAgfCAgNiArKysrLS0KIGRyaXZlcnMvY2xrL2F0OTEvc2FtYTVkNC5jICAgICAgIHwg
IDQgKysrLQogaW5jbHVkZS9kdC1iaW5kaW5ncy9jbG9jay9hdDkxLmggfCAgMSArCiAxMyBmaWxl
cyBjaGFuZ2VkLCA1MCBpbnNlcnRpb25zKCspLCAxNyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFybTkyMDAuYyBiL2RyaXZlcnMvY2xrL2F0OTEvYXQ5MXJt
OTIwMC5jCmluZGV4IGM0NGE0MzFiNmM5Ny4uOGRhODhlOWE5NWQ4IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2Nsay9hdDkxL2F0OTFybTkyMDAuYworKysgYi9kcml2ZXJzL2Nsay9hdDkxL2F0OTFybTky
MDAuYwpAQCAtMTAwLDcgKzEwMCw3IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBhdDkxcm05MjAwX3Bt
Y19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCiAJYXQ5MXJtOTIwMF9wbWMgPSBwbWNf
ZGF0YV9hbGxvY2F0ZShQTUNfTUFJTiArIDEsCiAJCQkJCSAgICBuY2soYXQ5MXJtOTIwMF9zeXN0
ZW1jayksCi0JCQkJCSAgICBuY2soYXQ5MXJtOTIwMF9wZXJpcGhjayksIDApOworCQkJCQkgICAg
bmNrKGF0OTFybTkyMDBfcGVyaXBoY2spLCAwLCA0KTsKIAlpZiAoIWF0OTFybTkyMDBfcG1jKQog
CQlyZXR1cm47CiAKQEAgLTE1OSw2ICsxNTksOCBAQCBzdGF0aWMgdm9pZCBfX2luaXQgYXQ5MXJt
OTIwMF9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpucCkKIAkJCQkJCSAgICAmYXQ5MXJt
OTIwMF9wcm9ncmFtbWFibGVfbGF5b3V0KTsKIAkJaWYgKElTX0VSUihodykpCiAJCQlnb3RvIGVy
cl9mcmVlOworCisJCWF0OTFybTkyMDBfcG1jLT5wY2h3c1tpXSA9IGh3OwogCX0KIAogCWZvciAo
aSA9IDA7IGkgPCBBUlJBWV9TSVpFKGF0OTFybTkyMDBfc3lzdGVtY2spOyBpKyspIHsKQEAgLTE4
Nyw3ICsxODksNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgYXQ5MXJtOTIwMF9wbWNfc2V0dXAoc3Ry
dWN0IGRldmljZV9ub2RlICpucCkKIAlyZXR1cm47CiAKIGVycl9mcmVlOgotCXBtY19kYXRhX2Zy
ZWUoYXQ5MXJtOTIwMF9wbWMpOworCWtmcmVlKGF0OTFybTkyMDBfcG1jKTsKIH0KIC8qCiAgKiBX
aGlsZSB0aGUgVENCIGNhbiBiZSB1c2VkIGFzIHRoZSBjbG9ja3NvdXJjZSwgdGhlIHN5c3RlbSB0
aW1lciBpcyBtb3N0IGxpa2VseQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2Ft
OTI2MC5jIGIvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOTI2MC5jCmluZGV4IDk0NmYwM2EwOTg1
OC4uN2U1ZmYyNTJmZmZjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05MjYw
LmMKKysrIGIvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOTI2MC5jCkBAIC0zNTQsNyArMzU0LDgg
QEAgc3RhdGljIHZvaWQgX19pbml0IGF0OTFzYW05MjZ4X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNl
X25vZGUgKm5wLAogCiAJYXQ5MXNhbTkyNjBfcG1jID0gcG1jX2RhdGFfYWxsb2NhdGUoUE1DX01B
SU4gKyAxLAogCQkJCQkgICAgbmRjayhkYXRhLT5zY2ssIGRhdGEtPm51bV9zY2spLAotCQkJCQkg
ICAgbmRjayhkYXRhLT5wY2ssIGRhdGEtPm51bV9wY2spLCAwKTsKKwkJCQkJICAgIG5kY2soZGF0
YS0+cGNrLCBkYXRhLT5udW1fcGNrKSwKKwkJCQkJICAgIDAsIGRhdGEtPm51bV9wcm9nY2spOwog
CWlmICghYXQ5MXNhbTkyNjBfcG1jKQogCQlyZXR1cm47CiAKQEAgLTQzNCw2ICs0MzUsOCBAQCBz
dGF0aWMgdm9pZCBfX2luaXQgYXQ5MXNhbTkyNnhfcG1jX3NldHVwKHN0cnVjdCBkZXZpY2Vfbm9k
ZSAqbnAsCiAJCQkJCQkgICAgJmF0OTFybTkyMDBfcHJvZ3JhbW1hYmxlX2xheW91dCk7CiAJCWlm
IChJU19FUlIoaHcpKQogCQkJZ290byBlcnJfZnJlZTsKKworCQlhdDkxc2FtOTI2MF9wbWMtPnBj
aHdzW2ldID0gaHc7CiAJfQogCiAJZm9yIChpID0gMDsgaSA8IGRhdGEtPm51bV9zY2s7IGkrKykg
ewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOWc0NS5jIGIvZHJpdmVycy9j
bGsvYXQ5MS9hdDkxc2FtOWc0NS5jCmluZGV4IDM4YTdkMmQyZGYwYy4uNWQxOGViMDRjMjE4IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05ZzQ1LmMKKysrIGIvZHJpdmVycy9j
bGsvYXQ5MS9hdDkxc2FtOWc0NS5jCkBAIC0xMTcsNyArMTE3LDcgQEAgc3RhdGljIHZvaWQgX19p
bml0IGF0OTFzYW05ZzQ1X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCiAJYXQ5
MXNhbTlnNDVfcG1jID0gcG1jX2RhdGFfYWxsb2NhdGUoUE1DX01BSU4gKyAxLAogCQkJCQkgICAg
bmNrKGF0OTFzYW05ZzQ1X3N5c3RlbWNrKSwKLQkJCQkJICAgIG5jayhhdDkxc2FtOWc0NV9wZXJp
cGhjayksIDApOworCQkJCQkgICAgbmNrKGF0OTFzYW05ZzQ1X3BlcmlwaGNrKSwgMCwgMik7CiAJ
aWYgKCFhdDkxc2FtOWc0NV9wbWMpCiAJCXJldHVybjsKIApAQCAtMTgyLDYgKzE4Miw4IEBAIHN0
YXRpYyB2b2lkIF9faW5pdCBhdDkxc2FtOWc0NV9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2Rl
ICpucCkKIAkJCQkJCSAgICAmYXQ5MXNhbTlnNDVfcHJvZ3JhbW1hYmxlX2xheW91dCk7CiAJCWlm
IChJU19FUlIoaHcpKQogCQkJZ290byBlcnJfZnJlZTsKKworCQlhdDkxc2FtOWc0NV9wbWMtPnBj
aHdzW2ldID0gaHc7CiAJfQogCiAJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoYXQ5MXNhbTln
NDVfc3lzdGVtY2spOyBpKyspIHsKQEAgLTIxMCw3ICsyMTIsNyBAQCBzdGF0aWMgdm9pZCBfX2lu
aXQgYXQ5MXNhbTlnNDVfcG1jX3NldHVwKHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnApCiAJcmV0dXJu
OwogCiBlcnJfZnJlZToKLQlwbWNfZGF0YV9mcmVlKGF0OTFzYW05ZzQ1X3BtYyk7CisJa2ZyZWUo
YXQ5MXNhbTlnNDVfcG1jKTsKIH0KIC8qCiAgKiBUaGUgVENCIGlzIHVzZWQgYXMgdGhlIGNsb2Nr
c291cmNlIHNvIGl0cyBjbG9jayBpcyBuZWVkZWQgZWFybHkuIFRoaXMgbWVhbnMKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTluMTIuYyBiL2RyaXZlcnMvY2xrL2F0OTEvYXQ5
MXNhbTluMTIuYwppbmRleCA4YmIzOWQyYmE4NGIuLjNhMjU2NGMyZjcyNCAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOW4xMi5jCisrKyBiL2RyaXZlcnMvY2xrL2F0OTEvYXQ5
MXNhbTluMTIuYwpAQCAtMTI5LDcgKzEyOSw3IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBhdDkxc2Ft
OW4xMl9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpucCkKIAkJcmV0dXJuOwogCiAJYXQ5
MXNhbTluMTJfcG1jID0gcG1jX2RhdGFfYWxsb2NhdGUoUE1DX01BSU4gKyAxLAotCQkJCQkgICBu
Y2soYXQ5MXNhbTluMTJfc3lzdGVtY2spLCAzMSwgMCk7CisJCQkJCSAgIG5jayhhdDkxc2FtOW4x
Ml9zeXN0ZW1jayksIDMxLCAwLCAyKTsKIAlpZiAoIWF0OTFzYW05bjEyX3BtYykKIAkJcmV0dXJu
OwogCkBAIC0xOTgsNiArMTk4LDggQEAgc3RhdGljIHZvaWQgX19pbml0IGF0OTFzYW05bjEyX3Bt
Y19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCQkJCQkJICAgICZhdDkxc2FtOXg1X3By
b2dyYW1tYWJsZV9sYXlvdXQpOwogCQlpZiAoSVNfRVJSKGh3KSkKIAkJCWdvdG8gZXJyX2ZyZWU7
CisKKwkJYXQ5MXNhbTluMTJfcG1jLT5wY2h3c1tpXSA9IGh3OwogCX0KIAogCWZvciAoaSA9IDA7
IGkgPCBBUlJBWV9TSVpFKGF0OTFzYW05bjEyX3N5c3RlbWNrKTsgaSsrKSB7CkBAIC0yMjgsNyAr
MjMwLDcgQEAgc3RhdGljIHZvaWQgX19pbml0IGF0OTFzYW05bjEyX3BtY19zZXR1cChzdHJ1Y3Qg
ZGV2aWNlX25vZGUgKm5wKQogCXJldHVybjsKIAogZXJyX2ZyZWU6Ci0JcG1jX2RhdGFfZnJlZShh
dDkxc2FtOW4xMl9wbWMpOworCWtmcmVlKGF0OTFzYW05bjEyX3BtYyk7CiB9CiAvKgogICogVGhl
IFRDQiBpcyB1c2VkIGFzIHRoZSBjbG9ja3NvdXJjZSBzbyBpdHMgY2xvY2sgaXMgbmVlZGVkIGVh
cmx5LiBUaGlzIG1lYW5zCmRpZmYgLS1naXQgYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05cmwu
YyBiL2RyaXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTlybC5jCmluZGV4IGNjNzM5ZDIxNGFlMy4uYmNm
MDdmNmEwZTBlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05cmwuYworKysg
Yi9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05cmwuYwpAQCAtODksNyArODksNyBAQCBzdGF0aWMg
dm9pZCBfX2luaXQgYXQ5MXNhbTlybF9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpucCkK
IAogCWF0OTFzYW05cmxfcG1jID0gcG1jX2RhdGFfYWxsb2NhdGUoUE1DX01BSU4gKyAxLAogCQkJ
CQkgICBuY2soYXQ5MXNhbTlybF9zeXN0ZW1jayksCi0JCQkJCSAgIG5jayhhdDkxc2FtOXJsX3Bl
cmlwaGNrKSwgMCk7CisJCQkJCSAgIG5jayhhdDkxc2FtOXJsX3BlcmlwaGNrKSwgMCwgMik7CiAJ
aWYgKCFhdDkxc2FtOXJsX3BtYykKIAkJcmV0dXJuOwogCkBAIC0xMzgsNiArMTM4LDggQEAgc3Rh
dGljIHZvaWQgX19pbml0IGF0OTFzYW05cmxfcG1jX3NldHVwKHN0cnVjdCBkZXZpY2Vfbm9kZSAq
bnApCiAJCQkJCQkgICAgJmF0OTFybTkyMDBfcHJvZ3JhbW1hYmxlX2xheW91dCk7CiAJCWlmIChJ
U19FUlIoaHcpKQogCQkJZ290byBlcnJfZnJlZTsKKworCQlhdDkxc2FtOXJsX3BtYy0+cGNod3Nb
aV0gPSBodzsKIAl9CiAKIAlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShhdDkxc2FtOXJsX3N5
c3RlbWNrKTsgaSsrKSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05eDUu
YyBiL2RyaXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTl4NS5jCmluZGV4IGFhYzk5ZDY5OTU2OC4uZjEz
NzU2YjQwN2UyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05eDUuYworKysg
Yi9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05eDUuYwpAQCAtMTUxLDcgKzE1MSw3IEBAIHN0YXRp
YyB2b2lkIF9faW5pdCBhdDkxc2FtOXg1X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5w
LAogCQlyZXR1cm47CiAKIAlhdDkxc2FtOXg1X3BtYyA9IHBtY19kYXRhX2FsbG9jYXRlKFBNQ19N
QUlOICsgMSwKLQkJCQkJICAgbmNrKGF0OTFzYW05eDVfc3lzdGVtY2spLCAzMSwgMCk7CisJCQkJ
CSAgIG5jayhhdDkxc2FtOXg1X3N5c3RlbWNrKSwgMzEsIDAsIDIpOwogCWlmICghYXQ5MXNhbTl4
NV9wbWMpCiAJCXJldHVybjsKIApAQCAtMjI3LDYgKzIyNyw4IEBAIHN0YXRpYyB2b2lkIF9faW5p
dCBhdDkxc2FtOXg1X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wLAogCQkJCQkJICAg
ICZhdDkxc2FtOXg1X3Byb2dyYW1tYWJsZV9sYXlvdXQpOwogCQlpZiAoSVNfRVJSKGh3KSkKIAkJ
CWdvdG8gZXJyX2ZyZWU7CisKKwkJYXQ5MXNhbTl4NV9wbWMtPnBjaHdzW2ldID0gaHc7CiAJfQog
CiAJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoYXQ5MXNhbTl4NV9zeXN0ZW1jayk7IGkrKykg
ewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9jbGsvYXQ5MS9wbWMuYyBiL2RyaXZlcnMvY2xrL2F0OTEv
cG1jLmMKaW5kZXggYWM0NmVhMWI5ZmRhLi44YTE1NzdlMmMyZmQgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvY2xrL2F0OTEvcG1jLmMKKysrIGIvZHJpdmVycy9jbGsvYXQ5MS9wbWMuYwpAQCAtNjcsNiAr
NjcsMTAgQEAgc3RydWN0IGNsa19odyAqb2ZfY2xrX2h3X3BtY19nZXQoc3RydWN0IG9mX3BoYW5k
bGVfYXJncyAqY2xrc3BlYywgdm9pZCAqZGF0YSkKIAkJaWYgKGlkeCA8IHBtY19kYXRhLT5uZ2Nr
KQogCQkJcmV0dXJuIHBtY19kYXRhLT5naHdzW2lkeF07CiAJCWJyZWFrOworCWNhc2UgUE1DX1RZ
UEVfUFJPR1JBTU1BQkxFOgorCQlpZiAoaWR4IDwgcG1jX2RhdGEtPm5wY2spCisJCQlyZXR1cm4g
cG1jX2RhdGEtPnBjaHdzW2lkeF07CisJCWJyZWFrOwogCWRlZmF1bHQ6CiAJCWJyZWFrOwogCX0K
QEAgLTc3LDkgKzgxLDEwIEBAIHN0cnVjdCBjbGtfaHcgKm9mX2Nsa19od19wbWNfZ2V0KHN0cnVj
dCBvZl9waGFuZGxlX2FyZ3MgKmNsa3NwZWMsIHZvaWQgKmRhdGEpCiB9CiAKIHN0cnVjdCBwbWNf
ZGF0YSAqcG1jX2RhdGFfYWxsb2NhdGUodW5zaWduZWQgaW50IG5jb3JlLCB1bnNpZ25lZCBpbnQg
bnN5c3RlbSwKLQkJCQkgICB1bnNpZ25lZCBpbnQgbnBlcmlwaCwgdW5zaWduZWQgaW50IG5nY2sp
CisJCQkJICAgdW5zaWduZWQgaW50IG5wZXJpcGgsIHVuc2lnbmVkIGludCBuZ2NrLAorCQkJCSAg
IHVuc2lnbmVkIGludCBucGNrKQogewotCXVuc2lnbmVkIGludCBudW1fY2xrcyA9IG5jb3JlICsg
bnN5c3RlbSArIG5wZXJpcGggKyBuZ2NrOworCXVuc2lnbmVkIGludCBudW1fY2xrcyA9IG5jb3Jl
ICsgbnN5c3RlbSArIG5wZXJpcGggKyBuZ2NrICsgbnBjazsKIAlzdHJ1Y3QgcG1jX2RhdGEgKnBt
Y19kYXRhOwogCiAJcG1jX2RhdGEgPSBremFsbG9jKHN0cnVjdF9zaXplKHBtY19kYXRhLCBod3Rh
YmxlLCBudW1fY2xrcyksCkBAIC05OSw2ICsxMDQsOSBAQCBzdHJ1Y3QgcG1jX2RhdGEgKnBtY19k
YXRhX2FsbG9jYXRlKHVuc2lnbmVkIGludCBuY29yZSwgdW5zaWduZWQgaW50IG5zeXN0ZW0sCiAJ
cG1jX2RhdGEtPm5nY2sgPSBuZ2NrOwogCXBtY19kYXRhLT5naHdzID0gcG1jX2RhdGEtPnBod3Mg
KyBucGVyaXBoOwogCisJcG1jX2RhdGEtPm5wY2sgPSBucGNrOworCXBtY19kYXRhLT5wY2h3cyA9
IHBtY19kYXRhLT5naHdzICsgbmdjazsKKwogCXJldHVybiBwbWNfZGF0YTsKIH0KIApkaWZmIC0t
Z2l0IGEvZHJpdmVycy9jbGsvYXQ5MS9wbWMuaCBiL2RyaXZlcnMvY2xrL2F0OTEvcG1jLmgKaW5k
ZXggZmMzZWY3NzJiOWQ5Li5kZjYxNmYyOTM3ZTcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvY2xrL2F0
OTEvcG1jLmgKKysrIGIvZHJpdmVycy9jbGsvYXQ5MS9wbWMuaApAQCAtMjQsNiArMjQsOCBAQCBz
dHJ1Y3QgcG1jX2RhdGEgewogCXN0cnVjdCBjbGtfaHcgKipwaHdzOwogCXVuc2lnbmVkIGludCBu
Z2NrOwogCXN0cnVjdCBjbGtfaHcgKipnaHdzOworCXVuc2lnbmVkIGludCBucGNrOworCXN0cnVj
dCBjbGtfaHcgKipwY2h3czsKIAogCXN0cnVjdCBjbGtfaHcgKmh3dGFibGVbXTsKIH07CkBAIC05
Niw3ICs5OCw4IEBAIHN0cnVjdCBjbGtfcGNyX2xheW91dCB7CiAjZGVmaW5lIG5kY2soYSwgcykg
KGFbcyAtIDFdLmlkICsgMSkKICNkZWZpbmUgbmNrKGEpIChhW0FSUkFZX1NJWkUoYSkgLSAxXS5p
ZCArIDEpCiBzdHJ1Y3QgcG1jX2RhdGEgKnBtY19kYXRhX2FsbG9jYXRlKHVuc2lnbmVkIGludCBu
Y29yZSwgdW5zaWduZWQgaW50IG5zeXN0ZW0sCi0JCQkJICAgdW5zaWduZWQgaW50IG5wZXJpcGgs
IHVuc2lnbmVkIGludCBuZ2NrKTsKKwkJCQkgICB1bnNpZ25lZCBpbnQgbnBlcmlwaCwgdW5zaWdu
ZWQgaW50IG5nY2ssCisJCQkJICAgdW5zaWduZWQgaW50IG5wY2spOwogCiBpbnQgb2ZfYXQ5MV9n
ZXRfY2xrX3JhbmdlKHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAsIGNvbnN0IGNoYXIgKnByb3BuYW1l
LAogCQkJICBzdHJ1Y3QgY2xrX3JhbmdlICpyYW5nZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2Ns
ay9hdDkxL3NhbTl4NjAuYyBiL2RyaXZlcnMvY2xrL2F0OTEvc2FtOXg2MC5jCmluZGV4IGE3ZDRm
NjQ4ZGIyNi4uZGIxNGUwNDI3YzdmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkxL3NhbTl4
NjAuYworKysgYi9kcml2ZXJzL2Nsay9hdDkxL3NhbTl4NjAuYwpAQCAtMTg1LDcgKzE4NSw3IEBA
IHN0YXRpYyB2b2lkIF9faW5pdCBzYW05eDYwX3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUg
Km5wKQogCXNhbTl4NjBfcG1jID0gcG1jX2RhdGFfYWxsb2NhdGUoUE1DX01BSU4gKyAxLAogCQkJ
CQluY2soc2FtOXg2MF9zeXN0ZW1jayksCiAJCQkJCW5jayhzYW05eDYwX3BlcmlwaGNrKSwKLQkJ
CQkJbmNrKHNhbTl4NjBfZ2NrKSk7CisJCQkJCW5jayhzYW05eDYwX2djayksIDgpOwogCWlmICgh
c2FtOXg2MF9wbWMpCiAJCXJldHVybjsKIApAQCAtMjU1LDYgKzI1NSw4IEBAIHN0YXRpYyB2b2lk
IF9faW5pdCBzYW05eDYwX3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCQkJCQkJ
ICAgICZzYW05eDYwX3Byb2dyYW1tYWJsZV9sYXlvdXQpOwogCQlpZiAoSVNfRVJSKGh3KSkKIAkJ
CWdvdG8gZXJyX2ZyZWU7CisKKwkJc2FtOXg2MF9wbWMtPnBjaHdzW2ldID0gaHc7CiAJfQogCiAJ
Zm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoc2FtOXg2MF9zeXN0ZW1jayk7IGkrKykgewpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQyLmMgYi9kcml2ZXJzL2Nsay9hdDkxL3Nh
bWE1ZDIuYwppbmRleCBiMjU2MDY3MGU1YWYuLmFlNWU4M2NhZGIzZCAxMDA2NDQKLS0tIGEvZHJp
dmVycy9jbGsvYXQ5MS9zYW1hNWQyLmMKKysrIGIvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQyLmMK
QEAgLTE2OSw3ICsxNjksNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgc2FtYTVkMl9wbWNfc2V0dXAo
c3RydWN0IGRldmljZV9ub2RlICpucCkKIAlzYW1hNWQyX3BtYyA9IHBtY19kYXRhX2FsbG9jYXRl
KFBNQ19JMlMxX01VWCArIDEsCiAJCQkJCW5jayhzYW1hNWQyX3N5c3RlbWNrKSwKIAkJCQkJbmNr
KHNhbWE1ZDJfcGVyaXBoMzJjayksCi0JCQkJCW5jayhzYW1hNWQyX2djaykpOworCQkJCQluY2so
c2FtYTVkMl9nY2spLCAzKTsKIAlpZiAoIXNhbWE1ZDJfcG1jKQogCQlyZXR1cm47CiAKQEAgLTI2
Nyw2ICsyNjcsOCBAQCBzdGF0aWMgdm9pZCBfX2luaXQgc2FtYTVkMl9wbWNfc2V0dXAoc3RydWN0
IGRldmljZV9ub2RlICpucCkKIAkJCQkJCSAgICAmc2FtYTVkMl9wcm9ncmFtbWFibGVfbGF5b3V0
KTsKIAkJaWYgKElTX0VSUihodykpCiAJCQlnb3RvIGVycl9mcmVlOworCisJCXNhbWE1ZDJfcG1j
LT5wY2h3c1tpXSA9IGh3OwogCX0KIAogCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKHNhbWE1
ZDJfc3lzdGVtY2spOyBpKyspIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvY2xrL2F0OTEvc2FtYTVk
My5jIGIvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQzLmMKaW5kZXggODg1MDZmOTA5YzA4Li41MDdl
ZWY2Nzk3ZjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvY2xrL2F0OTEvc2FtYTVkMy5jCisrKyBiL2Ry
aXZlcnMvY2xrL2F0OTEvc2FtYTVkMy5jCkBAIC0xMjcsNyArMTI3LDcgQEAgc3RhdGljIHZvaWQg
X19pbml0IHNhbWE1ZDNfcG1jX3NldHVwKHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnApCiAKIAlzYW1h
NWQzX3BtYyA9IHBtY19kYXRhX2FsbG9jYXRlKFBNQ19NQUlOICsgMSwKIAkJCQkJbmNrKHNhbWE1
ZDNfc3lzdGVtY2spLAotCQkJCQluY2soc2FtYTVkM19wZXJpcGhjayksIDApOworCQkJCQluY2so
c2FtYTVkM19wZXJpcGhjayksIDAsIDMpOwogCWlmICghc2FtYTVkM19wbWMpCiAJCXJldHVybjsK
IApAQCAtMjAxLDYgKzIwMSw4IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBzYW1hNWQzX3BtY19zZXR1
cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCQkJCQkJICAgICZhdDkxc2FtOXg1X3Byb2dyYW1t
YWJsZV9sYXlvdXQpOwogCQlpZiAoSVNfRVJSKGh3KSkKIAkJCWdvdG8gZXJyX2ZyZWU7CisKKwkJ
c2FtYTVkM19wbWMtPnBjaHdzW2ldID0gaHc7CiAJfQogCiAJZm9yIChpID0gMDsgaSA8IEFSUkFZ
X1NJWkUoc2FtYTVkM19zeXN0ZW1jayk7IGkrKykgewpAQCAtMjMxLDcgKzIzMyw3IEBAIHN0YXRp
YyB2b2lkIF9faW5pdCBzYW1hNWQzX3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQog
CXJldHVybjsKIAogZXJyX2ZyZWU6Ci0JcG1jX2RhdGFfZnJlZShzYW1hNWQzX3BtYyk7CisJa2Zy
ZWUoc2FtYTVkM19wbWMpOwogfQogLyoKICAqIFRoZSBUQ0IgaXMgdXNlZCBhcyB0aGUgY2xvY2tz
b3VyY2Ugc28gaXRzIGNsb2NrIGlzIG5lZWRlZCBlYXJseS4gVGhpcyBtZWFucwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQ0LmMgYi9kcml2ZXJzL2Nsay9hdDkxL3NhbWE1ZDQu
YwppbmRleCA0Y2E5YTQ2MTk1MDAuLjgwNjkyOTAyYjRlNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9j
bGsvYXQ5MS9zYW1hNWQ0LmMKKysrIGIvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQ0LmMKQEAgLTE0
Miw3ICsxNDIsNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgc2FtYTVkNF9wbWNfc2V0dXAoc3RydWN0
IGRldmljZV9ub2RlICpucCkKIAogCXNhbWE1ZDRfcG1jID0gcG1jX2RhdGFfYWxsb2NhdGUoUE1D
X01DSzIgKyAxLAogCQkJCQluY2soc2FtYTVkNF9zeXN0ZW1jayksCi0JCQkJCW5jayhzYW1hNWQ0
X3BlcmlwaDMyY2spLCAwKTsKKwkJCQkJbmNrKHNhbWE1ZDRfcGVyaXBoMzJjayksIDAsIDMpOwog
CWlmICghc2FtYTVkNF9wbWMpCiAJCXJldHVybjsKIApAQCAtMjI0LDYgKzIyNCw4IEBAIHN0YXRp
YyB2b2lkIF9faW5pdCBzYW1hNWQ0X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQog
CQkJCQkJICAgICZhdDkxc2FtOXg1X3Byb2dyYW1tYWJsZV9sYXlvdXQpOwogCQlpZiAoSVNfRVJS
KGh3KSkKIAkJCWdvdG8gZXJyX2ZyZWU7CisKKwkJc2FtYTVkNF9wbWMtPnBjaHdzW2ldID0gaHc7
CiAJfQogCiAJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoc2FtYTVkNF9zeXN0ZW1jayk7IGkr
KykgewpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kdC1iaW5kaW5ncy9jbG9jay9hdDkxLmggYi9pbmNs
dWRlL2R0LWJpbmRpbmdzL2Nsb2NrL2F0OTEuaAppbmRleCAzOGI1NTU0MTUzYzguLmMzZjRhYTZh
MmQyOSAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kdC1iaW5kaW5ncy9jbG9jay9hdDkxLmgKKysrIGIv
aW5jbHVkZS9kdC1iaW5kaW5ncy9jbG9jay9hdDkxLmgKQEAgLTEyLDYgKzEyLDcgQEAKICNkZWZp
bmUgUE1DX1RZUEVfU1lTVEVNCQkxCiAjZGVmaW5lIFBNQ19UWVBFX1BFUklQSEVSQUwJMgogI2Rl
ZmluZSBQTUNfVFlQRV9HQ0sJCTMKKyNkZWZpbmUgUE1DX1RZUEVfUFJPR1JBTU1BQkxFCTQKIAog
I2RlZmluZSBQTUNfU0xPVwkJMAogI2RlZmluZSBQTUNfTUNLCQkJMQotLSAKMi4yMC4xCgoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KbGludXgtYXJtLWtl
cm5lbCBtYWlsaW5nIGxpc3QKbGludXgtYXJtLWtlcm5lbEBsaXN0cy5pbmZyYWRlYWQub3JnCmh0
dHA6Ly9saXN0cy5pbmZyYWRlYWQub3JnL21haWxtYW4vbGlzdGluZm8vbGludXgtYXJtLWtlcm5l
bAo=
