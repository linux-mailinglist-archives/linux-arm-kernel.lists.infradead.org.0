Return-Path: <linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org>
X-Original-To: lists+linux-arm-kernel@lfdr.de
Delivered-To: lists+linux-arm-kernel@lfdr.de
Received: from bombadil.infradead.org (bombadil.infradead.org [IPv6:2607:7c80:54:e::133])
	by mail.lfdr.de (Postfix) with ESMTPS id 6A0C91C2E3D
	for <lists+linux-arm-kernel@lfdr.de>; Sun,  3 May 2020 19:20:39 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.infradead.org; s=bombadil.20170209; h=Sender:
	Content-Transfer-Encoding:Content-Type:Cc:List-Subscribe:List-Help:List-Post:
	List-Archive:List-Unsubscribe:List-Id:To:MIME-Version:Subject:From:References
	:In-Reply-To:Message-Id:Date:Reply-To:Content-ID:Content-Description:
	Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:
	List-Owner; bh=s8iDj8/sAOT9EXSPFGgjS3Jv5WnlbpoHahxNJpzxvd0=; b=kv+scVpUrSpYjm
	Hf2DrfHs9S/9scHrQEkKobWL7CPSUztbu4nbHDXI5wLnRQ7aaxZj0Vr7lbBpaM5Z1aCQDWkLQpyX8
	gUwtPPbcT3bh1RL+UUK2dBQdrlkm4/YdFMaKGhNQgYAwgcj38lrzd9GRzF2LJtfcW2Gv2WNqR/bCt
	D/nCuAnG4JsAVJFqhSx3TtMe32ticX7SHd4kJZolT4c7icXo/fH3HQRXPXKYCu5iFFYr4LLDmD+NL
	AQsXFCrEBxtGWNe8ryzOK7xMmWK/MrO1DjccwXP5/cwDi5HZux/LwqduAp3h7iEmDv5btGu+iCs7g
	9my2qGuOvZnRVugkjn9w==;
Received: from localhost ([127.0.0.1] helo=bombadil.infradead.org)
	by bombadil.infradead.org with esmtp (Exim 4.92.3 #3 (Red Hat Linux))
	id 1jVII3-0003vT-Hl; Sun, 03 May 2020 17:20:31 +0000
Received: from rere.qmqm.pl ([91.227.64.183])
 by bombadil.infradead.org with esmtps (Exim 4.92.3 #3 (Red Hat Linux))
 id 1jVIH9-0000s9-5f
 for linux-arm-kernel@lists.infradead.org; Sun, 03 May 2020 17:19:38 +0000
Received: from remote.user (localhost [127.0.0.1])
 by rere.qmqm.pl (Postfix) with ESMTPSA id 49FXlx6f2KzJf;
 Sun,  3 May 2020 19:19:25 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=rere.qmqm.pl; s=1;
 t=1588526366; bh=+oSzWcKcsL6RKkpjAownat0xN06j1XsVFKBb4TYQidA=;
 h=Date:In-Reply-To:References:From:Subject:To:Cc:From;
 b=nL5zhTHId3/TF5YlwxuKGACTxkaB+Ms41SI0uHRlmg5C5U7Q/HIlIV1TO3tgiup+n
 V/JYSg8oPS0X01CGEeAozsZ12yrtsoYaZeJDLskILoc6B+LmL+3UdTVQO7lyy+aZUQ
 M9ZGR7XymQ1Gv+d7hL5joL6xqAZpmcmYMf15RFRR8TKXoRnlZzuwzrct0UhU5Aj1Xj
 w3XEYtA0mKhsG3DJ20ETgTiTnEz3/Bs3MnpeRO30dZsrKw9XmZ7XiKB4Dz2F27sgjQ
 oh+TJ+amQHC+jTrXtzgcgOfIagTOVPrnIvH6t3/UxwFHK+5wLuNt3a+a4tUDjgqHqR
 XRnAZkdYk8mCA==
X-Virus-Status: Clean
X-Virus-Scanned: clamav-milter 0.102.2 at mail
Date: Sun, 03 May 2020 19:19:25 +0200
Message-Id: <787d012c250cc2e9abb88a9848664336b6eb0174.1588526049.git.mirq-linux@rere.qmqm.pl>
In-Reply-To: <cover.1588526049.git.mirq-linux@rere.qmqm.pl>
References: <cover.1588526049.git.mirq-linux@rere.qmqm.pl>
From: =?UTF-8?q?Micha=C5=82=20Miros=C5=82aw?= <mirq-linux@rere.qmqm.pl>
Subject: [PATCH v4 2/3] clk: at91: allow setting PCKx parent via DT
MIME-Version: 1.0
To: Alexandre Belloni <alexandre.belloni@bootlin.com>,
 Ludovic Desroches <ludovic.desroches@microchip.com>,
 Michael Turquette <mturquette@baylibre.com>,
 Nicolas Ferre <nicolas.ferre@microchip.com>,
 Rob Herring <robh+dt@kernel.org>, Stephen Boyd <sboyd@kernel.org>
X-CRM114-Version: 20100106-BlameMichelson ( TRE 0.8.0 (BSD) ) MR-646709E3 
X-CRM114-CacheID: sfid-20200503_101935_540149_5D34A7C6 
X-CRM114-Status: GOOD (  13.73  )
X-Spam-Score: -0.1 (/)
X-Spam-Report: SpamAssassin version 3.4.4 on bombadil.infradead.org summary:
 Content analysis details:   (-0.1 points)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.0 SPF_PASS               SPF: sender matches SPF record
 -0.0 SPF_HELO_PASS          SPF: HELO matches SPF record
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily
 valid
 -0.1 DKIM_VALID_AU          Message has a valid DKIM or DK signature from
 author's domain
X-BeenThere: linux-arm-kernel@lists.infradead.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <linux-arm-kernel.lists.infradead.org>
List-Unsubscribe: <http://lists.infradead.org/mailman/options/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=unsubscribe>
List-Archive: <http://lists.infradead.org/pipermail/linux-arm-kernel/>
List-Post: <mailto:linux-arm-kernel@lists.infradead.org>
List-Help: <mailto:linux-arm-kernel-request@lists.infradead.org?subject=help>
List-Subscribe: <http://lists.infradead.org/mailman/listinfo/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=subscribe>
Cc: devicetree@vger.kernel.org, linux-clk@vger.kernel.org,
 linux-arm-kernel@lists.infradead.org, linux-kernel@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: "linux-arm-kernel" <linux-arm-kernel-bounces@lists.infradead.org>
Errors-To: linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org

VGhpcyBleHBvc2VzIFBST0d4IGNsb2NrcyBmb3IgdXNlIGluIGFzc2lnbmVkLWNsb2NrcyBEZXZp
Y2VUcmVlIHByb3BlcnR5CmZvciBzZWxlY3RpbmcgUENLeCBwYXJlbnQgY2xvY2suCgpTaWduZWQt
b2ZmLWJ5OiBNaWNoYcWCIE1pcm9zxYJhdyA8bWlycS1saW51eEByZXJlLnFtcW0ucGw+Ci0tLQp2
MjogcmViYXNlIGFuZCB1cGRhdGUgdG8gY2xrL2Nsay1hdDkxIGJyYW5jaAp2MzogcmViYXNlCnY0
OiBubyBjaGFuZ2VzCi0tLQogZHJpdmVycy9jbGsvYXQ5MS9hdDkxcm05MjAwLmMgICAgfCAgNiAr
KysrLS0KIGRyaXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTkyNjAuYyAgIHwgIDUgKysrKy0KIGRyaXZl
cnMvY2xrL2F0OTEvYXQ5MXNhbTlnNDUuYyAgIHwgIDYgKysrKy0tCiBkcml2ZXJzL2Nsay9hdDkx
L2F0OTFzYW05bjEyLmMgICB8ICA2ICsrKystLQogZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOXJs
LmMgICAgfCAgNCArKystCiBkcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05eDUuYyAgICB8ICA0ICsr
Ky0KIGRyaXZlcnMvY2xrL2F0OTEvcG1jLmMgICAgICAgICAgIHwgMTIgKysrKysrKysrKy0tCiBk
cml2ZXJzL2Nsay9hdDkxL3BtYy5oICAgICAgICAgICB8ICA1ICsrKystCiBkcml2ZXJzL2Nsay9h
dDkxL3NhbTl4NjAuYyAgICAgICB8ICA0ICsrKy0KIGRyaXZlcnMvY2xrL2F0OTEvc2FtYTVkMi5j
ICAgICAgIHwgIDQgKysrLQogZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQzLmMgICAgICAgfCAgNiAr
KysrLS0KIGRyaXZlcnMvY2xrL2F0OTEvc2FtYTVkNC5jICAgICAgIHwgIDQgKysrLQogaW5jbHVk
ZS9kdC1iaW5kaW5ncy9jbG9jay9hdDkxLmggfCAgMSArCiAxMyBmaWxlcyBjaGFuZ2VkLCA1MCBp
bnNlcnRpb25zKCspLCAxNyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2Nsay9h
dDkxL2F0OTFybTkyMDAuYyBiL2RyaXZlcnMvY2xrL2F0OTEvYXQ5MXJtOTIwMC5jCmluZGV4IGM0
NGE0MzFiNmM5Ny4uOGRhODhlOWE5NWQ4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkxL2F0
OTFybTkyMDAuYworKysgYi9kcml2ZXJzL2Nsay9hdDkxL2F0OTFybTkyMDAuYwpAQCAtMTAwLDcg
KzEwMCw3IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBhdDkxcm05MjAwX3BtY19zZXR1cChzdHJ1Y3Qg
ZGV2aWNlX25vZGUgKm5wKQogCiAJYXQ5MXJtOTIwMF9wbWMgPSBwbWNfZGF0YV9hbGxvY2F0ZShQ
TUNfTUFJTiArIDEsCiAJCQkJCSAgICBuY2soYXQ5MXJtOTIwMF9zeXN0ZW1jayksCi0JCQkJCSAg
ICBuY2soYXQ5MXJtOTIwMF9wZXJpcGhjayksIDApOworCQkJCQkgICAgbmNrKGF0OTFybTkyMDBf
cGVyaXBoY2spLCAwLCA0KTsKIAlpZiAoIWF0OTFybTkyMDBfcG1jKQogCQlyZXR1cm47CiAKQEAg
LTE1OSw2ICsxNTksOCBAQCBzdGF0aWMgdm9pZCBfX2luaXQgYXQ5MXJtOTIwMF9wbWNfc2V0dXAo
c3RydWN0IGRldmljZV9ub2RlICpucCkKIAkJCQkJCSAgICAmYXQ5MXJtOTIwMF9wcm9ncmFtbWFi
bGVfbGF5b3V0KTsKIAkJaWYgKElTX0VSUihodykpCiAJCQlnb3RvIGVycl9mcmVlOworCisJCWF0
OTFybTkyMDBfcG1jLT5wY2h3c1tpXSA9IGh3OwogCX0KIAogCWZvciAoaSA9IDA7IGkgPCBBUlJB
WV9TSVpFKGF0OTFybTkyMDBfc3lzdGVtY2spOyBpKyspIHsKQEAgLTE4Nyw3ICsxODksNyBAQCBz
dGF0aWMgdm9pZCBfX2luaXQgYXQ5MXJtOTIwMF9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2Rl
ICpucCkKIAlyZXR1cm47CiAKIGVycl9mcmVlOgotCXBtY19kYXRhX2ZyZWUoYXQ5MXJtOTIwMF9w
bWMpOworCWtmcmVlKGF0OTFybTkyMDBfcG1jKTsKIH0KIC8qCiAgKiBXaGlsZSB0aGUgVENCIGNh
biBiZSB1c2VkIGFzIHRoZSBjbG9ja3NvdXJjZSwgdGhlIHN5c3RlbSB0aW1lciBpcyBtb3N0IGxp
a2VseQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOTI2MC5jIGIvZHJpdmVy
cy9jbGsvYXQ5MS9hdDkxc2FtOTI2MC5jCmluZGV4IDk0NmYwM2EwOTg1OC4uN2U1ZmYyNTJmZmZj
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05MjYwLmMKKysrIGIvZHJpdmVy
cy9jbGsvYXQ5MS9hdDkxc2FtOTI2MC5jCkBAIC0zNTQsNyArMzU0LDggQEAgc3RhdGljIHZvaWQg
X19pbml0IGF0OTFzYW05MjZ4X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wLAogCiAJ
YXQ5MXNhbTkyNjBfcG1jID0gcG1jX2RhdGFfYWxsb2NhdGUoUE1DX01BSU4gKyAxLAogCQkJCQkg
ICAgbmRjayhkYXRhLT5zY2ssIGRhdGEtPm51bV9zY2spLAotCQkJCQkgICAgbmRjayhkYXRhLT5w
Y2ssIGRhdGEtPm51bV9wY2spLCAwKTsKKwkJCQkJICAgIG5kY2soZGF0YS0+cGNrLCBkYXRhLT5u
dW1fcGNrKSwKKwkJCQkJICAgIDAsIGRhdGEtPm51bV9wcm9nY2spOwogCWlmICghYXQ5MXNhbTky
NjBfcG1jKQogCQlyZXR1cm47CiAKQEAgLTQzNCw2ICs0MzUsOCBAQCBzdGF0aWMgdm9pZCBfX2lu
aXQgYXQ5MXNhbTkyNnhfcG1jX3NldHVwKHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAsCiAJCQkJCQkg
ICAgJmF0OTFybTkyMDBfcHJvZ3JhbW1hYmxlX2xheW91dCk7CiAJCWlmIChJU19FUlIoaHcpKQog
CQkJZ290byBlcnJfZnJlZTsKKworCQlhdDkxc2FtOTI2MF9wbWMtPnBjaHdzW2ldID0gaHc7CiAJ
fQogCiAJZm9yIChpID0gMDsgaSA8IGRhdGEtPm51bV9zY2s7IGkrKykgewpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2FtOWc0NS5jIGIvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2Ft
OWc0NS5jCmluZGV4IDM4YTdkMmQyZGYwYy4uNWQxOGViMDRjMjE4IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2Nsay9hdDkxL2F0OTFzYW05ZzQ1LmMKKysrIGIvZHJpdmVycy9jbGsvYXQ5MS9hdDkxc2Ft
OWc0NS5jCkBAIC0xMTcsNyArMTE3LDcgQEAgc3RhdGljIHZvaWQgX19pbml0IGF0OTFzYW05ZzQ1
X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCiAJYXQ5MXNhbTlnNDVfcG1jID0g
cG1jX2RhdGFfYWxsb2NhdGUoUE1DX01BSU4gKyAxLAogCQkJCQkgICAgbmNrKGF0OTFzYW05ZzQ1
X3N5c3RlbWNrKSwKLQkJCQkJICAgIG5jayhhdDkxc2FtOWc0NV9wZXJpcGhjayksIDApOworCQkJ
CQkgICAgbmNrKGF0OTFzYW05ZzQ1X3BlcmlwaGNrKSwgMCwgMik7CiAJaWYgKCFhdDkxc2FtOWc0
NV9wbWMpCiAJCXJldHVybjsKIApAQCAtMTgyLDYgKzE4Miw4IEBAIHN0YXRpYyB2b2lkIF9faW5p
dCBhdDkxc2FtOWc0NV9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpucCkKIAkJCQkJCSAg
ICAmYXQ5MXNhbTlnNDVfcHJvZ3JhbW1hYmxlX2xheW91dCk7CiAJCWlmIChJU19FUlIoaHcpKQog
CQkJZ290byBlcnJfZnJlZTsKKworCQlhdDkxc2FtOWc0NV9wbWMtPnBjaHdzW2ldID0gaHc7CiAJ
fQogCiAJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoYXQ5MXNhbTlnNDVfc3lzdGVtY2spOyBp
KyspIHsKQEAgLTIxMCw3ICsyMTIsNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgYXQ5MXNhbTlnNDVf
cG1jX3NldHVwKHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnApCiAJcmV0dXJuOwogCiBlcnJfZnJlZToK
LQlwbWNfZGF0YV9mcmVlKGF0OTFzYW05ZzQ1X3BtYyk7CisJa2ZyZWUoYXQ5MXNhbTlnNDVfcG1j
KTsKIH0KIC8qCiAgKiBUaGUgVENCIGlzIHVzZWQgYXMgdGhlIGNsb2Nrc291cmNlIHNvIGl0cyBj
bG9jayBpcyBuZWVkZWQgZWFybHkuIFRoaXMgbWVhbnMKZGlmZiAtLWdpdCBhL2RyaXZlcnMvY2xr
L2F0OTEvYXQ5MXNhbTluMTIuYyBiL2RyaXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTluMTIuYwppbmRl
eCA4YmIzOWQyYmE4NGIuLjNhMjU2NGMyZjcyNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9jbGsvYXQ5
MS9hdDkxc2FtOW4xMi5jCisrKyBiL2RyaXZlcnMvY2xrL2F0OTEvYXQ5MXNhbTluMTIuYwpAQCAt
MTI5LDcgKzEyOSw3IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBhdDkxc2FtOW4xMl9wbWNfc2V0dXAo
c3RydWN0IGRldmljZV9ub2RlICpucCkKIAkJcmV0dXJuOwogCiAJYXQ5MXNhbTluMTJfcG1jID0g
cG1jX2RhdGFfYWxsb2NhdGUoUE1DX01BSU4gKyAxLAotCQkJCQkgICBuY2soYXQ5MXNhbTluMTJf
c3lzdGVtY2spLCAzMSwgMCk7CisJCQkJCSAgIG5jayhhdDkxc2FtOW4xMl9zeXN0ZW1jayksIDMx
LCAwLCAyKTsKIAlpZiAoIWF0OTFzYW05bjEyX3BtYykKIAkJcmV0dXJuOwogCkBAIC0xOTgsNiAr
MTk4LDggQEAgc3RhdGljIHZvaWQgX19pbml0IGF0OTFzYW05bjEyX3BtY19zZXR1cChzdHJ1Y3Qg
ZGV2aWNlX25vZGUgKm5wKQogCQkJCQkJICAgICZhdDkxc2FtOXg1X3Byb2dyYW1tYWJsZV9sYXlv
dXQpOwogCQlpZiAoSVNfRVJSKGh3KSkKIAkJCWdvdG8gZXJyX2ZyZWU7CisKKwkJYXQ5MXNhbTlu
MTJfcG1jLT5wY2h3c1tpXSA9IGh3OwogCX0KIAogCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpF
KGF0OTFzYW05bjEyX3N5c3RlbWNrKTsgaSsrKSB7CkBAIC0yMjgsNyArMjMwLDcgQEAgc3RhdGlj
IHZvaWQgX19pbml0IGF0OTFzYW05bjEyX3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5w
KQogCXJldHVybjsKIAogZXJyX2ZyZWU6Ci0JcG1jX2RhdGFfZnJlZShhdDkxc2FtOW4xMl9wbWMp
OworCWtmcmVlKGF0OTFzYW05bjEyX3BtYyk7CiB9CiAvKgogICogVGhlIFRDQiBpcyB1c2VkIGFz
IHRoZSBjbG9ja3NvdXJjZSBzbyBpdHMgY2xvY2sgaXMgbmVlZGVkIGVhcmx5LiBUaGlzIG1lYW5z
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05cmwuYyBiL2RyaXZlcnMvY2xr
L2F0OTEvYXQ5MXNhbTlybC5jCmluZGV4IGNjNzM5ZDIxNGFlMy4uYmNmMDdmNmEwZTBlIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05cmwuYworKysgYi9kcml2ZXJzL2Nsay9h
dDkxL2F0OTFzYW05cmwuYwpAQCAtODksNyArODksNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgYXQ5
MXNhbTlybF9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpucCkKIAogCWF0OTFzYW05cmxf
cG1jID0gcG1jX2RhdGFfYWxsb2NhdGUoUE1DX01BSU4gKyAxLAogCQkJCQkgICBuY2soYXQ5MXNh
bTlybF9zeXN0ZW1jayksCi0JCQkJCSAgIG5jayhhdDkxc2FtOXJsX3BlcmlwaGNrKSwgMCk7CisJ
CQkJCSAgIG5jayhhdDkxc2FtOXJsX3BlcmlwaGNrKSwgMCwgMik7CiAJaWYgKCFhdDkxc2FtOXJs
X3BtYykKIAkJcmV0dXJuOwogCkBAIC0xMzgsNiArMTM4LDggQEAgc3RhdGljIHZvaWQgX19pbml0
IGF0OTFzYW05cmxfcG1jX3NldHVwKHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnApCiAJCQkJCQkgICAg
JmF0OTFybTkyMDBfcHJvZ3JhbW1hYmxlX2xheW91dCk7CiAJCWlmIChJU19FUlIoaHcpKQogCQkJ
Z290byBlcnJfZnJlZTsKKworCQlhdDkxc2FtOXJsX3BtYy0+cGNod3NbaV0gPSBodzsKIAl9CiAK
IAlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShhdDkxc2FtOXJsX3N5c3RlbWNrKTsgaSsrKSB7
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05eDUuYyBiL2RyaXZlcnMvY2xr
L2F0OTEvYXQ5MXNhbTl4NS5jCmluZGV4IGFhYzk5ZDY5OTU2OC4uZjEzNzU2YjQwN2UyIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkxL2F0OTFzYW05eDUuYworKysgYi9kcml2ZXJzL2Nsay9h
dDkxL2F0OTFzYW05eDUuYwpAQCAtMTUxLDcgKzE1MSw3IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBh
dDkxc2FtOXg1X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wLAogCQlyZXR1cm47CiAK
IAlhdDkxc2FtOXg1X3BtYyA9IHBtY19kYXRhX2FsbG9jYXRlKFBNQ19NQUlOICsgMSwKLQkJCQkJ
ICAgbmNrKGF0OTFzYW05eDVfc3lzdGVtY2spLCAzMSwgMCk7CisJCQkJCSAgIG5jayhhdDkxc2Ft
OXg1X3N5c3RlbWNrKSwgMzEsIDAsIDIpOwogCWlmICghYXQ5MXNhbTl4NV9wbWMpCiAJCXJldHVy
bjsKIApAQCAtMjI3LDYgKzIyNyw4IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBhdDkxc2FtOXg1X3Bt
Y19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wLAogCQkJCQkJICAgICZhdDkxc2FtOXg1X3By
b2dyYW1tYWJsZV9sYXlvdXQpOwogCQlpZiAoSVNfRVJSKGh3KSkKIAkJCWdvdG8gZXJyX2ZyZWU7
CisKKwkJYXQ5MXNhbTl4NV9wbWMtPnBjaHdzW2ldID0gaHc7CiAJfQogCiAJZm9yIChpID0gMDsg
aSA8IEFSUkFZX1NJWkUoYXQ5MXNhbTl4NV9zeXN0ZW1jayk7IGkrKykgewpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9jbGsvYXQ5MS9wbWMuYyBiL2RyaXZlcnMvY2xrL2F0OTEvcG1jLmMKaW5kZXggYWM0
NmVhMWI5ZmRhLi44YTE1NzdlMmMyZmQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvY2xrL2F0OTEvcG1j
LmMKKysrIGIvZHJpdmVycy9jbGsvYXQ5MS9wbWMuYwpAQCAtNjcsNiArNjcsMTAgQEAgc3RydWN0
IGNsa19odyAqb2ZfY2xrX2h3X3BtY19nZXQoc3RydWN0IG9mX3BoYW5kbGVfYXJncyAqY2xrc3Bl
Yywgdm9pZCAqZGF0YSkKIAkJaWYgKGlkeCA8IHBtY19kYXRhLT5uZ2NrKQogCQkJcmV0dXJuIHBt
Y19kYXRhLT5naHdzW2lkeF07CiAJCWJyZWFrOworCWNhc2UgUE1DX1RZUEVfUFJPR1JBTU1BQkxF
OgorCQlpZiAoaWR4IDwgcG1jX2RhdGEtPm5wY2spCisJCQlyZXR1cm4gcG1jX2RhdGEtPnBjaHdz
W2lkeF07CisJCWJyZWFrOwogCWRlZmF1bHQ6CiAJCWJyZWFrOwogCX0KQEAgLTc3LDkgKzgxLDEw
IEBAIHN0cnVjdCBjbGtfaHcgKm9mX2Nsa19od19wbWNfZ2V0KHN0cnVjdCBvZl9waGFuZGxlX2Fy
Z3MgKmNsa3NwZWMsIHZvaWQgKmRhdGEpCiB9CiAKIHN0cnVjdCBwbWNfZGF0YSAqcG1jX2RhdGFf
YWxsb2NhdGUodW5zaWduZWQgaW50IG5jb3JlLCB1bnNpZ25lZCBpbnQgbnN5c3RlbSwKLQkJCQkg
ICB1bnNpZ25lZCBpbnQgbnBlcmlwaCwgdW5zaWduZWQgaW50IG5nY2spCisJCQkJICAgdW5zaWdu
ZWQgaW50IG5wZXJpcGgsIHVuc2lnbmVkIGludCBuZ2NrLAorCQkJCSAgIHVuc2lnbmVkIGludCBu
cGNrKQogewotCXVuc2lnbmVkIGludCBudW1fY2xrcyA9IG5jb3JlICsgbnN5c3RlbSArIG5wZXJp
cGggKyBuZ2NrOworCXVuc2lnbmVkIGludCBudW1fY2xrcyA9IG5jb3JlICsgbnN5c3RlbSArIG5w
ZXJpcGggKyBuZ2NrICsgbnBjazsKIAlzdHJ1Y3QgcG1jX2RhdGEgKnBtY19kYXRhOwogCiAJcG1j
X2RhdGEgPSBremFsbG9jKHN0cnVjdF9zaXplKHBtY19kYXRhLCBod3RhYmxlLCBudW1fY2xrcyks
CkBAIC05OSw2ICsxMDQsOSBAQCBzdHJ1Y3QgcG1jX2RhdGEgKnBtY19kYXRhX2FsbG9jYXRlKHVu
c2lnbmVkIGludCBuY29yZSwgdW5zaWduZWQgaW50IG5zeXN0ZW0sCiAJcG1jX2RhdGEtPm5nY2sg
PSBuZ2NrOwogCXBtY19kYXRhLT5naHdzID0gcG1jX2RhdGEtPnBod3MgKyBucGVyaXBoOwogCisJ
cG1jX2RhdGEtPm5wY2sgPSBucGNrOworCXBtY19kYXRhLT5wY2h3cyA9IHBtY19kYXRhLT5naHdz
ICsgbmdjazsKKwogCXJldHVybiBwbWNfZGF0YTsKIH0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9j
bGsvYXQ5MS9wbWMuaCBiL2RyaXZlcnMvY2xrL2F0OTEvcG1jLmgKaW5kZXggZmMzZWY3NzJiOWQ5
Li5kZjYxNmYyOTM3ZTcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvY2xrL2F0OTEvcG1jLmgKKysrIGIv
ZHJpdmVycy9jbGsvYXQ5MS9wbWMuaApAQCAtMjQsNiArMjQsOCBAQCBzdHJ1Y3QgcG1jX2RhdGEg
ewogCXN0cnVjdCBjbGtfaHcgKipwaHdzOwogCXVuc2lnbmVkIGludCBuZ2NrOwogCXN0cnVjdCBj
bGtfaHcgKipnaHdzOworCXVuc2lnbmVkIGludCBucGNrOworCXN0cnVjdCBjbGtfaHcgKipwY2h3
czsKIAogCXN0cnVjdCBjbGtfaHcgKmh3dGFibGVbXTsKIH07CkBAIC05Niw3ICs5OCw4IEBAIHN0
cnVjdCBjbGtfcGNyX2xheW91dCB7CiAjZGVmaW5lIG5kY2soYSwgcykgKGFbcyAtIDFdLmlkICsg
MSkKICNkZWZpbmUgbmNrKGEpIChhW0FSUkFZX1NJWkUoYSkgLSAxXS5pZCArIDEpCiBzdHJ1Y3Qg
cG1jX2RhdGEgKnBtY19kYXRhX2FsbG9jYXRlKHVuc2lnbmVkIGludCBuY29yZSwgdW5zaWduZWQg
aW50IG5zeXN0ZW0sCi0JCQkJICAgdW5zaWduZWQgaW50IG5wZXJpcGgsIHVuc2lnbmVkIGludCBu
Z2NrKTsKKwkJCQkgICB1bnNpZ25lZCBpbnQgbnBlcmlwaCwgdW5zaWduZWQgaW50IG5nY2ssCisJ
CQkJICAgdW5zaWduZWQgaW50IG5wY2spOwogCiBpbnQgb2ZfYXQ5MV9nZXRfY2xrX3JhbmdlKHN0
cnVjdCBkZXZpY2Vfbm9kZSAqbnAsIGNvbnN0IGNoYXIgKnByb3BuYW1lLAogCQkJICBzdHJ1Y3Qg
Y2xrX3JhbmdlICpyYW5nZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2Nsay9hdDkxL3NhbTl4NjAu
YyBiL2RyaXZlcnMvY2xrL2F0OTEvc2FtOXg2MC5jCmluZGV4IGE3ZDRmNjQ4ZGIyNi4uZGIxNGUw
NDI3YzdmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2Nsay9hdDkxL3NhbTl4NjAuYworKysgYi9kcml2
ZXJzL2Nsay9hdDkxL3NhbTl4NjAuYwpAQCAtMTg1LDcgKzE4NSw3IEBAIHN0YXRpYyB2b2lkIF9f
aW5pdCBzYW05eDYwX3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCXNhbTl4NjBf
cG1jID0gcG1jX2RhdGFfYWxsb2NhdGUoUE1DX01BSU4gKyAxLAogCQkJCQluY2soc2FtOXg2MF9z
eXN0ZW1jayksCiAJCQkJCW5jayhzYW05eDYwX3BlcmlwaGNrKSwKLQkJCQkJbmNrKHNhbTl4NjBf
Z2NrKSk7CisJCQkJCW5jayhzYW05eDYwX2djayksIDgpOwogCWlmICghc2FtOXg2MF9wbWMpCiAJ
CXJldHVybjsKIApAQCAtMjU1LDYgKzI1NSw4IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBzYW05eDYw
X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCQkJCQkJICAgICZzYW05eDYwX3By
b2dyYW1tYWJsZV9sYXlvdXQpOwogCQlpZiAoSVNfRVJSKGh3KSkKIAkJCWdvdG8gZXJyX2ZyZWU7
CisKKwkJc2FtOXg2MF9wbWMtPnBjaHdzW2ldID0gaHc7CiAJfQogCiAJZm9yIChpID0gMDsgaSA8
IEFSUkFZX1NJWkUoc2FtOXg2MF9zeXN0ZW1jayk7IGkrKykgewpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9jbGsvYXQ5MS9zYW1hNWQyLmMgYi9kcml2ZXJzL2Nsay9hdDkxL3NhbWE1ZDIuYwppbmRleCBi
MjU2MDY3MGU1YWYuLmFlNWU4M2NhZGIzZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9jbGsvYXQ5MS9z
YW1hNWQyLmMKKysrIGIvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQyLmMKQEAgLTE2OSw3ICsxNjks
NyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgc2FtYTVkMl9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9u
b2RlICpucCkKIAlzYW1hNWQyX3BtYyA9IHBtY19kYXRhX2FsbG9jYXRlKFBNQ19JMlMxX01VWCAr
IDEsCiAJCQkJCW5jayhzYW1hNWQyX3N5c3RlbWNrKSwKIAkJCQkJbmNrKHNhbWE1ZDJfcGVyaXBo
MzJjayksCi0JCQkJCW5jayhzYW1hNWQyX2djaykpOworCQkJCQluY2soc2FtYTVkMl9nY2spLCAz
KTsKIAlpZiAoIXNhbWE1ZDJfcG1jKQogCQlyZXR1cm47CiAKQEAgLTI2Nyw2ICsyNjcsOCBAQCBz
dGF0aWMgdm9pZCBfX2luaXQgc2FtYTVkMl9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpu
cCkKIAkJCQkJCSAgICAmc2FtYTVkMl9wcm9ncmFtbWFibGVfbGF5b3V0KTsKIAkJaWYgKElTX0VS
UihodykpCiAJCQlnb3RvIGVycl9mcmVlOworCisJCXNhbWE1ZDJfcG1jLT5wY2h3c1tpXSA9IGh3
OwogCX0KIAogCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKHNhbWE1ZDJfc3lzdGVtY2spOyBp
KyspIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvY2xrL2F0OTEvc2FtYTVkMy5jIGIvZHJpdmVycy9j
bGsvYXQ5MS9zYW1hNWQzLmMKaW5kZXggODg1MDZmOTA5YzA4Li41MDdlZWY2Nzk3ZjEgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvY2xrL2F0OTEvc2FtYTVkMy5jCisrKyBiL2RyaXZlcnMvY2xrL2F0OTEv
c2FtYTVkMy5jCkBAIC0xMjcsNyArMTI3LDcgQEAgc3RhdGljIHZvaWQgX19pbml0IHNhbWE1ZDNf
cG1jX3NldHVwKHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnApCiAKIAlzYW1hNWQzX3BtYyA9IHBtY19k
YXRhX2FsbG9jYXRlKFBNQ19NQUlOICsgMSwKIAkJCQkJbmNrKHNhbWE1ZDNfc3lzdGVtY2spLAot
CQkJCQluY2soc2FtYTVkM19wZXJpcGhjayksIDApOworCQkJCQluY2soc2FtYTVkM19wZXJpcGhj
ayksIDAsIDMpOwogCWlmICghc2FtYTVkM19wbWMpCiAJCXJldHVybjsKIApAQCAtMjAxLDYgKzIw
MSw4IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBzYW1hNWQzX3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNl
X25vZGUgKm5wKQogCQkJCQkJICAgICZhdDkxc2FtOXg1X3Byb2dyYW1tYWJsZV9sYXlvdXQpOwog
CQlpZiAoSVNfRVJSKGh3KSkKIAkJCWdvdG8gZXJyX2ZyZWU7CisKKwkJc2FtYTVkM19wbWMtPnBj
aHdzW2ldID0gaHc7CiAJfQogCiAJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoc2FtYTVkM19z
eXN0ZW1jayk7IGkrKykgewpAQCAtMjMxLDcgKzIzMyw3IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBz
YW1hNWQzX3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCXJldHVybjsKIAogZXJy
X2ZyZWU6Ci0JcG1jX2RhdGFfZnJlZShzYW1hNWQzX3BtYyk7CisJa2ZyZWUoc2FtYTVkM19wbWMp
OwogfQogLyoKICAqIFRoZSBUQ0IgaXMgdXNlZCBhcyB0aGUgY2xvY2tzb3VyY2Ugc28gaXRzIGNs
b2NrIGlzIG5lZWRlZCBlYXJseS4gVGhpcyBtZWFucwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9jbGsv
YXQ5MS9zYW1hNWQ0LmMgYi9kcml2ZXJzL2Nsay9hdDkxL3NhbWE1ZDQuYwppbmRleCA0Y2E5YTQ2
MTk1MDAuLjgwNjkyOTAyYjRlNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQ0
LmMKKysrIGIvZHJpdmVycy9jbGsvYXQ5MS9zYW1hNWQ0LmMKQEAgLTE0Miw3ICsxNDIsNyBAQCBz
dGF0aWMgdm9pZCBfX2luaXQgc2FtYTVkNF9wbWNfc2V0dXAoc3RydWN0IGRldmljZV9ub2RlICpu
cCkKIAogCXNhbWE1ZDRfcG1jID0gcG1jX2RhdGFfYWxsb2NhdGUoUE1DX01DSzIgKyAxLAogCQkJ
CQluY2soc2FtYTVkNF9zeXN0ZW1jayksCi0JCQkJCW5jayhzYW1hNWQ0X3BlcmlwaDMyY2spLCAw
KTsKKwkJCQkJbmNrKHNhbWE1ZDRfcGVyaXBoMzJjayksIDAsIDMpOwogCWlmICghc2FtYTVkNF9w
bWMpCiAJCXJldHVybjsKIApAQCAtMjI0LDYgKzIyNCw4IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBz
YW1hNWQ0X3BtY19zZXR1cChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQogCQkJCQkJICAgICZhdDkx
c2FtOXg1X3Byb2dyYW1tYWJsZV9sYXlvdXQpOwogCQlpZiAoSVNfRVJSKGh3KSkKIAkJCWdvdG8g
ZXJyX2ZyZWU7CisKKwkJc2FtYTVkNF9wbWMtPnBjaHdzW2ldID0gaHc7CiAJfQogCiAJZm9yIChp
ID0gMDsgaSA8IEFSUkFZX1NJWkUoc2FtYTVkNF9zeXN0ZW1jayk7IGkrKykgewpkaWZmIC0tZ2l0
IGEvaW5jbHVkZS9kdC1iaW5kaW5ncy9jbG9jay9hdDkxLmggYi9pbmNsdWRlL2R0LWJpbmRpbmdz
L2Nsb2NrL2F0OTEuaAppbmRleCAzOGI1NTU0MTUzYzguLmMzZjRhYTZhMmQyOSAxMDA2NDQKLS0t
IGEvaW5jbHVkZS9kdC1iaW5kaW5ncy9jbG9jay9hdDkxLmgKKysrIGIvaW5jbHVkZS9kdC1iaW5k
aW5ncy9jbG9jay9hdDkxLmgKQEAgLTEyLDYgKzEyLDcgQEAKICNkZWZpbmUgUE1DX1RZUEVfU1lT
VEVNCQkxCiAjZGVmaW5lIFBNQ19UWVBFX1BFUklQSEVSQUwJMgogI2RlZmluZSBQTUNfVFlQRV9H
Q0sJCTMKKyNkZWZpbmUgUE1DX1RZUEVfUFJPR1JBTU1BQkxFCTQKIAogI2RlZmluZSBQTUNfU0xP
VwkJMAogI2RlZmluZSBQTUNfTUNLCQkJMQotLSAKMi4yMC4xCgoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KbGludXgtYXJtLWtlcm5lbCBtYWlsaW5nIGxp
c3QKbGludXgtYXJtLWtlcm5lbEBsaXN0cy5pbmZyYWRlYWQub3JnCmh0dHA6Ly9saXN0cy5pbmZy
YWRlYWQub3JnL21haWxtYW4vbGlzdGluZm8vbGludXgtYXJtLWtlcm5lbAo=
