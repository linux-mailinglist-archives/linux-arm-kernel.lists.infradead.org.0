Return-Path: <linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org>
X-Original-To: lists+linux-arm-kernel@lfdr.de
Delivered-To: lists+linux-arm-kernel@lfdr.de
Received: from bombadil.infradead.org (bombadil.infradead.org [IPv6:2607:7c80:54:e::133])
	by mail.lfdr.de (Postfix) with ESMTPS id 64D0575237
	for <lists+linux-arm-kernel@lfdr.de>; Thu, 25 Jul 2019 17:10:02 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.infradead.org; s=bombadil.20170209; h=Sender:
	Content-Transfer-Encoding:Content-Type:Cc:Reply-To:List-Subscribe:List-Help:
	List-Post:List-Archive:List-Unsubscribe:List-Id:To:Subject:Message-ID:Date:
	From:In-Reply-To:References:MIME-Version:Content-ID:Content-Description:
	Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:
	List-Owner; bh=4t2hbnh21Jofan1JgCUgdR4/9tB6dxxf0iYsbSAtW9k=; b=gpcEOPE/7JzKLi
	hkVD99suuVwM11DBz3z6FuRtXTKbTNRUdv7X6R5Fv0HvF43T4qwN4gWfywSNJJ6ZfizG8hOEBPACB
	d4G3cqMhSJV6/tOdFB1nOCeECl2vuDqEt4zy1t3UtW5Msxp+XBJEIdqPylJWPGvhmg4q/fOYyOng4
	JSzlQp72FM69GMMOuUn6LozbIsosC2kq5nuQHdDe6XFNYLnvDn8I9peidKRyhTMR8q1P5U7vjEBOh
	aKZpRLr77QsDxzgLiKCJF7C6hpWB0PV6MaYKZfLuw7zRiVfE4WIN7HN08GW8eb7lrCGWc1FA4Cq10
	1eJ2V9c/QRWmYuRfXOiw==;
Received: from localhost ([127.0.0.1] helo=bombadil.infradead.org)
	by bombadil.infradead.org with esmtp (Exim 4.92 #3 (Red Hat Linux))
	id 1hqfNY-0000Mx-FM; Thu, 25 Jul 2019 15:10:00 +0000
Received: from mail-lj1-x242.google.com ([2a00:1450:4864:20::242])
 by bombadil.infradead.org with esmtps (Exim 4.92 #3 (Red Hat Linux))
 id 1hqfN2-0000Ew-Hv
 for linux-arm-kernel@lists.infradead.org; Thu, 25 Jul 2019 15:09:32 +0000
Received: by mail-lj1-x242.google.com with SMTP id r9so48351660ljg.5
 for <linux-arm-kernel@lists.infradead.org>;
 Thu, 25 Jul 2019 08:09:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:reply-to:from:date:message-id
 :subject:to:cc:content-transfer-encoding;
 bh=Y+eJajceumWagQcCSqBxOTMOFgrrQn+hw2lf0/g1oP8=;
 b=gBRocWq2/NUnee8b0QkAGYEO4ueGQHbX9I1x0xQWr1sP6PLnoxaVfGV3dxKOWN5/9b
 ze+fHnzdOL3zFfdFDQBNNRNTGbK+z34tRW/YQvX658epAbdbEGXgIkqSIXOLURWs1IT/
 LmuzCJRucpuEhtdg+X632qrM3Dt6cbJKgixY1FbNilQk7SwNpAxHo0Sq9bnEY00wOepE
 AIJH6t7eLtdEiI2Tq3N/h0QCaYPWvWynVqk0c7ll8/kxfm6urIkXB7saQzU4U51Fmc/I
 jIsBjqE4Rp8YjMremVTHqOG/2WIFS8g6Ma1jpefMCfclwGhsS89xoNWGcn5kLBkO/Qpm
 0mhw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:reply-to
 :from:date:message-id:subject:to:cc:content-transfer-encoding;
 bh=Y+eJajceumWagQcCSqBxOTMOFgrrQn+hw2lf0/g1oP8=;
 b=AQX0pujWh6OGqdR3lVTlgyLtDcHIWkgzcB4kyXDZxj88DSybS+VDAW0bK3bA84sd0/
 a8gfYOcSpzOmXrDDj5tQa6K5wVCuNvsDZncbh5HbvP4JcVU6uJyYL1OyJGYxC9LNh/n+
 rN2IUfR6pvMwgmQGSx8Aahj9AGcDlV7kkDhdmOrm+Qa45hUEm3Ng35+ZqB7PjLrzLpIT
 hA4KEMlwoPXRGmVooMqn7+L93YDSWUSm34lD3fn/Mp0dK6cFhdFqmRa9Sovd3dEEEnu9
 blKoj9Z6+DoEEZBkx4I/uXiGQekYAwfvxAf+XhYyFS6o5Y/hqLb3J08fdsuJ0X+zNKAH
 KLAQ==
X-Gm-Message-State: APjAAAW5KInx3Nq0un7VOPFGGyACBRUJiKP3i9QyzekQJisCrHB3brAH
 MNUUes2fxIxqd/73ETTJFQWocMRAw3uwpHvKtNs=
X-Google-Smtp-Source: APXvYqze8nEx1rjyRpsS4H7VCKUJcOm2NxH+7YOg6KfWr0oSCs2HjSQHvFmw0bIak1sJPdk+biDtr6/9NKfkITEkvCQ=
X-Received: by 2002:a2e:3008:: with SMTP id w8mr47283914ljw.13.1564067366432; 
 Thu, 25 Jul 2019 08:09:26 -0700 (PDT)
MIME-Version: 1.0
References: <CGME20190725144325eucas1p204f9ffe8988a3604fdf21f77d242c7b8@eucas1p2.samsung.com>
 <20190725144300.25014-1-k.konieczny@partner.samsung.com>
 <20190725144300.25014-3-k.konieczny@partner.samsung.com>
In-Reply-To: <20190725144300.25014-3-k.konieczny@partner.samsung.com>
From: Chanwoo Choi <cwchoi00@gmail.com>
Date: Fri, 26 Jul 2019 00:08:49 +0900
Message-ID: <CAGTfZH2K8QjTH3W+aiurUqpx1EENx-3R_=RWMwbQLTPX5qtszQ@mail.gmail.com>
Subject: Re: [PATCH v4 2/5] devfreq: exynos-bus: convert to use
 dev_pm_opp_set_rate()
To: Kamil Konieczny <k.konieczny@partner.samsung.com>
X-CRM114-Version: 20100106-BlameMichelson ( TRE 0.8.0 (BSD) ) MR-646709E3 
X-CRM114-CacheID: sfid-20190725_080928_835443_79BFE90A 
X-CRM114-Status: GOOD (  26.62  )
X-Spam-Score: 0.3 (/)
X-Spam-Report: SpamAssassin version 3.4.2 on bombadil.infradead.org summary:
 Content analysis details:   (0.3 points)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.0 RCVD_IN_DNSWL_NONE     RBL: Sender listed at https://www.dnswl.org/,
 no trust [2a00:1450:4864:20:0:0:0:242 listed in]
 [list.dnswl.org]
 0.2 FREEMAIL_ENVFROM_END_DIGIT Envelope-from freemail username ends
 in digit (cwchoi00[at]gmail.com)
 0.2 FREEMAIL_REPLYTO_END_DIGIT Reply-To freemail username ends in
 digit (cwchoi00[at]gmail.com)
 -0.0 SPF_PASS               SPF: sender matches SPF record
 0.0 SPF_HELO_NONE          SPF: HELO does not publish an SPF Record
 0.0 FREEMAIL_FROM          Sender email is commonly abused enduser mail
 provider (cwchoi00[at]gmail.com)
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
 -0.1 DKIM_VALID_AU          Message has a valid DKIM or DK signature from
 author's domain
 -0.1 DKIM_VALID_EF          Message has a valid DKIM or DK signature from
 envelope-from domain
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily
 valid
X-BeenThere: linux-arm-kernel@lists.infradead.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <linux-arm-kernel.lists.infradead.org>
List-Unsubscribe: <http://lists.infradead.org/mailman/options/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=unsubscribe>
List-Archive: <http://lists.infradead.org/pipermail/linux-arm-kernel/>
List-Post: <mailto:linux-arm-kernel@lists.infradead.org>
List-Help: <mailto:linux-arm-kernel-request@lists.infradead.org?subject=help>
List-Subscribe: <http://lists.infradead.org/mailman/listinfo/linux-arm-kernel>, 
 <mailto:linux-arm-kernel-request@lists.infradead.org?subject=subscribe>
Reply-To: cwchoi00@gmail.com
Cc: Mark Rutland <mark.rutland@arm.com>, Nishanth Menon <nm@ti.com>,
 linux-samsung-soc <linux-samsung-soc@vger.kernel.org>,
 Rob Herring <robh+dt@kernel.org>,
 linux-arm-kernel <linux-arm-kernel@lists.infradead.org>,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>,
 Stephen Boyd <sboyd@kernel.org>, Viresh Kumar <vireshk@kernel.org>,
 Linux PM list <linux-pm@vger.kernel.org>,
 linux-kernel <linux-kernel@vger.kernel.org>,
 Krzysztof Kozlowski <krzk@kernel.org>, Chanwoo Choi <cw00.choi@samsung.com>,
 Kyungmin Park <kyungmin.park@samsung.com>, Kukjin Kim <kgene@kernel.org>,
 MyungJoo Ham <myungjoo.ham@samsung.com>,
 devicetree <devicetree@vger.kernel.org>,
 Marek Szyprowski <m.szyprowski@samsung.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: "linux-arm-kernel" <linux-arm-kernel-bounces@lists.infradead.org>
Errors-To: linux-arm-kernel-bounces+lists+linux-arm-kernel=lfdr.de@lists.infradead.org

SGksCgpUaGlzIHBhdGNoIGhhcyB0aGUgc2FtZSBwcm9ibGVtIGFzIEkgbWVudGlvbmVkIG9uIHYz
LgpXZSBuZWVkIHRvIGRpc2N1c3MgaXQgb24gdjNbMV0uIFBsZWFzZSBjaGVjayBteSByZXBseS4K
WzFdIFtQQVRDSCB2MyAzLzVdIGRldmZyZXE6IGV4eW5vcy1idXM6IGNvbnZlcnQgdG8gdXNlIGRl
dl9wbV9vcHBfc2V0X3JhdGUoKQoKMjAxOeuFhCA37JuUIDI17J28ICjrqqkpIOyYpO2bhCAxMTo0
NiwgPGsua29uaWVjem55QHBhcnRuZXIuc2Ftc3VuZy5jb20+64uY7J20IOyekeyEsToKPgo+IFJl
dXNlIG9wcCBjb3JlIGNvZGUgZm9yIHNldHRpbmcgYnVzIGNsb2NrIGFuZCB2b2x0YWdlLiBBcyBh
IHNpZGUKPiBlZmZlY3QgdGhpcyBhbGxvdyB1c2FnZSBvZiBjb3VwbGVkIHJlZ3VsYXRvcnMgZmVh
dHVyZSAocmVxdWlyZWQKPiBmb3IgYm9hcmRzIHVzaW5nIEV4eW5vczU0MjIvNTgwMCBTb0NzKSBi
ZWNhdXNlIGRldl9wbV9vcHBfc2V0X3JhdGUoKQo+IHVzZXMgcmVndWxhdG9yX3NldF92b2x0YWdl
X3RyaXBsZXQoKSBmb3Igc2V0dGluZyByZWd1bGF0b3Igdm9sdGFnZQo+IHdoaWxlIHRoZSBvbGQg
Y29kZSB1c2VkIHJlZ3VsYXRvcl9zZXRfdm9sdGFnZV90b2woKSB3aXRoIGZpeGVkCj4gdG9sZXJh
bmNlLiBUaGlzIHBhdGNoIGFsc28gcmVtb3ZlcyBubyBsb25nZXIgbmVlZGVkIHBhcnNpbmcgb2Yg
RFQKPiBwcm9wZXJ0eSAiZXh5bm9zLHZvbHRhZ2UtdG9sZXJhbmNlIiAobm8gRXh5bm9zIGRldmZy
ZXEgRFQgbm9kZSB1c2VzCj4gaXQpLgo+Cj4gU2lnbmVkLW9mZi1ieTogS2FtaWwgS29uaWVjem55
IDxrLmtvbmllY3pueUBwYXJ0bmVyLnNhbXN1bmcuY29tPgo+IC0tLQo+IENoYW5nZXM6Cj4gdjQ6
Cj4gLSByZW1vdmUgdW5yZWxhdGVkIGNoYW5nZXMsIGFkZCBuZXdsaW5lIGJlZm9yZSBjb21tZW50
Cj4KPiAtLS0KPiAgZHJpdmVycy9kZXZmcmVxL2V4eW5vcy1idXMuYyB8IDEwOCArKysrKysrKyst
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+ICAxIGZpbGUgY2hhbmdlZCwgMjggaW5zZXJ0aW9u
cygrKSwgODAgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9kZXZmcmVxL2V4
eW5vcy1idXMuYyBiL2RyaXZlcnMvZGV2ZnJlcS9leHlub3MtYnVzLmMKPiBpbmRleCBmMzRmYTI2
ZjAwZDAuLmViYjhmNDYzMTJiNiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2RldmZyZXEvZXh5bm9z
LWJ1cy5jCj4gKysrIGIvZHJpdmVycy9kZXZmcmVxL2V4eW5vcy1idXMuYwo+IEBAIC0yNSw3ICsy
NSw2IEBACj4gICNpbmNsdWRlIDxsaW51eC9zbGFiLmg+Cj4KPiAgI2RlZmluZSBERUZBVUxUX1NB
VFVSQVRJT05fUkFUSU8gICAgICAgNDAKPiAtI2RlZmluZSBERUZBVUxUX1ZPTFRBR0VfVE9MRVJB
TkNFICAgICAgMgo+Cj4gIHN0cnVjdCBleHlub3NfYnVzIHsKPiAgICAgICAgIHN0cnVjdCBkZXZp
Y2UgKmRldjsKPiBAQCAtMzcsOSArMzYsOCBAQCBzdHJ1Y3QgZXh5bm9zX2J1cyB7Cj4KPiAgICAg
ICAgIHVuc2lnbmVkIGxvbmcgY3Vycl9mcmVxOwo+Cj4gLSAgICAgICBzdHJ1Y3QgcmVndWxhdG9y
ICpyZWd1bGF0b3I7Cj4gKyAgICAgICBzdHJ1Y3Qgb3BwX3RhYmxlICpvcHBfdGFibGU7Cj4gICAg
ICAgICBzdHJ1Y3QgY2xrICpjbGs7Cj4gLSAgICAgICB1bnNpZ25lZCBpbnQgdm9sdGFnZV90b2xl
cmFuY2U7Cj4gICAgICAgICB1bnNpZ25lZCBpbnQgcmF0aW87Cj4gIH07Cj4KPiBAQCAtOTksNTYg
Kzk3LDIzIEBAIHN0YXRpYyBpbnQgZXh5bm9zX2J1c190YXJnZXQoc3RydWN0IGRldmljZSAqZGV2
LCB1bnNpZ25lZCBsb25nICpmcmVxLCB1MzIgZmxhZ3MpCj4gIHsKPiAgICAgICAgIHN0cnVjdCBl
eHlub3NfYnVzICpidXMgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKPiAgICAgICAgIHN0cnVjdCBk
ZXZfcG1fb3BwICpuZXdfb3BwOwo+IC0gICAgICAgdW5zaWduZWQgbG9uZyBvbGRfZnJlcSwgbmV3
X2ZyZXEsIG5ld192b2x0LCB0b2w7Cj4gICAgICAgICBpbnQgcmV0ID0gMDsKPgo+IC0gICAgICAg
LyogR2V0IG5ldyBvcHAtYnVzIGluc3RhbmNlIGFjY29yZGluZyB0byBuZXcgYnVzIGNsb2NrICov
Cj4gKyAgICAgICAvKiBHZXQgY29ycmVjdCBmcmVxdWVuY3kgZm9yIGJ1cy4gKi8KPiAgICAgICAg
IG5ld19vcHAgPSBkZXZmcmVxX3JlY29tbWVuZGVkX29wcChkZXYsIGZyZXEsIGZsYWdzKTsKPiAg
ICAgICAgIGlmIChJU19FUlIobmV3X29wcCkpIHsKPiAgICAgICAgICAgICAgICAgZGV2X2Vycihk
ZXYsICJmYWlsZWQgdG8gZ2V0IHJlY29tbWVuZGVkIG9wcCBpbnN0YW5jZVxuIik7Cj4gICAgICAg
ICAgICAgICAgIHJldHVybiBQVFJfRVJSKG5ld19vcHApOwo+ICAgICAgICAgfQo+Cj4gLSAgICAg
ICBuZXdfZnJlcSA9IGRldl9wbV9vcHBfZ2V0X2ZyZXEobmV3X29wcCk7Cj4gLSAgICAgICBuZXdf
dm9sdCA9IGRldl9wbV9vcHBfZ2V0X3ZvbHRhZ2UobmV3X29wcCk7Cj4gICAgICAgICBkZXZfcG1f
b3BwX3B1dChuZXdfb3BwKTsKPgo+IC0gICAgICAgb2xkX2ZyZXEgPSBidXMtPmN1cnJfZnJlcTsK
PiAtCj4gLSAgICAgICBpZiAob2xkX2ZyZXEgPT0gbmV3X2ZyZXEpCj4gLSAgICAgICAgICAgICAg
IHJldHVybiAwOwo+IC0gICAgICAgdG9sID0gbmV3X3ZvbHQgKiBidXMtPnZvbHRhZ2VfdG9sZXJh
bmNlIC8gMTAwOwo+IC0KPiAgICAgICAgIC8qIENoYW5nZSB2b2x0YWdlIGFuZCBmcmVxdWVuY3kg
YWNjb3JkaW5nIHRvIG5ldyBPUFAgbGV2ZWwgKi8KPiAgICAgICAgIG11dGV4X2xvY2soJmJ1cy0+
bG9jayk7Cj4gKyAgICAgICByZXQgPSBkZXZfcG1fb3BwX3NldF9yYXRlKGRldiwgKmZyZXEpOwo+
ICsgICAgICAgaWYgKCFyZXQpCj4gKyAgICAgICAgICAgICAgIGJ1cy0+Y3Vycl9mcmVxID0gKmZy
ZXE7Cj4KPiAtICAgICAgIGlmIChvbGRfZnJlcSA8IG5ld19mcmVxKSB7Cj4gLSAgICAgICAgICAg
ICAgIHJldCA9IHJlZ3VsYXRvcl9zZXRfdm9sdGFnZV90b2woYnVzLT5yZWd1bGF0b3IsIG5ld192
b2x0LCB0b2wpOwo+IC0gICAgICAgICAgICAgICBpZiAocmV0IDwgMCkgewo+IC0gICAgICAgICAg
ICAgICAgICAgICAgIGRldl9lcnIoYnVzLT5kZXYsICJmYWlsZWQgdG8gc2V0IHZvbHRhZ2VcbiIp
Owo+IC0gICAgICAgICAgICAgICAgICAgICAgIGdvdG8gb3V0Owo+IC0gICAgICAgICAgICAgICB9
Cj4gLSAgICAgICB9Cj4gLQo+IC0gICAgICAgcmV0ID0gY2xrX3NldF9yYXRlKGJ1cy0+Y2xrLCBu
ZXdfZnJlcSk7Cj4gLSAgICAgICBpZiAocmV0IDwgMCkgewo+IC0gICAgICAgICAgICAgICBkZXZf
ZXJyKGRldiwgImZhaWxlZCB0byBjaGFuZ2UgY2xvY2sgb2YgYnVzXG4iKTsKPiAtICAgICAgICAg
ICAgICAgY2xrX3NldF9yYXRlKGJ1cy0+Y2xrLCBvbGRfZnJlcSk7Cj4gLSAgICAgICAgICAgICAg
IGdvdG8gb3V0Owo+IC0gICAgICAgfQo+IC0KPiAtICAgICAgIGlmIChvbGRfZnJlcSA+IG5ld19m
cmVxKSB7Cj4gLSAgICAgICAgICAgICAgIHJldCA9IHJlZ3VsYXRvcl9zZXRfdm9sdGFnZV90b2wo
YnVzLT5yZWd1bGF0b3IsIG5ld192b2x0LCB0b2wpOwo+IC0gICAgICAgICAgICAgICBpZiAocmV0
IDwgMCkgewo+IC0gICAgICAgICAgICAgICAgICAgICAgIGRldl9lcnIoYnVzLT5kZXYsICJmYWls
ZWQgdG8gc2V0IHZvbHRhZ2VcbiIpOwo+IC0gICAgICAgICAgICAgICAgICAgICAgIGdvdG8gb3V0
Owo+IC0gICAgICAgICAgICAgICB9Cj4gLSAgICAgICB9Cj4gLSAgICAgICBidXMtPmN1cnJfZnJl
cSA9IG5ld19mcmVxOwo+IC0KPiAtICAgICAgIGRldl9kYmcoZGV2LCAiU2V0IHRoZSBmcmVxdWVu
Y3kgb2YgYnVzICglbHVIeiAtPiAlbHVIeiwgJWx1SHopXG4iLAo+IC0gICAgICAgICAgICAgICAg
ICAgICAgIG9sZF9mcmVxLCBuZXdfZnJlcSwgY2xrX2dldF9yYXRlKGJ1cy0+Y2xrKSk7Cj4gLW91
dDoKPiAgICAgICAgIG11dGV4X3VubG9jaygmYnVzLT5sb2NrKTsKPgo+ICAgICAgICAgcmV0dXJu
IHJldDsKPiBAQCAtMTk2LDggKzE2MSwxMCBAQCBzdGF0aWMgdm9pZCBleHlub3NfYnVzX2V4aXQo
c3RydWN0IGRldmljZSAqZGV2KQo+Cj4gICAgICAgICBkZXZfcG1fb3BwX29mX3JlbW92ZV90YWJs
ZShkZXYpOwo+ICAgICAgICAgY2xrX2Rpc2FibGVfdW5wcmVwYXJlKGJ1cy0+Y2xrKTsKPiAtICAg
ICAgIGlmIChidXMtPnJlZ3VsYXRvcikKPiAtICAgICAgICAgICAgICAgcmVndWxhdG9yX2Rpc2Fi
bGUoYnVzLT5yZWd1bGF0b3IpOwo+ICsgICAgICAgaWYgKGJ1cy0+b3BwX3RhYmxlKSB7Cj4gKyAg
ICAgICAgICAgICAgIGRldl9wbV9vcHBfcHV0X3JlZ3VsYXRvcnMoYnVzLT5vcHBfdGFibGUpOwo+
ICsgICAgICAgICAgICAgICBidXMtPm9wcF90YWJsZSA9IE5VTEw7Cj4gKyAgICAgICB9Cj4gIH0K
Pgo+ICAvKgo+IEBAIC0yMDgsMzkgKzE3NSwyMyBAQCBzdGF0aWMgaW50IGV4eW5vc19idXNfcGFz
c2l2ZV90YXJnZXQoc3RydWN0IGRldmljZSAqZGV2LCB1bnNpZ25lZCBsb25nICpmcmVxLAo+ICB7
Cj4gICAgICAgICBzdHJ1Y3QgZXh5bm9zX2J1cyAqYnVzID0gZGV2X2dldF9kcnZkYXRhKGRldik7
Cj4gICAgICAgICBzdHJ1Y3QgZGV2X3BtX29wcCAqbmV3X29wcDsKPiAtICAgICAgIHVuc2lnbmVk
IGxvbmcgb2xkX2ZyZXEsIG5ld19mcmVxOwo+IC0gICAgICAgaW50IHJldCA9IDA7Cj4gKyAgICAg
ICBpbnQgcmV0Owo+Cj4gLSAgICAgICAvKiBHZXQgbmV3IG9wcC1idXMgaW5zdGFuY2UgYWNjb3Jk
aW5nIHRvIG5ldyBidXMgY2xvY2sgKi8KPiArICAgICAgIC8qIEdldCBjb3JyZWN0IGZyZXF1ZW5j
eSBmb3IgYnVzLiAqLwo+ICAgICAgICAgbmV3X29wcCA9IGRldmZyZXFfcmVjb21tZW5kZWRfb3Bw
KGRldiwgZnJlcSwgZmxhZ3MpOwo+ICAgICAgICAgaWYgKElTX0VSUihuZXdfb3BwKSkgewo+ICAg
ICAgICAgICAgICAgICBkZXZfZXJyKGRldiwgImZhaWxlZCB0byBnZXQgcmVjb21tZW5kZWQgb3Bw
IGluc3RhbmNlXG4iKTsKPiAgICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIobmV3X29wcCk7
Cj4gICAgICAgICB9Cj4KPiAtICAgICAgIG5ld19mcmVxID0gZGV2X3BtX29wcF9nZXRfZnJlcShu
ZXdfb3BwKTsKPiAgICAgICAgIGRldl9wbV9vcHBfcHV0KG5ld19vcHApOwo+Cj4gLSAgICAgICBv
bGRfZnJlcSA9IGJ1cy0+Y3Vycl9mcmVxOwo+IC0KPiAtICAgICAgIGlmIChvbGRfZnJlcSA9PSBu
ZXdfZnJlcSkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gLQo+ICAgICAgICAgLyogQ2hh
bmdlIHRoZSBmcmVxdWVuY3kgYWNjb3JkaW5nIHRvIG5ldyBPUFAgbGV2ZWwgKi8KPiAgICAgICAg
IG11dGV4X2xvY2soJmJ1cy0+bG9jayk7Cj4gKyAgICAgICByZXQgPSBkZXZfcG1fb3BwX3NldF9y
YXRlKGRldiwgKmZyZXEpOwo+ICsgICAgICAgaWYgKCFyZXQpCj4gKyAgICAgICAgICAgICAgIGJ1
cy0+Y3Vycl9mcmVxID0gKmZyZXE7Cj4KPiAtICAgICAgIHJldCA9IGNsa19zZXRfcmF0ZShidXMt
PmNsaywgbmV3X2ZyZXEpOwo+IC0gICAgICAgaWYgKHJldCA8IDApIHsKPiAtICAgICAgICAgICAg
ICAgZGV2X2VycihkZXYsICJmYWlsZWQgdG8gc2V0IHRoZSBjbG9jayBvZiBidXNcbiIpOwo+IC0g
ICAgICAgICAgICAgICBnb3RvIG91dDsKPiAtICAgICAgIH0KPiAtCj4gLSAgICAgICAqZnJlcSA9
IG5ld19mcmVxOwo+IC0gICAgICAgYnVzLT5jdXJyX2ZyZXEgPSBuZXdfZnJlcTsKPiAtCj4gLSAg
ICAgICBkZXZfZGJnKGRldiwgIlNldCB0aGUgZnJlcXVlbmN5IG9mIGJ1cyAoJWx1SHogLT4gJWx1
SHosICVsdUh6KVxuIiwKPiAtICAgICAgICAgICAgICAgICAgICAgICBvbGRfZnJlcSwgbmV3X2Zy
ZXEsIGNsa19nZXRfcmF0ZShidXMtPmNsaykpOwo+IC1vdXQ6Cj4gICAgICAgICBtdXRleF91bmxv
Y2soJmJ1cy0+bG9jayk7Cj4KPiAgICAgICAgIHJldHVybiByZXQ7Cj4gQEAgLTI1OCwyMSArMjA5
LDE5IEBAIHN0YXRpYyBpbnQgZXh5bm9zX2J1c19wYXJlbnRfcGFyc2Vfb2Yoc3RydWN0IGRldmlj
ZV9ub2RlICpucCwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ry
dWN0IGV4eW5vc19idXMgKmJ1cykKPiAgewo+ICAgICAgICAgc3RydWN0IGRldmljZSAqZGV2ID0g
YnVzLT5kZXY7Cj4gKyAgICAgICBzdHJ1Y3Qgb3BwX3RhYmxlICpvcHBfdGFibGU7Cj4gKyAgICAg
ICBjb25zdCBjaGFyICp2ZGQgPSAidmRkIjsKPiAgICAgICAgIGludCBpLCByZXQsIGNvdW50LCBz
aXplOwo+Cj4gLSAgICAgICAvKiBHZXQgdGhlIHJlZ3VsYXRvciB0byBwcm92aWRlIGVhY2ggYnVz
IHdpdGggdGhlIHBvd2VyICovCj4gLSAgICAgICBidXMtPnJlZ3VsYXRvciA9IGRldm1fcmVndWxh
dG9yX2dldChkZXYsICJ2ZGQiKTsKPiAtICAgICAgIGlmIChJU19FUlIoYnVzLT5yZWd1bGF0b3Ip
KSB7Cj4gLSAgICAgICAgICAgICAgIGRldl9lcnIoZGV2LCAiZmFpbGVkIHRvIGdldCBWREQgcmVn
dWxhdG9yXG4iKTsKPiAtICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIoYnVzLT5yZWd1bGF0
b3IpOwo+IC0gICAgICAgfQo+IC0KPiAtICAgICAgIHJldCA9IHJlZ3VsYXRvcl9lbmFibGUoYnVz
LT5yZWd1bGF0b3IpOwo+IC0gICAgICAgaWYgKHJldCA8IDApIHsKPiAtICAgICAgICAgICAgICAg
ZGV2X2VycihkZXYsICJmYWlsZWQgdG8gZW5hYmxlIFZERCByZWd1bGF0b3JcbiIpOwo+ICsgICAg
ICAgb3BwX3RhYmxlID0gZGV2X3BtX29wcF9zZXRfcmVndWxhdG9ycyhkZXYsICZ2ZGQsIDEpOwo+
ICsgICAgICAgaWYgKElTX0VSUihvcHBfdGFibGUpKSB7Cj4gKyAgICAgICAgICAgICAgIHJldCA9
IFBUUl9FUlIob3BwX3RhYmxlKTsKPiArICAgICAgICAgICAgICAgZGV2X2VycihkZXYsICJmYWls
ZWQgdG8gc2V0IHJlZ3VsYXRvcnMgJWRcbiIsIHJldCk7Cj4gICAgICAgICAgICAgICAgIHJldHVy
biByZXQ7Cj4gICAgICAgICB9Cj4KPiArICAgICAgIGJ1cy0+b3BwX3RhYmxlID0gb3BwX3RhYmxl
Owo+ICsKPiAgICAgICAgIC8qCj4gICAgICAgICAgKiBHZXQgdGhlIGRldmZyZXEtZXZlbnQgZGV2
aWNlcyB0byBnZXQgdGhlIGN1cnJlbnQgdXRpbGl6YXRpb24gb2YKPiAgICAgICAgICAqIGJ1c2Vz
LiBUaGlzIHJhdyBkYXRhIHdpbGwgYmUgdXNlZCBpbiBkZXZmcmVxIG9uZGVtYW5kIGdvdmVybm9y
Lgo+IEBAIC0zMTMsMTQgKzI2MiwxMSBAQCBzdGF0aWMgaW50IGV4eW5vc19idXNfcGFyZW50X3Bh
cnNlX29mKHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAsCj4gICAgICAgICBpZiAob2ZfcHJvcGVydHlf
cmVhZF91MzIobnAsICJleHlub3Msc2F0dXJhdGlvbi1yYXRpbyIsICZidXMtPnJhdGlvKSkKPiAg
ICAgICAgICAgICAgICAgYnVzLT5yYXRpbyA9IERFRkFVTFRfU0FUVVJBVElPTl9SQVRJTzsKPgo+
IC0gICAgICAgaWYgKG9mX3Byb3BlcnR5X3JlYWRfdTMyKG5wLCAiZXh5bm9zLHZvbHRhZ2UtdG9s
ZXJhbmNlIiwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmJ1cy0+
dm9sdGFnZV90b2xlcmFuY2UpKQo+IC0gICAgICAgICAgICAgICBidXMtPnZvbHRhZ2VfdG9sZXJh
bmNlID0gREVGQVVMVF9WT0xUQUdFX1RPTEVSQU5DRTsKPiAtCj4gICAgICAgICByZXR1cm4gMDsK
Pgo+ICBlcnJfcmVndWxhdG9yOgo+IC0gICAgICAgcmVndWxhdG9yX2Rpc2FibGUoYnVzLT5yZWd1
bGF0b3IpOwo+ICsgICAgICAgZGV2X3BtX29wcF9wdXRfcmVndWxhdG9ycyhidXMtPm9wcF90YWJs
ZSk7Cj4gKyAgICAgICBidXMtPm9wcF90YWJsZSA9IE5VTEw7Cj4KPiAgICAgICAgIHJldHVybiBy
ZXQ7Cj4gIH0KPiBAQCAtNTExLDggKzQ1NywxMCBAQCBzdGF0aWMgaW50IGV4eW5vc19idXNfcHJv
YmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAgIGRldl9wbV9vcHBfb2Zf
cmVtb3ZlX3RhYmxlKGRldik7Cj4gICAgICAgICBjbGtfZGlzYWJsZV91bnByZXBhcmUoYnVzLT5j
bGspOwo+ICBlcnJfcmVnOgo+IC0gICAgICAgaWYgKCFwYXNzaXZlKQo+IC0gICAgICAgICAgICAg
ICByZWd1bGF0b3JfZGlzYWJsZShidXMtPnJlZ3VsYXRvcik7Cj4gKyAgICAgICBpZiAoIXBhc3Np
dmUpIHsKPiArICAgICAgICAgICAgICAgZGV2X3BtX29wcF9wdXRfcmVndWxhdG9ycyhidXMtPm9w
cF90YWJsZSk7Cj4gKyAgICAgICAgICAgICAgIGJ1cy0+b3BwX3RhYmxlID0gTlVMTDsKPiArICAg
ICAgIH0KPgo+ICAgICAgICAgcmV0dXJuIHJldDsKPiAgfQo+IC0tCj4gMi4yMi4wCj4KCgotLSAK
QmVzdCBSZWdhcmRzLApDaGFud29vIENob2kKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmxpbnV4LWFybS1rZXJuZWwgbWFpbGluZyBsaXN0CmxpbnV4LWFy
bS1rZXJuZWxAbGlzdHMuaW5mcmFkZWFkLm9yZwpodHRwOi8vbGlzdHMuaW5mcmFkZWFkLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL2xpbnV4LWFybS1rZXJuZWwK
